<div class="row">
	<div class="col-md-4">
		<div class="panel panel-success">
			<div class="panel-heading">
				<span class="glyphicon glyphicon-picture" aria-hidden="true"></span><h2 class="pull-right">Designs</h2>
			</div>
			<div class="panel-body">
				Hello 2
			</div>
		</div>
	</div>
	<div class="col-md-4">
		<div class="panel panel-warning">
			<div class="panel-heading">
				<span class="glyphicon glyphicon-user" aria-hidden="true"></span><h2 class="pull-right">Designers</h2>
			</div>
			<div class="panel-body">
				Hello 2
			</div>
		</div>
	</div>
	<div class="col-md-4">
		<div class="panel panel-danger">
			<div class="panel-heading">
				<span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span><h2 class="pull-right">Sales</h2>
			</div>
			<div class="panel-body">
				Hello 2
			</div>
		</div>
	</div>
</div>
<div class="row">
	
	<div class="col-md-6">
		<div class="col-md-4 margin-10">
			<a href="" data-toggle="modal" data-target="#crearColeccion" class="btn btn-warning">Crear nueva colección</a>
		</div>
		<div class="col-md-4 margin-10">
			<a href="" data-toggle="modal" data-target="#crearDisenador" class="btn btn-primary">Crear nuevo Diseñador</a>
		</div>
		<div class="col-md-4 margin-10">
			<a href="" data-toggle="modal" data-target="#crearTipoDeCase" class="btn btn-success">Crear nuevo Tipo de Case</a>
		</div>
	</div>
</div>

<div class="row">

	<h2>Nuestras colecciones</h2>
	<div class="table-responsive">
		<table class="table table-striped">
			<thead >
				<tr class="info">
					<th> ID </th>
					<th> Nombre </th>
					<th> # Productos </th>
					<th> # Diseñadores </th>
					<th> # Diseños </th>
					<th> # Ventas </th>
					<th> Otros </th>
				</tr>
			</thead>
			<tbody>

				<% @wholeCollections.each do |f|%>

				<tr>
					<td><%=f.id %></td>
					<td><%= f.name %></td>
					<td><%= f.products.count %></td>
					<td> <%= f.designs.group(:designer_id).count(:designer_id).length %></td>
					<td> <%= f.designs.count  %></td>
					<td> 234 </td>
					<td> <%= link_to "Ver detalle", admin_collection_path(f)  %><br><%= link_to "Editar", edit_admin_collection_path(f)  %> </td>
				</tr>
				<%end%>
			</tbody>

		</table>
	</div>
</div>

<div class="row">

	<h2>Nuestros diseñadores</h2>
	<div class="table-responsive">
		<table class="table table-striped">
			<thead >
				<tr class="info">

					<th> Nombre </th>
					<th> Apellidos </th>
					<th> # Diseños </th>
					<th> # Productos </th>
					<th> # Ventas </th>
					<th> Otros </th>
				</tr>
			</thead>
			<tbody>

				<% @wholeDesigners.each do |f|%>

				<tr>

					<td><%= f.name %></td>
					<td><%= f.lastname %></td>
					<td><%= f.designs.count %> </td>
					<td><%= f.products.count %></td>
					<td> 234 </td>
					<td> <%=link_to "Ver detalle", admin_designer_path(f) %><br><%= link_to "Editar", edit_admin_designer_path(f) %><br><%=link_to "Agregar diseño",  new_admin_designer_design_path(f) %><br><a href="">Pagar</a> 
					</td>
				</tr>
				<%end%>
			</tbody>

		</table>
	</div>


</div>
<div class="row">

	<h2>Nuestros diseños</h2>
	<div class="table-responsive">
		<table class="table table-striped">
			<thead >
				<tr class="info">

					<th> Nombre </th>
					<th> Imagen </th>
					<th> Diseñador </th>
					<th> Colección </th>
					<th> # Productos </th>
					<th> # Modelos</th>
					<th> Otros</th>
				</tr>
			</thead>
			<tbody>

				<% @designs.each do |f|%>

				<tr>

					<td><%= f.name %></td>
					<td><%=image_tag f.picture.url(:thumb), class: "minipics" %></td>
					<td><%= f.designer.name %> <%= f.designer.lastname %> </td>
					<td><%= f.collection.name %></td>
					<td><%= f.products.count %></td>
					<td>
						<strong>iPhone 4  - </strong><%= f.phonetypes.where("phonetype_id=1").count %>
						<br>
						<strong>iPhone 5  - </strong><%= f.phonetypes.where("phonetype_id=2 OR phonetype_id=3 OR phonetype_id=4").count %>
						<br>
						<strong>iPhone 6  - </strong><%= f.phonetypes.where("phonetype_id=5 OR phonetype_id=6 OR phonetype_id=7").count %>
						<br>
						<strong>iPhone 6 Plus  - </strong><%= f.phonetypes.where("phonetype_id=8").count %>
						<br>
						<strong>Galaxy S5  - </strong><%= f.phonetypes.where("phonetype_id=9").count %>
						<br>
						<strong>Moto G  - </strong><%= f.phonetypes.where("phonetype_id=10").count %>
					</td>
					<td><%=link_to "Ver", admin_designer_design_path(f.designer_id,f)%><br><%=link_to "Crear producto", new_admin_design_product_path(f.id)%></td>

				</tr>
				<%end%>
			</tbody>

		</table>
	</div>

	
</div>

<div class="modal fade" id="crearColeccion" >
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title">Crear nueva colección</h4>
			</div>
			<div class="modal-body">
				<%= bootstrap_form_for [:admin, @collection] do |f| %>

				<%= f.text_field :name, label:"Nombre", placeholder: "Elige el nombre de la colección", icon: "tag", autofocus: true %>


				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				<%= f.submit "Crear", class: "btn btn-success" %>

			</div>
			<%end%>
		</div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="modal fade" id="crearDisenador" >
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title">Crear nuevo Diseñador</h4>
			</div>
			<div class="modal-body">
				<%= bootstrap_form_for [:admin, @designer] , validate: true do |f| %>

				<div id="error_explanation"  style="display:none;"></div>

				<%= f.text_field :name, label:"Nombre", placeholder: "Nombre", autofocus: true %>
				<%= f.text_field :lastname, label:"Apellido", placeholder: "Apellido" %>


				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				<%= f.submit "Crear", class: "btn btn-success" %>

			</div>
			<%end%>
		</div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
</div><!-- /.modal -->
