/*!
 * jQuery JavaScript Library v1.12.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-02-22T19:07Z
 */
function toUnicode(t){var e=t.split("-").map(function(t){return parseInt(t,16)});return String.fromCodePoint.apply(null,e)}function findEmoji(t){for(var e=$.fn.emojiPicker.emojis,i=0;i<e.length;i++)if(e[i].shortcode==t)return e[i]}function rgb2hex(t){var e=t.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):t}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=ft.type(t);return"function"===i||ft.isWindow(t)?!1:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(ft.isFunction(e))return ft.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return ft.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(Et.test(e))return ft.filter(e,t,i);e=ft.filter(e,t)}return ft.grep(t,function(t){return ft.inArray(t,e)>-1!==i})}function r(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function o(t){var e={};return ft.each(t.match(Ft)||[],function(t,i){e[i]=!0}),e}function s(){nt.addEventListener?(nt.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a)):(nt.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(nt.addEventListener||"load"===t.event.type||"complete"===nt.readyState)&&(s(),ft.ready())}function c(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace(Nt,"-$1").toLowerCase();if(i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Rt.test(i)?ft.parseJSON(i):i}catch(r){}ft.data(t,e,i)}else i=void 0}return i}function l(t){var e;for(e in t)if(("data"!==e||!ft.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function h(t,e,i,n){if(Lt(t)){var r,o,s=ft.expando,a=t.nodeType,c=a?ft.cache:t,l=a?t[s]:t[s]&&s;if(l&&c[l]&&(n||c[l].data)||void 0!==i||"string"!=typeof e)return l||(l=a?t[s]=it.pop()||ft.guid++:s),c[l]||(c[l]=a?{}:{toJSON:ft.noop}),"object"!=typeof e&&"function"!=typeof e||(n?c[l]=ft.extend(c[l],e):c[l].data=ft.extend(c[l].data,e)),o=c[l],n||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[ft.camelCase(e)]=i),"string"==typeof e?(r=o[e],null==r&&(r=o[ft.camelCase(e)])):r=o,r}}function u(t,e,i){if(Lt(t)){var n,r,o=t.nodeType,s=o?ft.cache:t,a=o?t[ft.expando]:ft.expando;if(s[a]){if(e&&(n=i?s[a]:s[a].data)){ft.isArray(e)?e=e.concat(ft.map(e,ft.camelCase)):e in n?e=[e]:(e=ft.camelCase(e),e=e in n?[e]:e.split(" ")),r=e.length;for(;r--;)delete n[e[r]];if(i?!l(n):!ft.isEmptyObject(n))return}(i||(delete s[a].data,l(s[a])))&&(o?ft.cleanData([t],!0):ut.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}function d(t,e,i,n){var r,o=1,s=20,a=n?function(){return n.cur()}:function(){return ft.css(t,e,"")},c=a(),l=i&&i[3]||(ft.cssNumber[e]?"":"px"),h=(ft.cssNumber[e]||"px"!==l&&+c)&&Pt.exec(ft.css(t,e));if(h&&h[3]!==l){l=l||h[3],i=i||[],h=+c||1;do o=o||".5",h/=o,ft.style(t,e,h+l);while(o!==(o=a()/c)&&1!==o&&--s)}return i&&(h=+h||+c||0,r=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=h,n.end=r)),r}function f(t){var e=Yt.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function p(t,e){var i,n,r=0,o="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],i=t.childNodes||t;null!=(n=i[r]);r++)!e||ft.nodeName(n,e)?o.push(n):ft.merge(o,p(n,e));return void 0===e||e&&ft.nodeName(t,e)?ft.merge([t],o):o}function g(t,e){for(var i,n=0;null!=(i=t[n]);n++)ft._data(i,"globalEval",!e||ft._data(e[n],"globalEval"))}function m(t){Ht.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e,i,n,r){for(var o,s,a,c,l,h,u,d=t.length,y=f(e),v=[],b=0;d>b;b++)if(s=t[b],s||0===s)if("object"===ft.type(s))ft.merge(v,s.nodeType?[s]:s);else if(zt.test(s)){for(c=c||y.appendChild(e.createElement("div")),l=(Gt.exec(s)||["",""])[1].toLowerCase(),u=Xt[l]||Xt._default,c.innerHTML=u[1]+ft.htmlPrefilter(s)+u[2],o=u[0];o--;)c=c.lastChild;if(!ut.leadingWhitespace&&Ut.test(s)&&v.push(e.createTextNode(Ut.exec(s)[0])),!ut.tbody)for(s="table"!==l||Vt.test(s)?"<table>"!==u[1]||Vt.test(s)?0:c:c.firstChild,o=s&&s.childNodes.length;o--;)ft.nodeName(h=s.childNodes[o],"tbody")&&!h.childNodes.length&&s.removeChild(h);for(ft.merge(v,c.childNodes),c.textContent="";c.firstChild;)c.removeChild(c.firstChild);c=y.lastChild}else v.push(e.createTextNode(s));for(c&&y.removeChild(c),ut.appendChecked||ft.grep(p(v,"input"),m),b=0;s=v[b++];)if(n&&ft.inArray(s,n)>-1)r&&r.push(s);else if(a=ft.contains(s.ownerDocument,s),c=p(y.appendChild(s),"script"),a&&g(c),i)for(o=0;s=c[o++];)Wt.test(s.type||"")&&i.push(s);return c=null,y}function v(){return!0}function b(){return!1}function _(){try{return nt.activeElement}catch(t){}}function x(t,e,i,n,r,o){var s,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)x(t,a,i,n,e[a],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),r===!1)r=b;else if(!r)return t;return 1===o&&(s=r,r=function(t){return ft().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,r,n,i)})}function C(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function E(t){return t.type=(null!==ft.find.attr(t,"type"))+"/"+t.type,t}function S(t){var e=re.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function A(t,e){if(1===e.nodeType&&ft.hasData(t)){var i,n,r,o=ft._data(t),s=ft._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(i in a)for(n=0,r=a[i].length;r>n;n++)ft.event.add(e,i,a[i][n])}s.data&&(s.data=ft.extend({},s.data))}}function w(t,e){var i,n,r;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ut.noCloneEvent&&e[ft.expando]){r=ft._data(e);for(n in r.events)ft.removeEvent(e,n,r.handle);e.removeAttribute(ft.expando)}"script"===i&&e.text!==t.text?(E(e).text=t.text,S(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ut.html5Clone&&t.innerHTML&&!ft.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Ht.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}}function T(t,e,i,n){e=ot.apply([],e);var r,o,s,a,c,l,h=0,u=t.length,d=u-1,f=e[0],g=ft.isFunction(f);if(g||u>1&&"string"==typeof f&&!ut.checkClone&&ne.test(f))return t.each(function(r){var o=t.eq(r);g&&(e[0]=f.call(this,r,o.html())),T(o,e,i,n)});if(u&&(l=y(e,t[0].ownerDocument,!1,t,n),r=l.firstChild,1===l.childNodes.length&&(l=r),r||n)){for(a=ft.map(p(l,"script"),E),s=a.length;u>h;h++)o=l,h!==d&&(o=ft.clone(o,!0,!0),s&&ft.merge(a,p(o,"script"))),i.call(t[h],o,h);if(s)for(c=a[a.length-1].ownerDocument,ft.map(a,S),h=0;s>h;h++)o=a[h],Wt.test(o.type||"")&&!ft._data(o,"globalEval")&&ft.contains(c,o)&&(o.src?ft._evalUrl&&ft._evalUrl(o.src):ft.globalEval((o.text||o.textContent||o.innerHTML||"").replace(oe,"")));l=r=null}return t}function O(t,e,i){for(var n,r=e?ft.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||ft.cleanData(p(n)),n.parentNode&&(i&&ft.contains(n.ownerDocument,n)&&g(p(n,"script")),n.parentNode.removeChild(n));return t}function F(t,e){var i=ft(e.createElement(t)).appendTo(e.body),n=ft.css(i[0],"display");return i.detach(),n}function I(t){var e=nt,i=le[t];return i||(i=F(t,e),"none"!==i&&i||(ce=(ce||ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(ce[0].contentWindow||ce[0].contentDocument).document,e.write(),e.close(),i=F(t,e),ce.detach()),le[t]=i),i}function k(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function L(t){if(t in Se)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=Ee.length;i--;)if(t=Ee[i]+e,t in Se)return t}function R(t,e){for(var i,n,r,o=[],s=0,a=t.length;a>s;s++)n=t[s],n.style&&(o[s]=ft._data(n,"olddisplay"),i=n.style.display,e?(o[s]||"none"!==i||(n.style.display=""),""===n.style.display&&jt(n)&&(o[s]=ft._data(n,"olddisplay",I(n.nodeName)))):(r=jt(n),(i&&"none"!==i||!r)&&ft._data(n,"olddisplay",r?i:ft.css(n,"display"))));for(s=0;a>s;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[s]||"":"none"));return t}function N(t,e,i){var n=_e.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function D(t,e,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===i&&(s+=ft.css(t,i+Mt[o],!0,r)),n?("content"===i&&(s-=ft.css(t,"padding"+Mt[o],!0,r)),"margin"!==i&&(s-=ft.css(t,"border"+Mt[o]+"Width",!0,r))):(s+=ft.css(t,"padding"+Mt[o],!0,r),"padding"!==i&&(s+=ft.css(t,"border"+Mt[o]+"Width",!0,r)));return s}function P(e,i,n){var r=!0,o="width"===i?e.offsetWidth:e.offsetHeight,s=pe(e),a=ut.boxSizing&&"border-box"===ft.css(e,"boxSizing",!1,s);if(nt.msFullscreenElement&&t.top!==t&&e.getClientRects().length&&(o=Math.round(100*e.getBoundingClientRect()[i])),0>=o||null==o){if(o=ge(e,i,s),(0>o||null==o)&&(o=e.style[i]),ue.test(o))return o;r=a&&(ut.boxSizingReliable()||o===e.style[i]),o=parseFloat(o)||0}return o+D(e,i,n||(a?"border":"content"),r,s)+"px"}function M(t,e,i,n,r){return new M.prototype.init(t,e,i,n,r)}function j(){return t.setTimeout(function(){Ae=void 0}),Ae=ft.now()}function B(t,e){var i,n={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)i=Mt[r],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function H(t,e,i){for(var n,r=(U.tweeners[e]||[]).concat(U.tweeners["*"]),o=0,s=r.length;s>o;o++)if(n=r[o].call(i,e,t))return n}function G(t,e,i){var n,r,o,s,a,c,l,h,u=this,d={},f=t.style,p=t.nodeType&&jt(t),g=ft._data(t,"fxshow");i.queue||(a=ft._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,c=a.empty.fire,a.empty.fire=function(){a.unqueued||c()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,ft.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],l=ft.css(t,"display"),h="none"===l?ft._data(t,"olddisplay")||I(t.nodeName):l,"inline"===h&&"none"===ft.css(t,"float")&&(ut.inlineBlockNeedsLayout&&"inline"!==I(t.nodeName)?f.zoom=1:f.display="inline-block")),i.overflow&&(f.overflow="hidden",ut.shrinkWrapBlocks()||u.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(n in e)if(r=e[n],Te.exec(r)){if(delete e[n],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;p=!0}d[n]=g&&g[n]||ft.style(t,n)}else l=void 0;if(ft.isEmptyObject(d))"inline"===("none"===l?I(t.nodeName):l)&&(f.display=l);else{g?"hidden"in g&&(p=g.hidden):g=ft._data(t,"fxshow",{}),o&&(g.hidden=!p),p?ft(t).show():u.done(function(){ft(t).hide()}),u.done(function(){var e;ft._removeData(t,"fxshow");for(e in d)ft.style(t,e,d[e])});for(n in d)s=H(p?g[n]:0,n,u),n in g||(g[n]=s.start,p&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function W(t,e){var i,n,r,o,s;for(i in t)if(n=ft.camelCase(i),r=e[n],o=t[i],ft.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),s=ft.cssHooks[n],s&&"expand"in s){o=s.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function U(t,e,i){var n,r,o=0,s=U.prefilters.length,a=ft.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=Ae||j(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,o=1-n,s=0,c=l.tweens.length;c>s;s++)l.tweens[s].run(o);return a.notifyWith(t,[l,o,i]),1>o&&c?i:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:ft.extend({},e),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},i),originalProperties:e,originalOptions:i,startTime:Ae||j(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ft.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)l.tweens[i].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),h=l.props;for(W(h,l.opts.specialEasing);s>o;o++)if(n=U.prefilters[o].call(l,t,h,l.opts))return ft.isFunction(n.stop)&&(ft._queueHooks(l.elem,l.opts.queue).stop=ft.proxy(n.stop,n)),n;return ft.map(h,H,l),ft.isFunction(l.opts.start)&&l.opts.start.call(t,l),ft.fx.timer(ft.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function Y(t){return ft.attr(t,"class")||""}function X(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(Ft)||[];if(ft.isFunction(i))for(;n=o[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function z(t,e,i,n){function r(a){var c;return o[a]=!0,ft.each(t[a]||[],function(t,a){var l=a(e,i,n);return"string"!=typeof l||s||o[l]?s?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),c}var o={},s=t===Qe;return r(e.dataTypes[0])||!o["*"]&&r("*")}function V(t,e){var i,n,r=ft.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&ft.extend(!0,t,i),t}function q(t,e,i){for(var n,r,o,s,a=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){c.unshift(s);break}if(c[0]in i)o=c[0];else{for(s in i){if(!c[0]||t.converters[s+" "+c[0]]){o=s;break}n||(n=s)}o=o||n}return o?(o!==c[0]&&c.unshift(o),i[o]):void 0}function K(t,e,i,n){var r,o,s,a,c,l={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=h.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!c&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=h.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(s=l[c+" "+o]||l["* "+o],!s)for(r in l)if(a=r.split(" "),a[1]===o&&(s=l[c+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[r]:l[r]!==!0&&(o=a[0],h.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(u){return{state:"parsererror",error:s?u:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}function $(t){return t.style&&t.style.display||ft.css(t,"display")}function Q(t){for(;t&&1===t.nodeType;){if("none"===$(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function J(t,e,i,n){var r;if(ft.isArray(e))ft.each(e,function(e,r){i||ii.test(t)?n(t,r):J(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==ft.type(e))n(t,e);else for(r in e)J(t+"["+r+"]",e[r],i,n)}function Z(){try{return new t.XMLHttpRequest}catch(e){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function et(t){return ft.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var it=[],nt=t.document,rt=it.slice,ot=it.concat,st=it.push,at=it.indexOf,ct={},lt=ct.toString,ht=ct.hasOwnProperty,ut={},dt="1.12.1",ft=function(t,e){return new ft.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,mt=/-([\da-z])/gi,yt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:dt,constructor:ft,selector:"",length:0,toArray:function(){return rt.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:rt.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ft.each(this,t)},map:function(t){return this.pushStack(ft.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:it.sort,splice:it.splice},ft.extend=ft.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||ft.isFunction(s)||(s={}),a===c&&(s=this,a--);c>a;a++)if(null!=(r=arguments[a]))for(n in r)t=s[n],i=r[n],s!==i&&(l&&i&&(ft.isPlainObject(i)||(e=ft.isArray(i)))?(e?(e=!1,o=t&&ft.isArray(t)?t:[]):o=t&&ft.isPlainObject(t)?t:{},s[n]=ft.extend(l,o,i)):void 0!==i&&(s[n]=i));return s},ft.extend({expando:"jQuery"+(dt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray||function(t){return"array"===ft.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ft.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ft.type(t)||t.nodeType||ft.isWindow(t))return!1;try{if(t.constructor&&!ht.call(t,"constructor")&&!ht.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(!ut.ownFirst)for(e in t)return ht.call(t,e);for(e in t);return void 0===e||ht.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ct[lt.call(t)]||"object":typeof t},globalEval:function(e){e&&ft.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(gt,"ms-").replace(mt,yt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(i(t))for(n=t.length;n>r&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ft.merge(n,"string"==typeof t?[t]:t):st.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(at)return at.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;i>n;)t[r++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[r++]=e[n++];return t.length=r,t},grep:function(t,e,i){for(var n,r=[],o=0,s=t.length,a=!i;s>o;o++)n=!e(t[o],o),n!==a&&r.push(t[o]);return r},map:function(t,e,n){var r,o,s=0,a=[];if(i(t))for(r=t.length;r>s;s++)o=e(t[s],s,n),null!=o&&a.push(o);else for(s in t)o=e(t[s],s,n),null!=o&&a.push(o);return ot.apply([],a)},guid:1,proxy:function(t,e){var i,n,r;return"string"==typeof e&&(r=t[e],e=t,t=r),ft.isFunction(t)?(i=rt.call(arguments,2),n=function(){return t.apply(e||this,i.concat(rt.call(arguments)))},n.guid=t.guid=t.guid||ft.guid++,n):void 0},now:function(){return+new Date},support:ut}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=it[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ct["[object "+e+"]"]=e.toLowerCase()});var vt=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(t){function e(t,e,i,n){var r,o,s,a,c,l,u,f,p=e&&e.ownerDocument,g=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return i;if(!n&&((e?e.ownerDocument||e:H)!==L&&k(e),e=e||L,N)){if(11!==g&&(l=yt.exec(t)))if(r=l[1]){if(9===g){if(!(s=e.getElementById(r)))return i;if(s.id===r)return i.push(s),i}else if(p&&(s=p.getElementById(r))&&j(e,s)&&s.id===r)return i.push(s),i}else{if(l[2])return J.apply(i,e.getElementsByTagName(t)),i;if((r=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return J.apply(i,e.getElementsByClassName(r)),i}if(x.qsa&&!X[t+" "]&&(!D||!D.test(t))){if(1!==g)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=B),u=A(t),o=u.length,c=dt.test(a)?"#"+a:"[id='"+a+"']";o--;)u[o]=c+" "+d(u[o]);f=u.join(","),p=vt.test(t)&&h(e.parentNode)||e}if(f)try{return J.apply(i,p.querySelectorAll(f)),i}catch(m){}finally{a===B&&e.removeAttribute("id")}}}return T(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>C.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[B]=!0,t}function r(t){var e=L.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=i.length;n--;)C.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function c(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function l(t){return n(function(e){return e=+e,n(function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function u(){}function d(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function f(t,e,i){var n=e.dir,r=i&&"parentNode"===n,o=W++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,o)}:function(e,i,s){var a,c,l,h=[G,o];if(s){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||r){if(l=e[B]||(e[B]={}),c=l[e.uniqueID]||(l[e.uniqueID]={}),(a=c[n])&&a[0]===G&&a[1]===o)return h[2]=a[2];if(c[n]=h,h[2]=t(e,i,s))return!0}}}function p(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var r=0,o=i.length;o>r;r++)e(t,i[r],n);return n}function m(t,e,i,n,r){for(var o,s=[],a=0,c=t.length,l=null!=e;c>a;a++)(o=t[a])&&(i&&!i(o,n,r)||(s.push(o),l&&e.push(a)));return s}function y(t,e,i,r,o,s){return r&&!r[B]&&(r=y(r)),o&&!o[B]&&(o=y(o,s)),n(function(n,s,a,c){var l,h,u,d=[],f=[],p=s.length,y=n||g(e||"*",a.nodeType?[a]:a,[]),v=!t||!n&&e?y:m(y,d,t,a,c),b=i?o||(n?t:p||r)?[]:s:v;if(i&&i(v,b,a,c),r)for(l=m(b,f),r(l,[],a,c),h=l.length;h--;)(u=l[h])&&(b[f[h]]=!(v[f[h]]=u));if(n){if(o||t){if(o){for(l=[],h=b.length;h--;)(u=b[h])&&l.push(v[h]=u);o(null,b=[],l,c)}for(h=b.length;h--;)(u=b[h])&&(l=o?tt(n,u):d[h])>-1&&(n[l]=!(s[l]=u))}}else b=m(b===s?b.splice(p,b.length):b),o?o(null,s,b,c):J.apply(s,b)})}function v(t){for(var e,i,n,r=t.length,o=C.relative[t[0].type],s=o||C.relative[" "],a=o?1:0,c=f(function(t){return t===e},s,!0),l=f(function(t){return tt(e,t)>-1},s,!0),h=[function(t,i,n){var r=!o&&(n||i!==O)||((e=i).nodeType?c(t,i,n):l(t,i,n));return e=null,r}];r>a;a++)if(i=C.relative[t[a].type])h=[f(p(h),i)];else{if(i=C.filter[t[a].type].apply(null,t[a].matches),i[B]){for(n=++a;r>n&&!C.relative[t[n].type];n++);return y(a>1&&p(h),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,n>a&&v(t.slice(a,n)),r>n&&v(t=t.slice(n)),r>n&&d(t))}h.push(i)}return p(h)}function b(t,i){var r=i.length>0,o=t.length>0,s=function(n,s,a,c,l){var h,u,d,f=0,p="0",g=n&&[],y=[],v=O,b=n||o&&C.find.TAG("*",l),_=G+=null==v?1:Math.random()||.1,x=b.length;for(l&&(O=s===L||s||l);p!==x&&null!=(h=b[p]);p++){if(o&&h){for(u=0,s||h.ownerDocument===L||(k(h),a=!N);d=t[u++];)if(d(h,s||L,a)){c.push(h);break}l&&(G=_)}r&&((h=!d&&h)&&f--,n&&g.push(h))}if(f+=p,r&&p!==f){for(u=0;d=i[u++];)d(g,y,s,a);if(n){if(f>0)for(;p--;)g[p]||y[p]||(y[p]=$.call(c));y=m(y)}J.apply(c,y),l&&!n&&y.length>0&&f+i.length>1&&e.uniqueSort(c)}return l&&(G=_,O=v),g};return r?n(s):s}var _,x,C,E,S,A,w,T,O,F,I,k,L,R,N,D,P,M,j,B="sizzle"+1*new Date,H=t.document,G=0,W=0,U=i(),Y=i(),X=i(),z=function(t,e){return t===e&&(I=!0),0},V=1<<31,q={}.hasOwnProperty,K=[],$=K.pop,Q=K.push,J=K.push,Z=K.slice,tt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",ot=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ct=new RegExp("^"+it+"*,"+it+"*"),lt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ht=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ut=new RegExp(ot),dt=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,bt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),xt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Ct=function(){k()};try{J.apply(K=Z.call(H.childNodes),H.childNodes),K[H.childNodes.length].nodeType}catch(Et){J={apply:K.length?function(t,e){Q.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}x=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},k=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:H;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,R=L.documentElement,N=!S(L),(i=L.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",Ct,!1):i.attachEvent&&i.attachEvent("onunload",Ct)),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=mt.test(L.getElementsByClassName),x.getById=r(function(t){return R.appendChild(t).id=B,!L.getElementsByName||!L.getElementsByName(B).length}),x.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var i=e.getElementById(t);return i?[i]:[]}},C.filter.ID=function(t){var e=t.replace(_t,xt);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(_t,xt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),C.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},C.find.CLASS=x.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&N?e.getElementsByClassName(t):void 0},P=[],D=[],(x.qsa=mt.test(L.querySelectorAll))&&(r(function(t){R.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||D.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||D.push("~="),t.querySelectorAll(":checked").length||D.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||D.push(".#.+[+~]")}),r(function(t){var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&D.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),D.push(",.*:")})),(x.matchesSelector=mt.test(M=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&r(function(t){x.disconnectedMatch=M.call(t,"div"),M.call(t,"[s!='']:x"),P.push("!=",ot)}),D=D.length&&new RegExp(D.join("|")),P=P.length&&new RegExp(P.join("|")),e=mt.test(R.compareDocumentPosition),j=e||mt.test(R.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},z=e?function(t,e){if(t===e)return I=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!x.sortDetached&&e.compareDocumentPosition(t)===i?t===L||t.ownerDocument===H&&j(H,t)?-1:e===L||e.ownerDocument===H&&j(H,e)?1:F?tt(F,t)-tt(F,e):0:4&i?-1:1)}:function(t,e){if(t===e)return I=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,a=[t],c=[e];if(!r||!o)return t===L?-1:e===L?1:r?-1:o?1:F?tt(F,t)-tt(F,e):0;if(r===o)return s(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;a[n]===c[n];)n++;return n?s(a[n],c[n]):a[n]===H?-1:c[n]===H?1:0},L):L},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==L&&k(t),i=i.replace(ht,"='$1']"),x.matchesSelector&&N&&!X[i+" "]&&(!P||!P.test(i))&&(!D||!D.test(i)))try{var n=M.call(t,i);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(r){}return e(i,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&k(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&k(t);var i=C.attrHandle[e.toLowerCase()],n=i&&q.call(C.attrHandle,e.toLowerCase())?i(t,e,!N):void 0;return void 0!==n?n:x.attributes||!N?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(I=!x.detectDuplicates,F=!x.sortStable&&t.slice(0),t.sort(z),I){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return F=null,t},E=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=E(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=E(e);return i},C=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ut.test(i)&&(e=A(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:i?(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(st," ")+" ").indexOf(n)>-1:"|="===i?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,c){var l,h,u,d,f,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!c&&!a,b=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&v){for(d=m,u=d[B]||(d[B]={}),h=u[d.uniqueID]||(u[d.uniqueID]={}),l=h[t]||[],f=l[0]===G&&l[1],b=f&&l[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){h[t]=[G,f,b];break}}else if(v&&(d=e,u=d[B]||(d[B]={}),h=u[d.uniqueID]||(u[d.uniqueID]={}),l=h[t]||[],f=l[0]===G&&l[1],b=f),b===!1)for(;(d=++f&&d&&d[g]||(b=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++b||(v&&(u=d[B]||(d[B]={}),h=u[d.uniqueID]||(u[d.uniqueID]={}),h[t]=[G,b]),d!==e)););return b-=r,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(t,i){var r,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(i):o.length>1?(r=[t,t,"",i],C.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=o(t,i),s=r.length;s--;)n=tt(t,r[s]),t[n]=!(e[n]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:n(function(t){var e=[],i=[],r=w(t.replace(at,"$1"));return r[B]?n(function(t,e,i,n){for(var o,s=r(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(_t,xt),function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:n(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,xt).toLowerCase(),function(e){var i;do if(i=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===R},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,i){return[0>i?i+e:i]}),even:l(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:l(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:l(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:l(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},C.pseudos.nth=C.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})C.pseudos[_]=c(_);return u.prototype=C.filters=C.pseudos,C.setFilters=new u,A=e.tokenize=function(t,i){var n,r,o,s,a,c,l,h=Y[t+" "];if(h)return i?0:h.slice(0);for(a=t,c=[],l=C.preFilter;a;){n&&!(r=ct.exec(a))||(r&&(a=a.slice(r[0].length)||a),c.push(o=[])),n=!1,(r=lt.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(at," ")}),a=a.slice(n.length));for(s in C.filter)!(r=ft[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):Y(t,c).slice(0)},w=e.compile=function(t,e){var i,n=[],r=[],o=X[t+" "];if(!o){for(e||(e=A(t)),i=e.length;i--;)o=v(e[i]),o[B]?n.push(o):r.push(o);o=X(t,b(r,n)),o.selector=t}return o},T=e.select=function(t,e,i,n){var r,o,s,a,c,l="function"==typeof t&&t,u=!n&&A(t=l.selector||t);if(i=i||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&x.getById&&9===e.nodeType&&N&&C.relative[o[1].type]){if(e=(C.find.ID(s.matches[0].replace(_t,xt),e)||[])[0],!e)return i;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!C.relative[a=s.type]);)if((c=C.find[a])&&(n=c(s.matches[0].replace(_t,xt),vt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(r,1),t=n.length&&d(o),!t)return J.apply(i,n),i;break}}return(l||w(t,u))(n,e,!N,i,!e||vt.test(t)&&h(e.parentNode)||e),i},x.sortStable=B.split("").sort(z).join("")===B,x.detectDuplicates=!!I,k(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(L.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);ft.find=vt,ft.expr=vt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=vt.uniqueSort,ft.text=vt.getText,ft.isXMLDoc=vt.isXML,ft.contains=vt.contains;var bt=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ft(t).is(i))break;n.push(t)}return n},_t=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},xt=ft.expr.match.needsContext,Ct=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Et=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ft.find.matchesSelector(n,t)?[n]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,i=[],n=this,r=n.length;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;r>e;e++)if(ft.contains(n[e],this))return!0}));for(e=0;r>e;e++)ft.find(t,n[e],i);return i=this.pushStack(r>1?ft.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&xt.test(t)?ft(t):t||[],!1).length}});var St,At=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,wt=ft.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||St,"string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:At.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),Ct.test(n[1])&&ft.isPlainObject(e))for(n in e)ft.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(r=nt.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return St.find(t);this.length=1,this[0]=r}return this.context=nt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ft.isFunction(t)?"undefined"!=typeof i.ready?i.ready(t):t(ft):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ft.makeArray(t,this))};wt.prototype=ft.fn,St=ft(nt);var Tt=/^(?:parents|prev(?:Until|All))/,Ot={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e,i=ft(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(ft.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,r=this.length,o=[],s=xt.test(t)||"string"!=typeof t?ft(t,e||this.context):0;r>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&ft.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?ft.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ft.inArray(this[0],ft(t)):ft.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,i){return bt(t,"parentNode",i)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,i){return bt(t,"nextSibling",i)},prevUntil:function(t,e,i){return bt(t,"previousSibling",i)},siblings:function(t){return _t((t.parentNode||{}).firstChild,t)},children:function(t){return _t(t.firstChild)},contents:function(t){return ft.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ft.merge([],t.childNodes)}},function(t,e){ft.fn[t]=function(i,n){var r=ft.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=ft.filter(n,r)),this.length>1&&(Ot[t]||(r=ft.uniqueSort(r)),Tt.test(t)&&(r=r.reverse())),this.pushStack(r)}});var Ft=/\S+/g;ft.Callbacks=function(t){t="string"==typeof t?o(t):ft.extend({},t);var e,i,n,r,s=[],a=[],c=-1,l=function(){for(r=t.once,n=e=!0;a.length;c=-1)for(i=a.shift();++c<s.length;)s[c].apply(i[0],i[1])===!1&&t.stopOnFalse&&(c=s.length,i=!1);t.memory||(i=!1),e=!1,r&&(s=i?[]:"")},h={add:function(){return s&&(i&&!e&&(c=s.length-1,a.push(i)),function n(e){ft.each(e,function(e,i){ft.isFunction(i)?t.unique&&h.has(i)||s.push(i):i&&i.length&&"string"!==ft.type(i)&&n(i)})}(arguments),i&&!e&&l()),this},remove:function(){return ft.each(arguments,function(t,e){for(var i;(i=ft.inArray(e,s,i))>-1;)s.splice(i,1),c>=i&&c--}),this},has:function(t){return t?ft.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=!0,i||h.disable(),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},ft.extend({Deferred:function(t){var e=[["resolve","done",ft.Callbacks("once memory"),"resolved"],["reject","fail",ft.Callbacks("once memory"),"rejected"],["notify","progress",ft.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ft.Deferred(function(i){ft.each(e,function(e,o){var s=ft.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[o[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ft.extend(t,n):n}},r={};return n.pipe=n.then,ft.each(e,function(t,o){var s=o[2],a=o[3];n[o[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=s.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,o=rt.call(arguments),s=o.length,a=1!==s||t&&ft.isFunction(t.promise)?s:0,c=1===a?t:ft.Deferred(),l=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?rt.call(arguments):r,n===e?c.notifyWith(i,n):--a||c.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);s>r;r++)o[r]&&ft.isFunction(o[r].promise)?o[r].promise().progress(l(r,i,e)).done(l(r,n,o)).fail(c.reject):--a;return a||c.resolveWith(n,o),c.promise()}});var It;ft.fn.ready=function(t){return ft.ready.promise().done(t),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(t===!0?--ft.readyWait:ft.isReady)||(ft.isReady=!0,t!==!0&&--ft.readyWait>0||(It.resolveWith(nt,[ft]),ft.fn.triggerHandler&&(ft(nt).triggerHandler("ready"),ft(nt).off("ready"))))}}),ft.ready.promise=function(e){if(!It)if(It=ft.Deferred(),"complete"===nt.readyState||"loading"!==nt.readyState&&!nt.documentElement.doScroll)t.setTimeout(ft.ready);else if(nt.addEventListener)nt.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a);else{nt.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var i=!1;try{i=null==t.frameElement&&nt.documentElement}catch(n){}i&&i.doScroll&&!function r(){if(!ft.isReady){try{i.doScroll("left")}catch(e){return t.setTimeout(r,50)}s(),ft.ready()}}()}return It.promise(e)},ft.ready.promise();var kt;for(kt in ft(ut))break;ut.ownFirst="0"===kt,ut.inlineBlockNeedsLayout=!1,ft(function(){var t,e,i,n;i=nt.getElementsByTagName("body")[0],i&&i.style&&(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ut.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=nt.createElement("div");ut.deleteExpando=!0;try{delete t.test}catch(e){ut.deleteExpando=!1}t=null}();var Lt=function(t){var e=ft.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return 1!==i&&9!==i?!1:!e||e!==!0&&t.getAttribute("classid")===e},Rt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nt=/([A-Z])/g;ft.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ft.cache[t[ft.expando]]:t[ft.expando],!!t&&!l(t)},data:function(t,e,i){return h(t,e,i)},removeData:function(t,e){return u(t,e)},_data:function(t,e,i){return h(t,e,i,!0)},_removeData:function(t,e){return u(t,e,!0)}}),ft.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=ft.data(o),1===o.nodeType&&!ft._data(o,"parsedAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=ft.camelCase(n.slice(5)),c(o,n,r[n])));ft._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){ft.data(this,t)}):arguments.length>1?this.each(function(){ft.data(this,t,e)}):o?c(o,t,ft.data(o,t)):void 0},removeData:function(t){return this.each(function(){ft.removeData(this,t)})}}),ft.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=ft._data(t,e),i&&(!n||ft.isArray(i)?n=ft._data(t,e,ft.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=ft.queue(t,e),n=i.length,r=i.shift(),o=ft._queueHooks(t,e),s=function(){ft.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return ft._data(t,i)||ft._data(t,i,{empty:ft.Callbacks("once memory").add(function(){ft._removeData(t,e+"queue"),ft._removeData(t,i)})})}}),ft.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?ft.queue(this[0],t):void 0===e?this:this.each(function(){var i=ft.queue(this,t,e);ft._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&ft.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=ft.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)i=ft._data(o[s],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}}),function(){var t;ut.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return i=nt.getElementsByTagName("body")[0],i&&i.style?(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(nt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var Dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pt=new RegExp("^(?:([+-])=|)("+Dt+")([a-z%]*)$","i"),Mt=["Top","Right","Bottom","Left"],jt=function(t,e){return t=e||t,"none"===ft.css(t,"display")||!ft.contains(t.ownerDocument,t)},Bt=function(t,e,i,n,r,o,s){var a=0,c=t.length,l=null==i;if("object"===ft.type(i)){r=!0;for(a in i)Bt(t,e,a,i[a],!0,o,s)}else if(void 0!==n&&(r=!0,ft.isFunction(n)||(s=!0),l&&(s?(e.call(t,n),e=null):(l=e,e=function(t,e,i){return l.call(ft(t),i)})),e))for(;c>a;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:l?e.call(t):c?e(t[0],i):o},Ht=/^(?:checkbox|radio)$/i,Gt=/<([\w:-]+)/,Wt=/^$|\/(?:java|ecma)script/i,Ut=/^\s+/,Yt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=nt.createElement("div"),e=nt.createDocumentFragment(),i=nt.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ut.leadingWhitespace=3===t.firstChild.nodeType,ut.tbody=!t.getElementsByTagName("tbody").length,ut.htmlSerialize=!!t.getElementsByTagName("link").length,ut.html5Clone="<:nav></:nav>"!==nt.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,e.appendChild(i),ut.appendChecked=i.checked,t.innerHTML="<textarea>x</textarea>",ut.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),i=nt.createElement("input"),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),ut.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ut.noCloneEvent=!!t.addEventListener,t[ft.expando]=1,ut.attributes=!t.getAttribute(ft.expando)}();var Xt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ut.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Xt.optgroup=Xt.option,Xt.tbody=Xt.tfoot=Xt.colgroup=Xt.caption=Xt.thead,Xt.th=Xt.td;var zt=/<|&#?\w+;/,Vt=/<tbody/i;!function(){var e,i,n=nt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(ut[e]=i in t)||(n.setAttribute(i,"t"),ut[e]=n.attributes[i].expando===!1);n=null}();var qt=/^(?:input|select|textarea)$/i,Kt=/^key/,$t=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qt=/^(?:focusinfocus|focusoutblur)$/,Jt=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,i,n,r){var o,s,a,c,l,h,u,d,f,p,g,m=ft._data(t);if(m){for(i.handler&&(c=i,i=c.handler,r=c.selector),i.guid||(i.guid=ft.guid++),(s=m.events)||(s=m.events={}),(h=m.handle)||(h=m.handle=function(t){return"undefined"==typeof ft||t&&ft.event.triggered===t.type?void 0:ft.event.dispatch.apply(h.elem,arguments)},h.elem=t),e=(e||"").match(Ft)||[""],a=e.length;a--;)o=Jt.exec(e[a])||[],f=g=o[1],p=(o[2]||"").split(".").sort(),f&&(l=ft.event.special[f]||{},f=(r?l.delegateType:l.bindType)||f,l=ft.event.special[f]||{},u=ft.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,
selector:r,needsContext:r&&ft.expr.match.needsContext.test(r),namespace:p.join(".")},c),(d=s[f])||(d=s[f]=[],d.delegateCount=0,l.setup&&l.setup.call(t,n,p,h)!==!1||(t.addEventListener?t.addEventListener(f,h,!1):t.attachEvent&&t.attachEvent("on"+f,h))),l.add&&(l.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),ft.event.global[f]=!0);t=null}},remove:function(t,e,i,n,r){var o,s,a,c,l,h,u,d,f,p,g,m=ft.hasData(t)&&ft._data(t);if(m&&(h=m.events)){for(e=(e||"").match(Ft)||[""],l=e.length;l--;)if(a=Jt.exec(e[l])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(u=ft.event.special[f]||{},f=(n?u.delegateType:u.bindType)||f,d=h[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=o=d.length;o--;)s=d[o],!r&&g!==s.origType||i&&i.guid!==s.guid||a&&!a.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,u.remove&&u.remove.call(t,s));c&&!d.length&&(u.teardown&&u.teardown.call(t,p,m.handle)!==!1||ft.removeEvent(t,f,m.handle),delete h[f])}else for(f in h)ft.event.remove(t,f+e[l],i,n,!0);ft.isEmptyObject(h)&&(delete m.handle,ft._removeData(t,"events"))}},trigger:function(e,i,n,r){var o,s,a,c,l,h,u,d=[n||nt],f=ht.call(e,"type")?e.type:e,p=ht.call(e,"namespace")?e.namespace.split("."):[];if(a=h=n=n||nt,3!==n.nodeType&&8!==n.nodeType&&!Qt.test(f+ft.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),s=f.indexOf(":")<0&&"on"+f,e=e[ft.expando]?e:new ft.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:ft.makeArray(i,[e]),l=ft.event.special[f]||{},r||!l.trigger||l.trigger.apply(n,i)!==!1)){if(!r&&!l.noBubble&&!ft.isWindow(n)){for(c=l.delegateType||f,Qt.test(c+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),h=a;h===(n.ownerDocument||nt)&&d.push(h.defaultView||h.parentWindow||t)}for(u=0;(a=d[u++])&&!e.isPropagationStopped();)e.type=u>1?c:l.bindType||f,o=(ft._data(a,"events")||{})[e.type]&&ft._data(a,"handle"),o&&o.apply(a,i),o=s&&a[s],o&&o.apply&&Lt(a)&&(e.result=o.apply(a,i),e.result===!1&&e.preventDefault());if(e.type=f,!r&&!e.isDefaultPrevented()&&(!l._default||l._default.apply(d.pop(),i)===!1)&&Lt(n)&&s&&n[f]&&!ft.isWindow(n)){h=n[s],h&&(n[s]=null),ft.event.triggered=f;try{n[f]()}catch(g){}ft.event.triggered=void 0,h&&(n[s]=h)}return e.result}},dispatch:function(t){t=ft.event.fix(t);var e,i,n,r,o,s=[],a=rt.call(arguments),c=(ft._data(this,"events")||{})[t.type]||[],l=ft.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(s=ft.event.handlers.call(this,t,c),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,n=((ft.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,r,o,s=[],a=e.delegateCount,c=t.target;if(a&&c.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(n=[],i=0;a>i;i++)o=e[i],r=o.selector+" ",void 0===n[r]&&(n[r]=o.needsContext?ft(r,this).index(c)>-1:ft.find(r,this,null,[c]).length),n[r]&&n.push(o);n.length&&s.push({elem:c,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[ft.expando])return t;var e,i,n,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=$t.test(r)?this.mouseHooks:Kt.test(r)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new ft.Event(o),e=n.length;e--;)i=n[e],t[i]=o[i];return t.target||(t.target=o.srcElement||nt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||nt,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==_()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ft.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i){var n=ft.extend(new ft.Event,i,{type:t,isSimulated:!0});ft.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}},ft.removeEvent=nt.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)}:function(t,e,i){var n="on"+e;t.detachEvent&&("undefined"==typeof t[n]&&(t[n]=null),t.detachEvent(n,i))},ft.Event=function(t,e){return this instanceof ft.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?v:b):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),void(this[ft.expando]=!0)):new ft.Event(t,e)},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=v,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=v,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=v,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ft.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===n||ft.contains(n,r))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),ut.submit||(ft.event.special.submit={setup:function(){return ft.nodeName(this,"form")?!1:void ft.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=ft.nodeName(e,"input")||ft.nodeName(e,"button")?ft.prop(e,"form"):void 0;i&&!ft._data(i,"submit")&&(ft.event.add(i,"submit._submit",function(t){t._submitBubble=!0}),ft._data(i,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ft.event.simulate("submit",this.parentNode,t))},teardown:function(){return ft.nodeName(this,"form")?!1:void ft.event.remove(this,"._submit")}}),ut.change||(ft.event.special.change={setup:function(){return qt.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(ft.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),ft.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ft.event.simulate("change",this,t)})),!1):void ft.event.add(this,"beforeactivate._change",function(t){var e=t.target;qt.test(e.nodeName)&&!ft._data(e,"change")&&(ft.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ft.event.simulate("change",this.parentNode,t)}),ft._data(e,"change",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ft.event.remove(this,"._change"),!qt.test(this.nodeName)}}),ut.focusin||ft.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){ft.event.simulate(e,t.target,ft.event.fix(t))};ft.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=ft._data(n,e);r||n.addEventListener(t,i,!0),ft._data(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=ft._data(n,e)-1;r?ft._data(n,e,r):(n.removeEventListener(t,i,!0),ft._removeData(n,e))}}}),ft.fn.extend({on:function(t,e,i,n){return x(this,t,e,i,n)},one:function(t,e,i,n){return x(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,ft(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=b),this.each(function(){ft.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?ft.event.trigger(t,e,i,!0):void 0}});var Zt=/ jQuery\d+="(?:null|\d+)"/g,te=new RegExp("<(?:"+Yt+")[\\s/>]","i"),ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ie=/<script|<style|<link/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,re=/^true\/(.*)/,oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,se=f(nt),ae=se.appendChild(nt.createElement("div"));ft.extend({htmlPrefilter:function(t){return t.replace(ee,"<$1></$2>")},clone:function(t,e,i){var n,r,o,s,a,c=ft.contains(t.ownerDocument,t);if(ut.html5Clone||ft.isXMLDoc(t)||!te.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(ae.innerHTML=t.outerHTML,ae.removeChild(o=ae.firstChild)),!(ut.noCloneEvent&&ut.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(n=p(o),a=p(t),s=0;null!=(r=a[s]);++s)n[s]&&w(r,n[s]);if(e)if(i)for(a=a||p(t),n=n||p(o),s=0;null!=(r=a[s]);s++)A(r,n[s]);else A(t,o);return n=p(o,"script"),n.length>0&&g(n,!c&&p(t,"script")),n=a=r=null,o},cleanData:function(t,e){for(var i,n,r,o,s=0,a=ft.expando,c=ft.cache,l=ut.attributes,h=ft.event.special;null!=(i=t[s]);s++)if((e||Lt(i))&&(r=i[a],o=r&&c[r])){if(o.events)for(n in o.events)h[n]?ft.event.remove(i,n):ft.removeEvent(i,n,o.handle);c[r]&&(delete c[r],l||"undefined"==typeof i.removeAttribute?i[a]=void 0:i.removeAttribute(a),it.push(r))}}}),ft.fn.extend({domManip:T,detach:function(t){return O(this,t,!0)},remove:function(t){return O(this,t)},text:function(t){return Bt(this,function(t){return void 0===t?ft.text(this):this.empty().append((this[0]&&this[0].ownerDocument||nt).createTextNode(t))},null,t,arguments.length)},append:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.appendChild(t)}})},prepend:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ft.cleanData(p(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ft.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return Bt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Zt,""):void 0;if("string"==typeof t&&!ie.test(t)&&(ut.htmlSerialize||!te.test(t))&&(ut.leadingWhitespace||!Ut.test(t))&&!Xt[(Gt.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(ft.cleanData(p(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return T(this,arguments,function(e){var i=this.parentNode;ft.inArray(this,t)<0&&(ft.cleanData(p(this)),i&&i.replaceChild(e,this))},t)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ft.fn[t]=function(t){for(var i,n=0,r=[],o=ft(t),s=o.length-1;s>=n;n++)i=n===s?this:this.clone(!0),ft(o[n])[e](i),st.apply(r,i.get());return this.pushStack(r)}});var ce,le={HTML:"block",BODY:"block"},he=/^margin/,ue=new RegExp("^("+Dt+")(?!px)[a-z%]+$","i"),de=function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=s[o];return r},fe=nt.documentElement;!function(){function e(){var e,h,u=nt.documentElement;u.appendChild(c),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=r=a=!1,n=s=!0,t.getComputedStyle&&(h=t.getComputedStyle(l),i="1%"!==(h||{}).top,a="2px"===(h||{}).marginLeft,r="4px"===(h||{width:"4px"}).width,l.style.marginRight="50%",n="4px"===(h||{marginRight:"4px"}).marginRight,e=l.appendChild(nt.createElement("div")),e.style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",l.style.width="1px",s=!parseFloat((t.getComputedStyle(e)||{}).marginRight),l.removeChild(e)),l.style.display="none",o=0===l.getClientRects().length,o&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===e[0].offsetHeight,o&&(e[0].style.display="",e[1].style.display="none",o=0===e[0].offsetHeight)),u.removeChild(c)}var i,n,r,o,s,a,c=nt.createElement("div"),l=nt.createElement("div");l.style&&(l.style.cssText="float:left;opacity:.5",ut.opacity="0.5"===l.style.opacity,ut.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",ut.clearCloneStyle="content-box"===l.style.backgroundClip,c=nt.createElement("div"),c.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",c.appendChild(l),ut.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,ft.extend(ut,{reliableHiddenOffsets:function(){return null==i&&e(),o},boxSizingReliable:function(){return null==i&&e(),r},pixelMarginRight:function(){return null==i&&e(),n},pixelPosition:function(){return null==i&&e(),i},reliableMarginRight:function(){return null==i&&e(),s},reliableMarginLeft:function(){return null==i&&e(),a}}))}();var pe,ge,me=/^(top|right|bottom|left)$/;t.getComputedStyle?(pe=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},ge=function(t,e,i){var n,r,o,s,a=t.style;return i=i||pe(t),s=i?i.getPropertyValue(e)||i[e]:void 0,""!==s&&void 0!==s||ft.contains(t.ownerDocument,t)||(s=ft.style(t,e)),i&&!ut.pixelMarginRight()&&ue.test(s)&&he.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o),void 0===s?s:s+""}):fe.currentStyle&&(pe=function(t){return t.currentStyle},ge=function(t,e,i){var n,r,o,s,a=t.style;return i=i||pe(t),s=i?i[e]:void 0,null==s&&a&&a[e]&&(s=a[e]),ue.test(s)&&!me.test(e)&&(n=a.left,r=t.runtimeStyle,o=r&&r.left,o&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=n,o&&(r.left=o)),void 0===s?s:s+""||"auto"});var ye=/alpha\([^)]*\)/i,ve=/opacity\s*=\s*([^)]*)/i,be=/^(none|table(?!-c[ea]).+)/,_e=new RegExp("^("+Dt+")(.*)$","i"),xe={position:"absolute",visibility:"hidden",display:"block"},Ce={letterSpacing:"0",fontWeight:"400"},Ee=["Webkit","O","Moz","ms"],Se=nt.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ge(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ut.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ft.camelCase(e),c=t.style;if(e=ft.cssProps[a]||(ft.cssProps[a]=L(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:c[e];if(o=typeof i,"string"===o&&(r=Pt.exec(i))&&r[1]&&(i=d(t,e,r),o="number"),null!=i&&i===i&&("number"===o&&(i+=r&&r[3]||(ft.cssNumber[a]?"":"px")),ut.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),!(s&&"set"in s&&void 0===(i=s.set(t,i,n)))))try{c[e]=i}catch(l){}}},css:function(t,e,i,n){var r,o,s,a=ft.camelCase(e);return e=ft.cssProps[a]||(ft.cssProps[a]=L(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,i)),void 0===o&&(o=ge(t,e,n)),"normal"===o&&e in Ce&&(o=Ce[e]),""===i||i?(r=parseFloat(o),i===!0||isFinite(r)?r||0:o):o}}),ft.each(["height","width"],function(t,e){ft.cssHooks[e]={get:function(t,i,n){return i?be.test(ft.css(t,"display"))&&0===t.offsetWidth?de(t,xe,function(){return P(t,e,n)}):P(t,e,n):void 0},set:function(t,i,n){var r=n&&pe(t);return N(t,i,n?D(t,e,n,ut.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,r),r):0)}}}),ut.opacity||(ft.cssHooks.opacity={get:function(t,e){return ve.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,r=ft.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===ft.trim(o.replace(ye,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=ye.test(o)?o.replace(ye,r):o+" "+r)}}),ft.cssHooks.marginRight=k(ut.reliableMarginRight,function(t,e){return e?de(t,{display:"inline-block"},ge,[t,"marginRight"]):void 0}),ft.cssHooks.marginLeft=k(ut.reliableMarginLeft,function(t,e){return e?(parseFloat(ge(t,"marginLeft"))||(ft.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-de(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px":void 0}),ft.each({margin:"",padding:"",border:"Width"},function(t,e){ft.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];4>n;n++)r[t+Mt[n]+e]=o[n]||o[n-2]||o[0];return r}},he.test(t)||(ft.cssHooks[t+e].set=N)}),ft.fn.extend({css:function(t,e){return Bt(this,function(t,e,i){var n,r,o={},s=0;if(ft.isArray(e)){for(n=pe(t),r=e.length;r>s;s++)o[e[s]]=ft.css(t,e[s],!1,n);return o}return void 0!==i?ft.style(t,e,i):ft.css(t,e)},t,e,arguments.length>1)},show:function(){return R(this,!0)},hide:function(){return R(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){jt(this)?ft(this).show():ft(this).hide()})}}),ft.Tween=M,M.prototype={constructor:M,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(ft.cssNumber[i]?"":"px")},cur:function(){var t=M.propHooks[this.prop];return t&&t.get?t.get(this):M.propHooks._default.get(this)},run:function(t){var e,i=M.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=M.prototype.init,ft.fx.step={};var Ae,we,Te=/^(?:toggle|show|hide)$/,Oe=/queueHooks$/;ft.Animation=ft.extend(U,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return d(i.elem,t,Pt.exec(e),i),i}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(Ft);for(var i,n=0,r=t.length;r>n;n++)i=t[n],U.tweeners[i]=U.tweeners[i]||[],U.tweeners[i].unshift(e)},prefilters:[G],prefilter:function(t,e){e?U.prefilters.unshift(t):U.prefilters.push(t)}}),ft.speed=function(t,e,i){var n=t&&"object"==typeof t?ft.extend({},t):{complete:i||!i&&e||ft.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ft.isFunction(e)&&e};return n.duration=ft.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ft.fx.speeds?ft.fx.speeds[n.duration]:ft.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){ft.isFunction(n.old)&&n.old.call(this),n.queue&&ft.dequeue(this,n.queue)},n},ft.fn.extend({fadeTo:function(t,e,i,n){return this.filter(jt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=ft.isEmptyObject(t),o=ft.speed(e,i,n),s=function(){var e=U(this,ft.extend({},t),o);(r||ft._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ft.timers,s=ft._data(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&Oe.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||ft.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=ft._data(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=ft.timers,s=n?n.length:0;for(i.finish=!0,ft.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ft.each(["toggle","show","hide"],function(t,e){var i=ft.fn[e];ft.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(B(e,!0),t,n,r)}}),ft.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ft.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ft.timers=[],ft.fx.tick=function(){var t,e=ft.timers,i=0;for(Ae=ft.now();i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||ft.fx.stop(),Ae=void 0},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){we||(we=t.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){t.clearInterval(we),we=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(e,i){return e=ft.fx?ft.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}})},function(){var t,e=nt.createElement("input"),i=nt.createElement("div"),n=nt.createElement("select"),r=n.appendChild(nt.createElement("option"));i=nt.createElement("div"),i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=i.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),i.appendChild(e),t=i.getElementsByTagName("a")[0],t.style.cssText="top:1px",ut.getSetAttribute="t"!==i.className,ut.style=/top/.test(t.getAttribute("style")),ut.hrefNormalized="/a"===t.getAttribute("href"),ut.checkOn=!!e.value,ut.optSelected=r.selected,ut.enctype=!!nt.createElement("form").enctype,n.disabled=!0,ut.optDisabled=!r.disabled,e=nt.createElement("input"),e.setAttribute("value",""),ut.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ut.radioValue="t"===e.value}();var Fe=/\r/g;ft.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=ft.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,ft(this).val()):t,null==r?r="":"number"==typeof r?r+="":ft.isArray(r)&&(r=ft.map(r,function(t){return null==t?"":t+""})),e=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=ft.valHooks[r.type]||ft.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(Fe,""):null==i?"":i)}}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t))}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:n.length,c=0>r?a:o?r:0;a>c;c++)if(i=n[c],(i.selected||c===r)&&(ut.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!ft.nodeName(i.parentNode,"optgroup"))){if(e=ft(i).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=ft.makeArray(e),s=r.length;s--;)if(n=r[s],ft.inArray(ft.valHooks.option.get(n),o)>=0)try{n.selected=i=!0}catch(a){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),r}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){return ft.isArray(e)?t.checked=ft.inArray(ft(t).val(),e)>-1:void 0}},ut.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ie,ke,Le=ft.expr.attrHandle,Re=/^(?:checked|selected)$/i,Ne=ut.getSetAttribute,De=ut.input;ft.fn.extend({attr:function(t,e){return Bt(this,ft.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ft.prop(t,e,i):(1===o&&ft.isXMLDoc(t)||(e=e.toLowerCase(),r=ft.attrHooks[e]||(ft.expr.match.bool.test(e)?ke:Ie)),void 0!==i?null===i?void ft.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:(n=ft.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!ut.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,r=0,o=e&&e.match(Ft);if(o&&1===t.nodeType)for(;i=o[r++];)n=ft.propFix[i]||i,ft.expr.match.bool.test(i)?De&&Ne||!Re.test(i)?t[n]=!1:t[ft.camelCase("default-"+i)]=t[n]=!1:ft.attr(t,i,""),t.removeAttribute(Ne?i:n)}}),ke={set:function(t,e,i){return e===!1?ft.removeAttr(t,i):De&&Ne||!Re.test(i)?t.setAttribute(!Ne&&ft.propFix[i]||i,i):t[ft.camelCase("default-"+i)]=t[i]=!0,i}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Le[e]||ft.find.attr;De&&Ne||!Re.test(e)?Le[e]=function(t,e,n){var r,o;return n||(o=Le[e],Le[e]=r,r=null!=i(t,e,n)?e.toLowerCase():null,Le[e]=o),r}:Le[e]=function(t,e,i){return i?void 0:t[ft.camelCase("default-"+e)]?e.toLowerCase():null}}),De&&Ne||(ft.attrHooks.value={set:function(t,e,i){return ft.nodeName(t,"input")?void(t.defaultValue=e):Ie&&Ie.set(t,e,i)}}),Ne||(Ie={set:function(t,e,i){var n=t.getAttributeNode(i);return n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i)?e:void 0}},Le.id=Le.name=Le.coords=function(t,e,i){var n;return i?void 0:(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},ft.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:void 0},set:Ie.set},ft.attrHooks.contenteditable={set:function(t,e,i){Ie.set(t,""===e?!1:e,i)}},ft.each(["width","height"],function(t,e){ft.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),ut.style||(ft.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Pe=/^(?:input|select|textarea|button|object)$/i,Me=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return Bt(this,ft.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ft.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),ft.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,r=ft.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):Pe.test(t.nodeName)||Me.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ut.hrefNormalized||ft.each(["href","src"],function(t,e){ft.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ut.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this}),ut.enctype||(ft.propFix.enctype="encoding");var je=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(t){var e,i,n,r,o,s,a,c=0;if(ft.isFunction(t))return this.each(function(e){ft(this).addClass(t.call(this,e,Y(this)))});if("string"==typeof t&&t)for(e=t.match(Ft)||[];i=this[c++];)if(r=Y(i),n=1===i.nodeType&&(" "+r+" ").replace(je," ")){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=ft.trim(n),r!==a&&ft.attr(i,"class",a)}return this},removeClass:function(t){var e,i,n,r,o,s,a,c=0;if(ft.isFunction(t))return this.each(function(e){ft(this).removeClass(t.call(this,e,Y(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Ft)||[];i=this[c++];)if(r=Y(i),n=1===i.nodeType&&(" "+r+" ").replace(je," ")){for(s=0;o=e[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");a=ft.trim(n),r!==a&&ft.attr(i,"class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):ft.isFunction(t)?this.each(function(i){ft(this).toggleClass(t.call(this,i,Y(this),e),e)}):this.each(function(){var e,n,r,o;if("string"===i)for(n=0,r=ft(this),o=t.match(Ft)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||(e=Y(this),e&&ft._data(this,"__className__",e),ft.attr(this,"class",e||t===!1?"":ft._data(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+Y(i)+" ").replace(je," ").indexOf(e)>-1)return!0;return!1}}),ft.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ft.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Be=t.location,He=ft.now(),Ge=/\?/,We=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ft.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,r=ft.trim(e+"");return r&&!ft.trim(r.replace(We,function(t,e,r,o){return i&&e&&(n=0),0===n?t:(i=r||e,n+=!o-!r,"")}))?Function("return "+r)():ft.error("Invalid JSON: "+e)},ft.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new t.DOMParser,i=n.parseFromString(e,"text/xml")):(i=new t.ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(r){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+e),i};var Ue=/#.*$/,Ye=/([?&])_=[^&]*/,Xe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ze=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ve=/^(?:GET|HEAD)$/,qe=/^\/\//,Ke=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$e={},Qe={},Je="*/".concat("*"),Ze=Be.href,ti=Ke.exec(Ze.toLowerCase())||[];
ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ze,type:"GET",isLocal:ze.test(ti[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ft.parseJSON,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?V(V(t,ft.ajaxSettings),e):V(ft.ajaxSettings,t)},ajaxPrefilter:X($e),ajaxTransport:X(Qe),ajax:function(e,i){function n(e,i,n,r){var o,u,v,b,x,E=i;2!==_&&(_=2,c&&t.clearTimeout(c),h=void 0,a=r||"",C.readyState=e>0?4:0,o=e>=200&&300>e||304===e,n&&(b=q(d,C,n)),b=K(d,b,C,o),o?(d.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(ft.lastModified[s]=x),x=C.getResponseHeader("etag"),x&&(ft.etag[s]=x)),204===e||"HEAD"===d.type?E="nocontent":304===e?E="notmodified":(E=b.state,u=b.data,v=b.error,o=!v)):(v=E,!e&&E||(E="error",0>e&&(e=0))),C.status=e,C.statusText=(i||E)+"",o?g.resolveWith(f,[u,E,C]):g.rejectWith(f,[C,E,v]),C.statusCode(y),y=void 0,l&&p.trigger(o?"ajaxSuccess":"ajaxError",[C,d,o?u:v]),m.fireWith(f,[C,E]),l&&(p.trigger("ajaxComplete",[C,d]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var r,o,s,a,c,l,h,u,d=ft.ajaxSetup({},i),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?ft(f):ft.event,g=ft.Deferred(),m=ft.Callbacks("once memory"),y=d.statusCode||{},v={},b={},_=0,x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!u)for(u={};e=Xe.exec(a);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?a:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return _||(t=b[i]=b[i]||t,v[t]=e),this},overrideMimeType:function(t){return _||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>_)for(e in t)y[e]=[y[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||x;return h&&h.abort(e),n(0,e),this}};if(g.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,d.url=((e||d.url||Ze)+"").replace(Ue,"").replace(qe,ti[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=ft.trim(d.dataType||"*").toLowerCase().match(Ft)||[""],null==d.crossDomain&&(r=Ke.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===ti[1]&&r[2]===ti[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(ti[3]||("http:"===ti[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ft.param(d.data,d.traditional)),z($e,d,i,C),2===_)return C;l=ft.event&&d.global,l&&0===ft.active++&&ft.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ve.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(Ge.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Ye.test(s)?s.replace(Ye,"$1_="+He++):s+(Ge.test(s)?"&":"?")+"_="+He++)),d.ifModified&&(ft.lastModified[s]&&C.setRequestHeader("If-Modified-Since",ft.lastModified[s]),ft.etag[s]&&C.setRequestHeader("If-None-Match",ft.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Je+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)C.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(f,C,d)===!1||2===_))return C.abort();x="abort";for(o in{success:1,error:1,complete:1})C[o](d[o]);if(h=z(Qe,d,i,C)){if(C.readyState=1,l&&p.trigger("ajaxSend",[C,d]),2===_)return C;d.async&&d.timeout>0&&(c=t.setTimeout(function(){C.abort("timeout")},d.timeout));try{_=1,h.send(v,n)}catch(E){if(!(2>_))throw E;n(-1,E)}}else n(-1,"No Transport");return C},getJSON:function(t,e,i){return ft.get(t,e,i,"json")},getScript:function(t,e){return ft.get(t,void 0,e,"script")}}),ft.each(["get","post"],function(t,e){ft[e]=function(t,i,n,r){return ft.isFunction(i)&&(r=r||n,n=i,i=void 0),ft.ajax(ft.extend({url:t,type:e,dataType:r,data:i,success:n},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ft.fn.extend({wrapAll:function(t){if(ft.isFunction(t))return this.each(function(e){ft(this).wrapAll(t.call(this,e))});if(this[0]){var e=ft(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ft.isFunction(t)?this.each(function(e){ft(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ft(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ft.isFunction(t);return this.each(function(i){ft(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){ft.nodeName(this,"body")||ft(this).replaceWith(this.childNodes)}).end()}}),ft.expr.filters.hidden=function(t){return ut.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Q(t)},ft.expr.filters.visible=function(t){return!ft.expr.filters.hidden(t)};var ei=/%20/g,ii=/\[\]$/,ni=/\r?\n/g,ri=/^(?:submit|button|image|reset|file)$/i,oi=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var i,n=[],r=function(t,e){e=ft.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ft.ajaxSettings&&ft.ajaxSettings.traditional),ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){r(this.name,this.value)});else for(i in t)J(i,t[i],e,r);return n.join("&").replace(ei,"+")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&oi.test(this.nodeName)&&!ri.test(t)&&(this.checked||!Ht.test(t))}).map(function(t,e){var i=ft(this).val();return null==i?null:ft.isArray(i)?ft.map(i,function(t){return{name:e.name,value:t.replace(ni,"\r\n")}}):{name:e.name,value:i.replace(ni,"\r\n")}}).get()}}),ft.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return this.isLocal?tt():nt.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||tt()}:Z;var si=0,ai={},ci=ft.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in ai)ai[t](void 0,!0)}),ut.cors=!!ci&&"withCredentials"in ci,ci=ut.ajax=!!ci,ci&&ft.ajaxTransport(function(e){if(!e.crossDomain||ut.cors){var i;return{send:function(n,r){var o,s=e.xhr(),a=++si;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&s.setRequestHeader(o,n[o]+"");s.send(e.hasContent&&e.data||null),i=function(t,n){var o,c,l;if(i&&(n||4===s.readyState))if(delete ai[a],i=void 0,s.onreadystatechange=ft.noop,n)4!==s.readyState&&s.abort();else{l={},o=s.status,"string"==typeof s.responseText&&(l.text=s.responseText);try{c=s.statusText}catch(h){c=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=l.text?200:404}l&&r(o,c,l,s.getAllResponseHeaders())},e.async?4===s.readyState?t.setTimeout(i):s.onreadystatechange=ai[a]=i:i()},abort:function(){i&&i(void 0,!0)}}}}),ft.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ft.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=nt.head||ft("head")[0]||nt.documentElement;return{send:function(n,r){e=nt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||r(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var li=[],hi=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=li.pop()||ft.expando+"_"+He++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(e,i,n){var r,o,s,a=e.jsonp!==!1&&(hi.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&hi.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=ft.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(hi,"$1"+r):e.jsonp!==!1&&(e.url+=(Ge.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ft.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},n.always(function(){void 0===o?ft(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,li.push(r)),s&&ft.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),ut.createHTMLDocument=function(){if(!nt.implementation.createHTMLDocument)return!1;var t=nt.implementation.createHTMLDocument("");return t.body.innerHTML="<form></form><form></form>",2===t.body.childNodes.length}(),ft.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||(ut.createHTMLDocument?nt.implementation.createHTMLDocument(""):nt);var n=Ct.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=y([t],e,r),r&&r.length&&ft(r).remove(),ft.merge([],n.childNodes))};var ui=ft.fn.load;ft.fn.load=function(t,e,i){if("string"!=typeof t&&ui)return ui.apply(this,arguments);var n,r,o,s=this,a=t.indexOf(" ");return a>-1&&(n=ft.trim(t.slice(a,t.length)),t=t.slice(0,a)),ft.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ft.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?ft("<div>").append(ft.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(s,o||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.filters.animated=function(t){return ft.grep(ft.timers,function(e){return t===e.elem}).length},ft.offset={setOffset:function(t,e,i){var n,r,o,s,a,c,l,h=ft.css(t,"position"),u=ft(t),d={};"static"===h&&(t.style.position="relative"),a=u.offset(),o=ft.css(t,"top"),c=ft.css(t,"left"),l=("absolute"===h||"fixed"===h)&&ft.inArray("auto",[o,c])>-1,l?(n=u.position(),s=n.top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(c)||0),ft.isFunction(e)&&(e=e.call(t,i,ft.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):u.css(d)}},ft.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ft.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return e=o.documentElement,ft.contains(e,r)?("undefined"!=typeof r.getBoundingClientRect&&(n=r.getBoundingClientRect()),i=et(o),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===ft.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(i=t.offset()),i.top+=ft.css(t[0],"borderTopWidth",!0),i.left+=ft.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ft.css(n,"marginTop",!0),left:e.left-i.left-ft.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!ft.nodeName(t,"html")&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||fe})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);ft.fn[t]=function(n){return Bt(this,function(t,n,r){var o=et(t);return void 0===r?o?e in o?o[e]:o.document.documentElement[n]:t[n]:void(o?o.scrollTo(i?ft(o).scrollLeft():r,i?r:ft(o).scrollTop()):t[n]=r)},t,n,arguments.length,null)}}),ft.each(["top","left"],function(t,e){ft.cssHooks[e]=k(ut.pixelPosition,function(t,i){return i?(i=ge(t,e),ue.test(i)?ft(t).position()[e]+"px":i):void 0})}),ft.each({Height:"height",Width:"width"},function(t,e){ft.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){ft.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),s=i||(n===!0||r===!0?"margin":"border");return Bt(this,function(e,i,n){var r;return ft.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?ft.css(e,i,s):ft.style(e,i,n,s)},e,o?n:void 0,o,null)}})}),ft.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),ft.fn.size=function(){return this.length},ft.fn.andSelf=ft.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var di=t.jQuery,fi=t.$;return ft.noConflict=function(e){return t.$===ft&&(t.$=fi),e&&t.jQuery===ft&&(t.jQuery=di),ft},e||(t.jQuery=t.$=ft),ft}),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=i.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(e,i,n){var r=t.Event(i);return e.trigger(r,n),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(n){var r,o,s,a,c,l;if(i.fire(n,"ajax:before")){if(a=n.data("with-credentials")||null,c=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){r=n.data("ujs:submit-button-formmethod")||n.attr("method"),o=n.data("ujs:submit-button-formaction")||n.attr("action"),s=t(n[0]).serializeArray();var h=n.data("ujs:submit-button");h&&(s.push(h),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(i.inputChangeSelector)?(r=n.data("method"),o=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(r=n.data("method")||"get",o=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(r=n.data("method"),o=i.href(n),s=n.data("params")||null);return l={type:r||"GET",data:s,dataType:c,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(n,"ajax:beforeSend",[t,r])?void n.trigger("ajax:send",t):!1},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(o)},a&&(l.xhrFields={withCredentials:a}),o&&(l.url=o),i.ajax(l)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(n){var r=i.href(n),o=n.data("method"),s=n.attr("target"),a=i.csrfToken(),c=i.csrfParam(),l=t('<form method="post" action="'+r+'"></form>'),h='<input name="_method" value="'+o+'" type="hidden" />';c===e||a===e||i.isCrossDomain(r)||(h+='<input name="'+c+'" value="'+a+'" type="hidden" />'),s&&l.attr("target",s),l.hide().append(h).appendTo("body"),l.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),n!==e&&(t.data("ujs:enable-with",t[i]()),t[i](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var i=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[i](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),r=!1;if(!n)return!0;if(i.fire(t,"confirm")){try{r=i.confirm(n)}catch(o){(console.error||console.log).call(console,o.stack||o)}e=i.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(e,i,n){var r,o,s,a,c=t(),l=i||"input,textarea",h=e.find(l),u={};return h.each(function(){r=t(this),r.is("input[type=radio]")?(a=r.attr("name"),u[a]||(0===e.find('input[type=radio]:checked[name="'+a+'"]').length&&(s=e.find('input[type=radio][name="'+a+'"]'),c=c.add(s)),u[a]=a)):(o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val(),o===n&&(c=c.add(r)))}),c.length?c:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");n!==e&&(t.data("ujs:enable-with",t.html()),t.html(n)),t.bind("click.railsDisable",function(t){return i.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(e){var n=t(this),r=n.data("method"),o=n.data("params"),s=e.metaKey||e.ctrlKey;if(!i.allowAction(n))return i.stopEverything(e);if(!s&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(s&&(!r||"GET"===r)&&!o)return!0;var a=i.handleRemote(n);return a===!1?i.enableElement(n):a.fail(function(){i.enableElement(n)}),!1}return r?(i.handleMethod(n),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var r=i.handleRemote(n);return r===!1?i.enableFormElement(n):r.fail(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var r,o,s=t(this),a=i.isRemote(s);if(!i.allowAction(s))return i.stopEverything(n);if(s.attr("novalidate")===e)if(s.data("ujs:formnovalidate-button")===e){if(r=i.blankInputs(s,i.requiredInputSelector,!1),r&&i.fire(s,"ajax:aborted:required",[r]))return i.stopEverything(n)}else s.data("ujs:formnovalidate-button",e);if(a){if(o=i.nonBlankInputs(s,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(s)},13);var c=i.fire(s,"ajax:aborted:file",[o]);return c||setTimeout(function(){i.enableFormElements(s)},13),c}return i.handleRemote(s),!1}setTimeout(function(){i.disableFormElements(s)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var r=n.attr("name"),o=r?{name:r,value:n.val()}:null,s=n.closest("form");0===s.length&&(s=t("#"+n.attr("form"))),s.data("ujs:submit-button",o),s.data("ujs:formnovalidate-button",n.attr("formnovalidate")),s.data("ujs:submit-button-formaction",n.attr("formaction")),s.data("ujs:submit-button-formmethod",n.attr("formmethod"))}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(e){this===e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this===e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),/*
jQuery.Turbolinks ~ https://github.com/kossnocorp/jquery.turbolinks
jQuery plugin for drop-in fix binded events problem caused by Turbolinks

The MIT License
Copyright (c) 2012-2013 Sasha Koss & Rico Sta. Cruz
 */
function(){var t,e;t=window.jQuery||("function"==typeof require?require("jquery"):void 0),e=t(document),t.turbo={version:"2.1.0",isReady:!1,use:function(t,i){return e.off(".turbo").on(""+t+".turbo",this.onLoad).on(""+i+".turbo",this.onFetch)},addCallback:function(i){return t.turbo.isReady&&i(t),e.on("turbo:ready",function(){return i(t)})},onLoad:function(){return t.turbo.isReady=!0,e.trigger("turbo:ready")},onFetch:function(){return t.turbo.isReady=!1},register:function(){return t(this.onLoad),t.fn.ready=this.addCallback}},t.turbo.register(),t.turbo.use("page:load","page:fetch")}.call(this),function(){var t,e,i,n,r,o,s,a,c,l,h,u,d,f,p,g,m,y,v,b,_,x,C,E,S,A,w,T,O,F,I,k,L,R,N,D,P,M,j,B,H,G,W,U,Y,X,z,V,q,K,$,Q,J,Z,tt,et,it=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},nt=function(t,e){function i(){this.constructor=t}for(var n in e)rt.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},rt={}.hasOwnProperty,ot=[].slice,st=function(t,e){return function(){return t.apply(e,arguments)}};R={},d=10,Q=!1,j=null,v=null,k=null,G=null,et=null,n={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},E=function(t){var e;return t=new i(t),z(),u(),null!=j&&j.start(),Q&&(e=J(t.absolute))?(S(e),A(t,null,!1)):A(t,K)},J=function(t){var e;return e=R[t],e&&!e.transitionCacheDisabled?e:void 0},_=function(t){return null==t&&(t=!0),Q=t},b=function(t){return null==t&&(t=!0),l?t?null!=j?j:j=new o("html"):(null!=j&&j.uninstall(),j=null):void 0},A=function(t,e,i){return null==i&&(i=!0),Z(n.FETCH,{url:t.absolute}),null!=et&&et.abort(),et=new XMLHttpRequest,et.open("GET",t.withoutHashForIE10compatibility(),!0),et.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),et.setRequestHeader("X-XHR-Referer",G),et.onload=function(){var i;return Z(n.RECEIVE,{url:t.absolute}),(i=M())?(W(t),U(),f.apply(null,C(i)),L(),"function"==typeof e&&e(),Z(n.LOAD)):document.location.href=y()||t.absolute},j&&i&&(et.onprogress=function(){return function(t){var e;return e=t.lengthComputable?t.loaded/t.total*100:j.value+(100-j.value)/10,j.advanceTo(e)}}(this)),et.onloadend=function(){return et=null},et.onerror=function(){return document.location.href=t.absolute},et.send()},S=function(t){return null!=et&&et.abort(),f(t.title,t.body),B(t),Z(n.RESTORE)},u=function(){var t;return t=new i(v.url),R[t.absolute]={url:t.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},g(d)},D=function(t){return null==t&&(t=d),/^[\d]+$/.test(t)?d=parseInt(t):void 0},g=function(t){var e,i,r,o,s,a;for(s=Object.keys(R),e=s.map(function(t){return R[t].cachedAt}).sort(function(t,e){return e-t}),a=[],i=0,o=s.length;o>i;i++)r=s[i],R[r].cachedAt<=e[t]&&(Z(n.EXPIRE,R[r]),a.push(delete R[r]));return a},f=function(e,i,r,o){return Z(n.BEFORE_UNLOAD),document.title=e,document.documentElement.replaceChild(i,document.body),null!=r&&t.update(r),$(),o&&x(),v=window.history.state,null!=j&&j.done(),Z(n.CHANGE),Z(n.UPDATE)},x=function(){var t,e,i,n,r,o,s,a,c,l,h,u;for(u=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),i=0,r=u.length;r>i;i++)if(h=u[i],""===(c=h.type)||"text/javascript"===c){for(e=document.createElement("script"),l=h.attributes,n=0,o=l.length;o>n;n++)t=l[n],e.setAttribute(t.name,t.value);h.hasAttribute("async")||(e.async=!1),e.appendChild(document.createTextNode(h.innerHTML)),a=h.parentNode,s=h.nextSibling,a.removeChild(h),a.insertBefore(e,s)}},V=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},$=function(){var t,e;return t=(e=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[e.length-1],t&&document.activeElement!==t?t.focus():void 0},W=function(t){return(t=new i(t)).absolute!==G?window.history.pushState({turbolinks:!0,url:t.absolute},"",t.absolute):void 0},U=function(){var t,e;return(t=et.getResponseHeader("X-XHR-Redirected-To"))?(t=new i(t),e=t.hasNoHash()?document.location.hash:"",window.history.replaceState(window.history.state,"",t.href+e)):void 0},y=function(){var t;return null!=(t=et.getResponseHeader("Location"))&&new i(t).crossOrigin()?t:void 0},z=function(){return G=document.location.href},X=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},Y=function(){return v=window.history.state},L=function(){var t;return navigator.userAgent.match(/Firefox/)&&!(t=new i).hasNoHash()?(window.history.replaceState(v,"",t.withoutHash()),document.location.hash=t.hash):void 0},B=function(t){return window.scrollTo(t.positionX,t.positionY)},K=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},p=function(t){var e,i,n;if(null==t||"object"!=typeof t)return t;e=new t.constructor;for(i in t)n=t[i],e[i]=p(n);return e},P=function(t){var e,i;return i=(null!=(e=document.cookie.match(new RegExp(t+"=(\\w+)")))?e[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",i},Z=function(t,e){var i;return"undefined"!=typeof Prototype&&Event.fire(document,t,e,!0),i=document.createEvent("Events"),e&&(i.data=e),i.initEvent(t,!0,!0),document.dispatchEvent(i)},N=function(t){return!Z(n.BEFORE_CHANGE,{url:t})},M=function(){var t,e,i,n,r,o;return e=function(){var t;return 400<=(t=et.status)&&600>t},o=function(){var t;return null!=(t=et.getResponseHeader("Content-Type"))&&t.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},n=function(t){var e,i,n,r,o;for(r=t.querySelector("head").childNodes,o=[],e=0,i=r.length;i>e;e++)n=r[e],null!=("function"==typeof n.getAttribute?n.getAttribute("data-turbolinks-track"):void 0)&&o.push(n.getAttribute("src")||n.getAttribute("href"));return o},t=function(t){var e;return k||(k=n(document)),e=n(t),e.length!==k.length||r(e,k).length!==k.length},r=function(t,e){var i,n,r,o,s;for(t.length>e.length&&(r=[e,t],t=r[0],e=r[1]),o=[],i=0,n=t.length;n>i;i++)s=t[i],it.call(e,s)>=0&&o.push(s);return o},!e()&&o()&&(i=m(et.responseText),i&&!t(i))?i:void 0},C=function(e){var i;return i=e.querySelector("title"),[null!=i?i.textContent:void 0,V(e.querySelector("body")),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e&&"function"==typeof e.getAttribute?e.getAttribute("content"):void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},m=function(t){var e;return e=document.documentElement.cloneNode(),e.innerHTML=t,e.head=e.querySelector("head"),e.body=e.querySelector("body"),e},i=function(){function t(e){return this.original=null!=e?e:document.location.href,this.original.constructor===t?this.original:void this._parse()}return t.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},t.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},t.prototype.hasNoHash=function(){return 0===this.hash.length},t.prototype.crossOrigin=function(){return this.origin!==(new t).origin},t.prototype._parse=function(){var t;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,t=this.link,this.href=t.href,this.protocol=t.protocol,this.host=t.host,this.hostname=t.hostname,this.port=t.port,this.pathname=t.pathname,this.search=t.search,this.hash=t.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},t}(),r=function(t){function e(t){return this.link=t,this.link.constructor===e?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void e.__super__.constructor.apply(this,arguments))}return nt(e,t),e.HTML_EXTENSIONS=["html"],e.allowExtensions=function(){var t,i,n,r;for(i=1<=arguments.length?ot.call(arguments,0):[],n=0,r=i.length;r>n;n++)t=i[n],e.HTML_EXTENSIONS.push(t);return e.HTML_EXTENSIONS},e.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},e.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new i).withoutHash()},e.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+e.HTML_EXTENSIONS.join("|")+")?$","g"))},e.prototype._optOut=function(){var t,e;for(e=this.originalElement;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t},e.prototype._target=function(){return 0!==this.link.target.length},e}(i),e=function(){function t(t){this.event=t,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(N(this.link.absolute)||tt(this.link.href),this.event.preventDefault()))}return t.installHandlerLast=function(e){return e.defaultPrevented?void 0:(document.removeEventListener("click",t.handle,!1),document.addEventListener("click",t.handle,!1))},t.handle=function(e){return new t(e)},t.prototype._extractLink=function(){var t;for(t=this.event.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;return"A"===t.nodeName&&0!==t.href.length?this.link=new r(t):void 0},t.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},t.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},t}(),o=function(){function t(t){this.elementSelector=t,this._trickle=st(this._trickle,this),this.value=0,this.content="",this.speed=300,this.opacity=.99,this.install()}var e;return e="turbolinks-progress-bar",t.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(e),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},t.prototype.uninstall=function(){return this.element.classList.remove(e),document.head.removeChild(this.styleElement)},t.prototype.start=function(){return this.advanceTo(5)},t.prototype.advanceTo=function(t){var e;if(t>(e=this.value)&&100>=e){if(this.value=t,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},t.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},t.prototype._reset=function(){var t;return t=this.opacity,setTimeout(function(t){return function(){return t.opacity=0,t._updateStyle()}}(this),this.speed/2),setTimeout(function(e){return function(){return e.value=0,e.opacity=t,e._withSpeed(0,function(){return e._updateStyle(!0)})}}(this),this.speed)},t.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},t.prototype._stopTrickle=function(){return delete this.trickling},t.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},t.prototype._withSpeed=function(t,e){var i,n;return i=this.speed,this.speed=t,n=e(),this.speed=i,n},t.prototype._updateStyle=function(t){return null==t&&(t=!1),t&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},t.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},t.prototype._createCSSRule=function(){return this.elementSelector+"."+e+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},t}(),h=function(t){return setTimeout(t,500)},O=function(){return document.addEventListener("DOMContentLoaded",function(){return Z(n.CHANGE),Z(n.UPDATE)},!0)},I=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e){return jQuery.trim(e.responseText)?Z(n.UPDATE):void 0}):void 0},F=function(t){var e,n;return(null!=(n=t.state)?n.turbolinks:void 0)?(e=R[new i(t.state.url).absolute])?(u(),S(e)):tt(t.target.location.href):void 0},T=function(){return X(),Y(),document.addEventListener("click",e.installHandlerLast,!0),window.addEventListener("hashchange",function(){return X(),Y()},!1),h(function(){return window.addEventListener("popstate",F,!1)})},w=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),c=window.history&&window.history.pushState&&window.history.replaceState&&w,s=!navigator.userAgent.match(/CriOS\//),q="GET"===(H=P("request_method"))||""===H,l=c&&s&&q,a=document.addEventListener&&document.createEvent,a&&(O(),I()),l?(tt=E,T()):tt=function(t){return document.location.href=t},this.Turbolinks={visit:tt,pagesCached:D,enableTransitionCache:_,enableProgressBar:b,allowLinkExtensions:r.allowExtensions,supported:l,EVENTS:p(n)}}.call(this),function(t){function e(e,i){this.element=e,this.$el=t(e),this.settings=t.extend({},r,i),this.$container=t(this.settings.container),this.settings.width=parseInt(this.settings.width),this.settings.height=parseInt(this.settings.height),this.settings.width>=s?this.settings.width=s:this.settings.width<o&&(this.settings.width=o),this.settings.height>=c?this.settings.height=c:this.settings.height<a&&(this.settings.height=a),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.init()}function i(){var e=[],i=[{name:"emotion",symbol:"grinning"},{name:"animal",symbol:"bear"},{name:"food",symbol:"hamburger"},{name:"folderol",symbol:"sunny"},{name:"thing",symbol:"kiss"},{name:"travel",symbol:"rocket"}],n={people:"emotion",symbol:"thing",undefined:"thing"},r={};t.each(t.fn.emojiPicker.emojis,function(t,e){var i=n[e.category]||e.category;r[i]=r[i]||[],r[i].push(e)}),e.push('<div class="emojiPicker">'),e.push("<nav>");for(var o in i)e.push('<div class="tab'+(0==o?" active":"")+'" data-tab="'+i[o].name+'"><div class="emoji emoji-'+i[o].symbol+'"></div></div>');e.push("</nav>");for(var o in i){e.push('<section class="'+i[o].name+(0==o?"":" hidden")+'">');for(var s in r[i[o].name]){var a=r[i[o].name][s];e.push('<div class="emoji emoji-'+a.shortcode+'"></div>')}e.push("</section>")}return e.push("</div>"),e.join("\n")}var n="emojiPicker",r={width:"200",height:"350",position:"bottom",fadeTime:100,iconColor:"black",iconBackgroundColor:"#eee",container:"body",button:!0},o=200,s=600,a=100,c=350,l=50;t.extend(e.prototype,{init:function(){this.active=!1,this.addPickerIcon(),this.createPicker(),this.show(),this.listen()},addPickerIcon:function(){var e=this.$el.outerHeight(),i=e>l?l:e,n=this.$el.width();this.$el.width(n),this.$wrapper=this.$el.wrap("<div class='emojiPickerIconWrap'></div>").parent(),this.settings.button&&(this.$icon=t('<div class="emojiPickerIcon"></div>').height(i).width(i).addClass(this.settings.iconColor).css("backgroundColor",this.settings.iconBackgroundColor),this.$wrapper.append(this.$icon))},createPicker:function(){this.$picker=t(i()).appendTo(t("#emojiskeyboard")).width(this.settings.width).height(this.settings.height).css("z-index",1e4),this.$picker.find("section").height(parseInt(this.settings.height)-40),this.settings.width<240&&this.$picker.find(".emoji").css({width:"1em",height:"1em"})},listen:function(){this.$wrapper.find(".emojiPickerIcon").click(t.proxy(this.iconClicked,this)),this.$picker.find("section div").click(t.proxy(this.emojiClicked,this)),this.$picker.find("nav .tab").click(t.proxy(this.emojiCategoryClicked,this)),this.$picker.click(t.proxy(this.pickerClicked,this)),t(document.body).click(t.proxy(this.clickOutside,this))},updatePosition:function(){var t,e;return"body"===this.settings.container?(t=this.$el.offset().top+this.$el.height(),e=this.$el.offset().left):(t=this.$el.offset().top+this.$el.height(),e=this.$el.offset().left),this.$picker.css({top:t+15,left:e+this.$el.outerWidth()-this.settings.width}),this},show:function(){this.$el.focus(),this.$picker.show(this.settings.fadeTime,"linear",function(){this.active=!0}.bind(this))},iconClicked:function(){this.$picker.is(":hidden")?this.show():this.hide()},emojiCategoryClicked:function(e){var i="";this.$picker.find("nav .tab").removeClass("active"),t(e.target).parent().hasClass("tab")?(i=t(e.target).parent().attr("data-tab"),t(e.target).parent(".tab").addClass("active")):(i=t(e.target).attr("data-tab"),t(e.target).addClass("active")),this.$picker.find("section").addClass("hidden"),this.$picker.find("section."+i).removeClass("hidden")},pickerClicked:function(t){t.stopPropagation()}}),t.fn[n]=function(i){return"string"==typeof i?(this.each(function(){var e=t.data(this,n);switch(i){case"toggle":e.iconClicked()}}),this):(this.each(function(){t.data(this,n)||t.data(this,n,new e(this,i))}),this)},String.fromCodePoint||(String.fromCodePoint=function(){var t,e,i,n,r=[];for(n=0;n<arguments.length;++n)t=arguments[n],e=t-65536,i=t>65535?[55296+(e>>10),56320+(1023&e)]:[t],r.push(String.fromCharCode.apply(null,i));return r.join("")})}(jQuery),"admin"!==window.location.pathname.split("/")[1]&&$(function(){$.fn.emojiPicker.emojis=[{name:"copyright",unicode:"00A9",shortcode:"copyright",description:"COPYRIGHT SIGN",category:"folderol"},{name:"registered",unicode:"00AE",shortcode:"registered",description:"REGISTERED SIGN",category:"folderol"},{name:"bangbang",unicode:"203C",shortcode:"bangbang",description:"DOUBLE EXCLAMATION MARK",category:"symbol"},{name:"interrobang",unicode:"2049",shortcode:"interrobang",description:"EXCLAMATION QUESTION MARK",category:"folderol"},{name:"tm",unicode:"2122",shortcode:"tm",description:"TRADE MARK SIGN",category:"folderol"},{name:"information_source",unicode:"2139",shortcode:"information_source",description:"INFORMATION SOURCE",category:"folderol"},{name:"left_right_arrow",unicode:"2194",shortcode:"left_right_arrow",description:"LEFT RIGHT ARROW",category:"folderol"},{name:"arrow_up_down",unicode:"2195",shortcode:"arrow_up_down",description:"UP DOWN ARROW",category:"folderol"},{name:"arrow_upper_left",unicode:"2196",shortcode:"arrow_upper_left",description:"NORTH WEST ARROW",category:"folderol"},{name:"arrow_upper_right",unicode:"2197",shortcode:"arrow_upper_right",description:"NORTH EAST ARROW",category:"folderol"},{name:"arrow_lower_right",unicode:"2198",shortcode:"arrow_lower_right",description:"SOUTH EAST ARROW",category:"folderol"},{name:"arrow_lower_left",unicode:"2199",shortcode:"arrow_lower_left",description:"SOUTH WEST ARROW",category:"folderol"},{name:"leftwards_arrow_with_hook",unicode:"21A9",shortcode:"leftwards_arrow_with_hook",description:"LEFTWARDS ARROW WITH HOOK",category:"folderol"},{name:"arrow_right_hook",unicode:"21AA",shortcode:"arrow_right_hook",description:"RIGHTWARDS ARROW WITH HOOK",category:"folderol"},{name:"watch",unicode:"231A",shortcode:"watch",description:"WATCH",category:"thing"},{name:"hourglass",unicode:"231B",shortcode:"hourglass",description:"HOURGLASS",category:"thing"},{name:"fast_forward",unicode:"23E9",shortcode:"fast_forward",description:"BLACK RIGHT-POINTING DOUBLE TRIANGLE"},{name:"rewind",unicode:"23EA",shortcode:"rewind",description:"BLACK LEFT-POINTING DOUBLE TRIANGLE",category:"thing"},{name:"arrow_double_up",unicode:"23EB",shortcode:"arrow_double_up",description:"BLACK UP-POINTING DOUBLE TRIANGLE",category:"folderol"},{name:"arrow_double_down",unicode:"23EC",shortcode:"arrow_double_down",description:"BLACK DOWN-POINTING DOUBLE TRIANGLE",category:"folderol"},{name:"alarm_clock",unicode:"23F0",shortcode:"alarm_clock",description:"ALARM CLOCK",category:"thing"},{name:"hourglass_flowing_sand",unicode:"23F3",shortcode:"hourglass_flowing_sand",description:"HOURGLASS WITH FLOWING SAND",category:"thing"},{name:"m",unicode:"24C2",shortcode:"m",description:"CIRCLED LATIN CAPITAL LETTER M",category:"folderol"},{name:"black_small_square",unicode:"25AA",shortcode:"black_small_square",description:"BLACK SMALL SQUARE",category:"folderol"},{name:"white_small_square",unicode:"25AB",shortcode:"white_small_square",description:"WHITE SMALL SQUARE",category:"folderol"},{name:"arrow_forward",unicode:"25B6",shortcode:"arrow_forward",description:"BLACK RIGHT-POINTING TRIANGLE",category:"folderol"},{name:"arrow_backward",unicode:"25C0",shortcode:"arrow_backward",description:"BLACK LEFT-POINTING TRIANGLE",category:"folderol"},{name:"white_medium_square",unicode:"25FB",shortcode:"white_medium_square",description:"WHITE MEDIUM SQUARE",category:"folderol"},{name:"black_medium_square",unicode:"25FC",shortcode:"black_medium_square",description:"BLACK MEDIUM SQUARE",category:"folderol"},{name:"white_medium_small_square",unicode:"25FD",shortcode:"white_medium_small_square",description:"WHITE MEDIUM SMALL SQUARE",category:"folderol"},{name:"black_medium_small_square",unicode:"25FE",shortcode:"black_medium_small_square",description:"BLACK MEDIUM SMALL SQUARE",category:"folderol"},{name:"sunny",unicode:"2600",shortcode:"sunny",description:"BLACK SUN WITH RAYS",category:"thing"},{name:"cloud",unicode:"2601",shortcode:"cloud",description:"CLOUD",category:"thing"},{name:"phone",unicode:"260E",shortcode:"phone",description:"BLACK TELEPHONE",category:"thing"},{name:"ballot_box_with_check",unicode:"2611",shortcode:"ballot_box_with_check",description:"BALLOT BOX WITH CHECK",category:"thing"},{name:"umbrella",unicode:"2614",shortcode:"umbrella",description:"UMBRELLA WITH RAIN DROPS",category:"thing"},{name:"coffee",unicode:"2615",shortcode:"coffee",description:"HOT BEVERAGE",category:"thing"},{name:"grinning",unicode:"1F600",shortcode:"grinning",description:"GRINNING FACE",category:"people"},{name:"grin",unicode:"1F601",shortcode:"grin",description:"GRINNING FACE WITH SMILING EYES",category:"people"},{name:"joy",unicode:"1F602",shortcode:"joy",description:"FACE WITH TEARS OF JOY",category:"people"},{name:"smiley",unicode:"1F603",shortcode:"smiley",description:"SMILING FACE WITH OPEN MOUTH",category:"people"},{name:"smile",unicode:"1F604",shortcode:"smile",description:"SMILING FACE WITH OPEN MOUTH AND SMILING EYES",category:"people"},{name:"sweat_smile",unicode:"1F605",shortcode:"sweat_smile",description:"SMILING FACE WITH OPEN MOUTH AND COLD SWEAT",category:"people"},{name:"laughing",unicode:"1F606",shortcode:"laughing",description:"SMILING FACE WITH OPEN MOUTH AND TIGHTLY-CLOSED EYES",category:"people"},{name:"innocent",unicode:"1F607",shortcode:"innocent",description:"SMILING FACE WITH HALO",category:"people"},{name:"smiling_imp",unicode:"1F608",shortcode:"smiling_imp",description:"SMILING FACE WITH HORNS",category:"people"},{name:"wink",unicode:"1F609",shortcode:"wink",description:"WINKING FACE",category:"people"},{name:"blush",unicode:"1F60A",shortcode:"blush",description:"SMILING FACE WITH SMILING EYES",category:"people"},{name:"yum",unicode:"1F60B",shortcode:"yum",description:"FACE SAVOURING DELICIOUS FOOD",category:"people"},{name:"relieved",unicode:"1F60C",shortcode:"relieved",description:"RELIEVED FACE",category:"people"},{name:"heart_eyes",unicode:"1F60D",shortcode:"heart_eyes",description:"SMILING FACE WITH HEART-SHAPED EYES",category:"people"},{name:"sunglasses",unicode:"1F60E",shortcode:"sunglasses",description:"SMILING FACE WITH SUNGLASSES",category:"people"},{name:"smirk",unicode:"1F60F",shortcode:"smirk",description:"SMIRKING FACE",category:"people"},{name:"neutral_face",unicode:"1F610",shortcode:"neutral_face",description:"NEUTRAL FACE",category:"people"},{name:"expressionless",unicode:"1F611",shortcode:"expressionless",description:"EXPRESSIONLESS FACE",category:"people"},{name:"unamused",unicode:"1F612",shortcode:"unamused",description:"UNAMUSED FACE",category:"people"},{name:"sweat",unicode:"1F613",shortcode:"sweat",description:"FACE WITH COLD SWEAT",category:"people"},{name:"pensive",unicode:"1F614",shortcode:"pensive",description:"PENSIVE FACE",category:"people"},{name:"confused",unicode:"1F615",shortcode:"confused",description:"CONFUSED FACE",category:"people"},{name:"confounded",unicode:"1F616",shortcode:"confounded",description:"CONFOUNDED FACE",category:"people"},{name:"kissing",unicode:"1F617",shortcode:"kissing",description:"KISSING FACE",category:"people"},{name:"kissing_heart",unicode:"1F618",shortcode:"kissing_heart",description:"FACE THROWING A KISS",category:"people"},{name:"kissing_smiling_eyes",unicode:"1F619",shortcode:"kissing_smiling_eyes",description:"KISSING FACE WITH SMILING EYES",category:"people"},{name:"kissing_closed_eyes",unicode:"1F61A",shortcode:"kissing_closed_eyes",description:"KISSING FACE WITH CLOSED EYES",category:"people"},{name:"stuck_out_tongue",unicode:"1F61B",shortcode:"stuck_out_tongue",description:"FACE WITH STUCK-OUT TONGUE",category:"people"},{name:"stuck_out_tongue_winking_eye",unicode:"1F61C",shortcode:"stuck_out_tongue_winking_eye",description:"FACE WITH STUCK-OUT TONGUE AND WINKING EYE",category:"people"},{name:"stuck_out_tongue_closed_eyes",unicode:"1F61D",shortcode:"stuck_out_tongue_closed_eyes",description:"FACE WITH STUCK-OUT TONGUE AND TIGHTLY-CLOSED EYES",category:"people"},{name:"disappointed",unicode:"1F61E",shortcode:"disappointed",description:"DISAPPOINTED FACE",category:"people"},{name:"worried",unicode:"1F61F",shortcode:"worried",description:"WORRIED FACE",category:"people"},{name:"angry",unicode:"1F620",shortcode:"angry",description:"ANGRY FACE",category:"people"},{name:"rage",unicode:"1F621",shortcode:"rage",description:"POUTING FACE",category:"people"},{name:"cry",unicode:"1F622",shortcode:"cry",description:"CRYING FACE",category:"people"},{name:"persevere",unicode:"1F623",shortcode:"persevere",description:"PERSEVERING FACE",category:"people"},{name:"triumph",unicode:"1F624",shortcode:"triumph",description:"FACE WITH LOOK OF TRIUMPH",category:"people"},{name:"disappointed_relieved",unicode:"1F625",shortcode:"disappointed_relieved",description:"DISAPPOINTED BUT RELIEVED FACE",category:"people"},{name:"frowning",unicode:"1F626",shortcode:"frowning",description:"FROWNING FACE WITH OPEN MOUTH",category:"people"},{name:"anguished",unicode:"1F627",shortcode:"anguished",description:"ANGUISHED FACE",category:"people"},{name:"fearful",unicode:"1F628",shortcode:"fearful",description:"FEARFUL FACE",category:"people"},{name:"weary",unicode:"1F629",shortcode:"weary",description:"WEARY FACE",category:"people"},{name:"sleepy",unicode:"1F62A",shortcode:"sleepy",description:"SLEEPY FACE",category:"people"},{name:"tired_face",unicode:"1F62B",shortcode:"tired_face",description:"TIRED FACE",category:"people"},{name:"grimacing",unicode:"1F62C",shortcode:"grimacing",description:"GRIMACING FACE",category:"people"},{name:"sob",unicode:"1F62D",shortcode:"sob",description:"LOUDLY CRYING FACE",category:"people"},{name:"open_mouth",unicode:"1F62E",shortcode:"open_mouth",description:"FACE WITH OPEN MOUTH",category:"people"},{name:"hushed",unicode:"1F62F",shortcode:"hushed",description:"HUSHED FACE",category:"people"},{name:"cold_sweat",unicode:"1F630",shortcode:"cold_sweat",description:"FACE WITH OPEN MOUTH AND COLD SWEAT",category:"people"},{name:"scream",unicode:"1F631",shortcode:"scream",description:"FACE SCREAMING IN FEAR",category:"people"},{name:"astonished",unicode:"1F632",shortcode:"astonished",description:"ASTONISHED FACE",category:"people"},{name:"flushed",unicode:"1F633",shortcode:"flushed",description:"FLUSHED FACE",category:"people"},{name:"sleeping",unicode:"1F634",shortcode:"sleeping",description:"SLEEPING FACE",category:"people"},{name:"dizzy_face",unicode:"1F635",shortcode:"dizzy_face",description:"DIZZY FACE",category:"people"},{name:"no_mouth",unicode:"1F636",shortcode:"no_mouth",description:"FACE WITHOUT MOUTH",category:"people"},{name:"mask",unicode:"1F637",shortcode:"mask",description:"FACE WITH MEDICAL MASK",category:"people"},{name:"smile_cat",unicode:"1F638",shortcode:"smile_cat",description:"GRINNING CAT FACE WITH SMILING EYES",category:"people"},{name:"joy_cat",unicode:"1F639",shortcode:"joy_cat",description:"CAT FACE WITH TEARS OF JOY",category:"people"},{name:"smiley_cat",unicode:"1F63A",shortcode:"smiley_cat",description:"SMILING CAT FACE WITH OPEN MOUTH",category:"people"},{name:"heart_eyes_cat",unicode:"1F63B",shortcode:"heart_eyes_cat",description:"SMILING CAT FACE WITH HEART-SHAPED EYES",category:"people"},{name:"smirk_cat",unicode:"1F63C",shortcode:"smirk_cat",description:"CAT FACE WITH WRY SMILE",category:"people"},{name:"kissing_cat",unicode:"1F63D",shortcode:"kissing_cat",description:"KISSING CAT FACE WITH CLOSED EYES",category:"people"},{name:"pouting_cat",unicode:"1F63E",shortcode:"pouting_cat",description:"POUTING CAT FACE",category:"people"},{name:"crying_cat_face",unicode:"1F63F",shortcode:"crying_cat_face",description:"CRYING CAT FACE",category:"people"},{name:"scream_cat",unicode:"1F640",shortcode:"scream_cat",description:"WEARY CAT FACE",category:"people"},{name:"no_good",unicode:"1F645",shortcode:"no_good",description:"FACE WITH NO GOOD GESTURE",category:"people"},{name:"ok_woman",unicode:"1F646",shortcode:"ok_woman",description:"FACE WITH OK GESTURE",category:"people"},{name:"bow",unicode:"1F647",shortcode:"bow",description:"PERSON BOWING DEEPLY",category:"people"},{name:"see_no_evil",unicode:"1F648",shortcode:"see_no_evil",description:"SEE-NO-EVIL MONKEY",category:"people"},{name:"hear_no_evil",unicode:"1F649",shortcode:"hear_no_evil",description:"HEAR-NO-EVIL MONKEY",category:"people"},{name:"speak_no_evil",unicode:"1F64A",shortcode:"speak_no_evil",description:"SPEAK-NO-EVIL MONKEY",category:"people"},{name:"raising_hand",unicode:"1F64B",shortcode:"raising_hand",description:"HAPPY PERSON RAISING ONE HAND",category:"people"},{name:"raised_hands",unicode:"1F64C",shortcode:"raised_hands",description:"PERSON RAISING BOTH HANDS IN CELEBRATION",category:"people"},{name:"person_frowning",unicode:"1F64D",shortcode:"person_frowning",description:"PERSON FROWNING",category:"people"},{name:"person_with_pouting_face",unicode:"1F64E",shortcode:"person_with_pouting_face",description:"PERSON WITH POUTING FACE",category:"people"},{name:"pray",unicode:"1F64F",shortcode:"pray",description:"PERSON WITH FOLDED HANDS",category:"people"},{name:"point_up",unicode:"261D",shortcode:"point_up",description:"WHITE UP POINTING INDEX",category:"people"},{name:"relaxed",unicode:"263A",shortcode:"relaxed",description:"WHITE SMILING FACE",category:"emotion"},{name:"aries",unicode:"2648",shortcode:"aries",description:"ARIES",category:"folderol"},{name:"taurus",unicode:"2649",shortcode:"taurus",description:"TAURUS",category:"folderol"},{name:"gemini",unicode:"264A",shortcode:"gemini",description:"GEMINI",category:"folderol"},{name:"cancer",unicode:"264B",shortcode:"cancer",description:"CANCER",category:"folderol"},{name:"leo",unicode:"264C",shortcode:"leo",description:"LEO",category:"folderol"},{name:"virgo",unicode:"264D",shortcode:"virgo",description:"VIRGO",category:"folderol"},{name:"libra",unicode:"264E",shortcode:"libra",description:"LIBRA",category:"folderol"},{name:"scorpius",unicode:"264F",shortcode:"scorpius",description:"SCORPIUS",category:"folderol"},{name:"sagittarius",unicode:"2650",shortcode:"sagittarius",description:"SAGITTARIUS",category:"folderol"},{name:"capricorn",unicode:"2651",shortcode:"capricorn",description:"CAPRICORN",category:"folderol"},{name:"aquarius",unicode:"2652",shortcode:"aquarius",description:"AQUARIUS",category:"folderol"},{name:"pisces",unicode:"2653",shortcode:"pisces",description:"PISCES",category:"folderol"},{name:"spades",unicode:"2660",shortcode:"spades",description:"BLACK SPADE SUIT",category:"folderol"},{name:"clubs",unicode:"2663",shortcode:"clubs",description:"BLACK CLUB SUIT",category:"folderol"},{name:"hearts",unicode:"2665",shortcode:"hearts",description:"BLACK HEART SUIT",category:"folderol"},{name:"diamonds",unicode:"2666",shortcode:"diamonds",description:"BLACK DIAMOND SUIT",category:"folderol"},{name:"hotsprings",unicode:"2668",shortcode:"hotsprings",description:"HOT SPRINGS",category:"thing"},{name:"recycle",unicode:"267B",shortcode:"recycle",description:"BLACK UNIVERSAL RECYCLING SYMBOL",category:"folderol"},{name:"wheelchair",unicode:"267F",shortcode:"wheelchair",description:"WHEELCHAIR SYMBOL",category:"thing"},{name:"anchor",unicode:"2693",shortcode:"anchor",description:"ANCHOR",category:"thing"},{
name:"warning",unicode:"26A0",shortcode:"warning",description:"WARNING SIGN",category:"thing"},{name:"zap",unicode:"26A1",shortcode:"zap",description:"HIGH VOLTAGE SIGN",category:"thing"},{name:"white_circle",unicode:"26AA",shortcode:"white_circle",description:"MEDIUM WHITE CIRCLE",category:"folderol"},{name:"black_circle",unicode:"26AB",shortcode:"black_circle",description:"MEDIUM BLACK CIRCLE",category:"folderol"},{name:"soccer",unicode:"26BD",shortcode:"soccer",description:"SOCCER BALL",category:"thing"},{name:"baseball",unicode:"26BE",shortcode:"baseball",description:"BASEBALL",category:"thing"},{name:"snowman",unicode:"26C4",shortcode:"snowman",description:"SNOWMAN WITHOUT SNOW",category:"thing"},{name:"partly_sunny",unicode:"26C5",shortcode:"partly_sunny",description:"SUN BEHIND CLOUD",category:"thing"},{name:"ophiuchus",unicode:"26CE",shortcode:"ophiuchus",description:"OPHIUCHUS",category:"folderol"},{name:"no_entry",unicode:"26D4",shortcode:"no_entry",description:"NO ENTRY",category:"folderol"},{name:"church",unicode:"26EA",shortcode:"church",description:"CHURCH",category:"travel"},{name:"fountain",unicode:"26F2",shortcode:"fountain",description:"FOUNTAIN",category:"travel"},{name:"golf",unicode:"26F3",shortcode:"golf",description:"FLAG IN HOLE",category:"travel"},{name:"boat",unicode:"26F5",shortcode:"boat",description:"SAILBOAT",category:"travel"},{name:"tent",unicode:"26FA",shortcode:"tent",description:"TENT",category:"travel"},{name:"fuelpump",unicode:"26FD",shortcode:"fuelpump",description:"FUEL PUMP",category:"travel"},{name:"scissors",unicode:"2702",shortcode:"scissors",description:"BLACK SCISSORS",category:"thing"},{name:"white_check_mark",unicode:"2705",shortcode:"white_check_mark",description:"WHITE HEAVY CHECK MARK",category:"folderol"},{name:"airplane",unicode:"2708",shortcode:"airplane",description:"AIRPLANE",category:"thing"},{name:"email",unicode:"2709",shortcode:"email",description:"ENVELOPE",category:"thing"},{name:"fist",unicode:"270A",shortcode:"fist",description:"RAISED FIST",category:"people"},{name:"hand",unicode:"270B",shortcode:"hand",description:"RAISED HAND",category:"people"},{name:"v",unicode:"270C",shortcode:"v",description:"VICTORY HAND",category:"folderol"},{name:"pencil2",unicode:"270F",shortcode:"pencil2",description:"PENCIL",category:"thing"},{name:"black_nib",unicode:"2712",shortcode:"black_nib",description:"BLACK NIB",category:"folderol"},{name:"heavy_check_mark",unicode:"2714",shortcode:"heavy_check_mark",description:"HEAVY CHECK MARK",category:"folderol"},{name:"heavy_multiplication_x",unicode:"2716",shortcode:"heavy_multiplication_x",description:"HEAVY MULTIPLICATION X",category:"folderol"},{name:"sparkles",unicode:"2728",shortcode:"sparkles",description:"SPARKLES",category:"folderol"},{name:"eight_spoked_asterisk",unicode:"2733",shortcode:"eight_spoked_asterisk",description:"EIGHT SPOKED ASTERISK",category:"folderol"},{name:"eight_pointed_black_star",unicode:"2734",shortcode:"eight_pointed_black_star",description:"EIGHT POINTED BLACK STAR",category:"folderol"},{name:"snowflake",unicode:"2744",shortcode:"snowflake",description:"SNOWFLAKE",category:"thing"},{name:"sparkle",unicode:"2747",shortcode:"sparkle",description:"SPARKLE",category:"thing"},{name:"x",unicode:"274C",shortcode:"x",description:"CROSS MARK",category:"folderol"},{name:"negative_squared_cross_mark",unicode:"274E",shortcode:"negative_squared_cross_mark",description:"NEGATIVE SQUARED CROSS MARK",category:"folderol"},{name:"question",unicode:"2753",shortcode:"question",description:"BLACK QUESTION MARK ORNAMENT",category:"folderol"},{name:"grey_question",unicode:"2754",shortcode:"grey_question",description:"WHITE QUESTION MARK ORNAMENT",category:"folderol"},{name:"grey_exclamation",unicode:"2755",shortcode:"grey_exclamation",description:"WHITE EXCLAMATION MARK ORNAMENT",category:"folderol"},{name:"exclamation",unicode:"2757",shortcode:"exclamation",description:"HEAVY EXCLAMATION MARK SYMBOL",category:"folderol"},{name:"heart",unicode:"2764",shortcode:"heart",description:"HEAVY BLACK HEART",category:"folderol"},{name:"heavy_plus_sign",unicode:"2795",shortcode:"heavy_plus_sign",description:"HEAVY PLUS SIGN",category:"folderol"},{name:"heavy_minus_sign",unicode:"2796",shortcode:"heavy_minus_sign",description:"HEAVY MINUS SIGN",category:"folderol"},{name:"heavy_division_sign",unicode:"2797",shortcode:"heavy_division_sign",description:"HEAVY DIVISION SIGN",category:"folderol"},{name:"arrow_right",unicode:"27A1",shortcode:"arrow_right",description:"BLACK RIGHTWARDS ARROW",category:"folderol"},{name:"curly_loop",unicode:"27B0",shortcode:"curly_loop",description:"CURLY LOOP",category:"folderol"},{name:"loop",unicode:"27BF",shortcode:"loop",description:"DOUBLE CURLY LOOP",category:"folderol"},{name:"arrow_heading_up",unicode:"2934",shortcode:"arrow_heading_up",description:"ARROW POINTING RIGHTWARDS THEN CURVING UPWARDS",category:"folderol"},{name:"arrow_heading_down",unicode:"2935",shortcode:"arrow_heading_down",description:"ARROW POINTING RIGHTWARDS THEN CURVING DOWNWARDS",category:"folderol"},{name:"arrow_left",unicode:"2B05",shortcode:"arrow_left",description:"LEFTWARDS BLACK ARROW",category:"folderol"},{name:"arrow_up",unicode:"2B06",shortcode:"arrow_up",description:"UPWARDS BLACK ARROW",category:"folderol"},{name:"arrow_down",unicode:"2B07",shortcode:"arrow_down",description:"DOWNWARDS BLACK ARROW",category:"folderol"},{name:"black_large_square",unicode:"2B1B",shortcode:"black_large_square",description:"BLACK LARGE SQUARE",category:"folderol"},{name:"white_large_square",unicode:"2B1C",shortcode:"white_large_square",description:"WHITE LARGE SQUARE",category:"folderol"},{name:"star",unicode:"2B50",shortcode:"star",description:"WHITE MEDIUM STAR",category:"thing"},{name:"o",unicode:"2B55",shortcode:"o",description:"HEAVY LARGE CIRCLE",category:"folderol"},{name:"wavy_dash",unicode:"3030",shortcode:"wavy_dash",description:"WAVY DASH",category:"folderol"},{name:"part_alternation_mark",unicode:"303D",shortcode:"part_alternation_mark",description:"PART ALTERNATION MARK",category:"folderol"},{name:"congratulations",unicode:"3297",shortcode:"congratulations",description:"CIRCLED IDEOGRAPH CONGRATULATION",category:"folderol"},{name:"secret",unicode:"3299",shortcode:"secret",description:"CIRCLED IDEOGRAPH SECRET",category:"folderol"},{name:"mahjong",unicode:"1F004",shortcode:"mahjong",description:"MAHJONG TILE RED DRAGON",category:"folderol"},{name:"black_joker",unicode:"1F0CF",shortcode:"black_joker",description:"PLAYING CARD BLACK JOKER",category:"folderol"},{name:"a",unicode:"1F170",shortcode:"a",description:"NEGATIVE SQUARED LATIN CAPITAL LETTER A",category:"folderol"},{name:"b",unicode:"1F171",shortcode:"b",description:"NEGATIVE SQUARED LATIN CAPITAL LETTER B",category:"folderol"},{name:"o2",unicode:"1F17E",shortcode:"o2",description:"NEGATIVE SQUARED LATIN CAPITAL LETTER O",category:"folderol"},{name:"parking",unicode:"1F17F",shortcode:"parking",description:"NEGATIVE SQUARED LATIN CAPITAL LETTER P",category:"folderol"},{name:"ab",unicode:"1F18E",shortcode:"ab",description:"NEGATIVE SQUARED AB",category:"folderol"},{name:"cl",unicode:"1F191",shortcode:"cl",description:"SQUARED CL",category:"folderol"},{name:"cool",unicode:"1F192",shortcode:"cool",description:"SQUARED COOL",category:"folderol"},{name:"free",unicode:"1F193",shortcode:"free",description:"SQUARED FREE",category:"folderol"},{name:"id",unicode:"1F194",shortcode:"id",description:"SQUARED ID",category:"folderol"},{name:"new",unicode:"1F195",shortcode:"new",description:"SQUARED NEW",category:"folderol"},{name:"ng",unicode:"1F196",shortcode:"ng",description:"SQUARED NG",category:"folderol"},{name:"ok",unicode:"1F197",shortcode:"ok",description:"SQUARED OK",category:"folderol"},{name:"sos",unicode:"1F198",shortcode:"sos",description:"SQUARED SOS",category:"folderol"},{name:"up",unicode:"1F199",shortcode:"up",description:"SQUARED UP WITH EXCLAMATION MARK",category:"folderol"},{name:"vs",unicode:"1F19A",shortcode:"vs",description:"SQUARED VS",category:"folderol"},{name:"koko",unicode:"1F201",shortcode:"koko",description:"SQUARED KATAKANA KOKO",category:"folderol"},{name:"sa",unicode:"1F202",shortcode:"sa",description:"SQUARED KATAKANA SA",category:"folderol"},{name:"u7121",unicode:"1F21A",shortcode:"u7121",description:"SQUARED CJK UNIFIED IDEOGRAPH-7121",category:"folderol"},{name:"u6307",unicode:"1F22F",shortcode:"u6307",description:"SQUARED CJK UNIFIED IDEOGRAPH-6307",category:"folderol"},{name:"u7981",unicode:"1F232",shortcode:"u7981",description:"SQUARED CJK UNIFIED IDEOGRAPH-7981",category:"folderol"},{name:"u7a7a",unicode:"1F233",shortcode:"u7a7a",description:"SQUARED CJK UNIFIED IDEOGRAPH-7A7A",category:"folderol"},{name:"u5408",unicode:"1F234",shortcode:"u5408",description:"SQUARED CJK UNIFIED IDEOGRAPH-5408",category:"folderol"},{name:"u6e80",unicode:"1F235",shortcode:"u6e80",description:"SQUARED CJK UNIFIED IDEOGRAPH-6E80",category:"folderol"},{name:"u6709",unicode:"1F236",shortcode:"u6709",description:"SQUARED CJK UNIFIED IDEOGRAPH-6709",category:"folderol"},{name:"u6708",unicode:"1F237",shortcode:"u6708",description:"SQUARED CJK UNIFIED IDEOGRAPH-6708",category:"folderol"},{name:"u7533",unicode:"1F238",shortcode:"u7533",description:"SQUARED CJK UNIFIED IDEOGRAPH-7533",category:"folderol"},{name:"u5272",unicode:"1F239",shortcode:"u5272",description:"SQUARED CJK UNIFIED IDEOGRAPH-5272",category:"folderol"},{name:"u55b6",unicode:"1F23A",shortcode:"u55b6",description:"SQUARED CJK UNIFIED IDEOGRAPH-55B6",category:"folderol"},{name:"ideograph_advantage",unicode:"1F250",shortcode:"ideograph_advantage",description:"CIRCLED IDEOGRAPH ADVANTAGE",category:"folderol"},{name:"accept",unicode:"1F251",shortcode:"accept",description:"CIRCLED IDEOGRAPH ACCEPT",category:"folderol"},{name:"cyclone",unicode:"1F300",shortcode:"cyclone",description:"CYCLONE",category:"thing"},{name:"foggy",unicode:"1F301",shortcode:"foggy",description:"FOGGY",category:"thing"},{name:"closed_umbrella",unicode:"1F302",shortcode:"closed_umbrella",description:"CLOSED UMBRELLA",category:"thing"},{name:"night_with_stars",unicode:"1F303",shortcode:"night_with_stars",description:"NIGHT WITH STARS",category:"thing"},{name:"sunrise_over_mountains",unicode:"1F304",shortcode:"sunrise_over_mountains",description:"SUNRISE OVER MOUNTAINS",category:"thing"},{name:"sunrise",unicode:"1F305",shortcode:"sunrise",description:"SUNRISE",category:"thing"},{name:"city_sunset",unicode:"1F306",shortcode:"city_sunset",description:"CITYSCAPE AT DUSK",category:"thing"},{name:"city_sunrise",unicode:"1F307",shortcode:"city_sunrise",description:"SUNSET OVER BUILDINGS",category:"thing"},{name:"rainbow",unicode:"1F308",shortcode:"rainbow",description:"RAINBOW",category:"thing"},{name:"bridge_at_night",unicode:"1F309",shortcode:"bridge_at_night",description:"BRIDGE AT NIGHT",category:"thing"},{name:"ocean",unicode:"1F30A",shortcode:"ocean",description:"WATER WAVE",category:"thing"},{name:"volcano",unicode:"1F30B",shortcode:"volcano",description:"VOLCANO",category:"thing"},{name:"milky_way",unicode:"1F30C",shortcode:"milky_way",description:"MILKY WAY",category:"thing"},{name:"earth_africa",unicode:"1F30D",shortcode:"earth_africa",description:"EARTH GLOBE EUROPE-AFRICA",category:"thing"},{name:"earth_americas",unicode:"1F30E",shortcode:"earth_americas",description:"EARTH GLOBE AMERICAS",category:"thing"},{name:"earth_asia",unicode:"1F30F",shortcode:"earth_asia",description:"EARTH GLOBE ASIA-AUSTRALIA",category:"thing"},{name:"globe_with_meridians",unicode:"1F310",shortcode:"globe_with_meridians",description:"GLOBE WITH MERIDIANS",category:"thing"},{name:"new_moon",unicode:"1F311",shortcode:"new_moon",description:"NEW MOON SYMBOL",category:"thing"},{name:"waxing_crescent_moon",unicode:"1F312",shortcode:"waxing_crescent_moon",description:"WAXING CRESCENT MOON SYMBOL",category:"thing"},{name:"first_quarter_moon",unicode:"1F313",shortcode:"first_quarter_moon",description:"FIRST QUARTER MOON SYMBOL",category:"thing"},{name:"moon",unicode:"1F314",shortcode:"moon",description:"WAXING GIBBOUS MOON SYMBOL",category:"thing"},{name:"full_moon",unicode:"1F315",shortcode:"full_moon",description:"FULL MOON SYMBOL",category:"thing"},{name:"waning_gibbous_moon",unicode:"1F316",shortcode:"waning_gibbous_moon",description:"WANING GIBBOUS MOON SYMBOL",category:"thing"},{name:"last_quarter_moon",unicode:"1F317",shortcode:"last_quarter_moon",description:"LAST QUARTER MOON SYMBOL",category:"thing"},{name:"waning_crescent_moon",unicode:"1F318",shortcode:"waning_crescent_moon",description:"WANING CRESCENT MOON SYMBOL",category:"thing"},{name:"crescent_moon",unicode:"1F319",shortcode:"crescent_moon",description:"CRESCENT MOON",category:"thing"},{name:"new_moon_with_face",unicode:"1F31A",shortcode:"new_moon_with_face",description:"NEW MOON WITH FACE",category:"thing"},{name:"first_quarter_moon_with_face",unicode:"1F31B",shortcode:"first_quarter_moon_with_face",description:"FIRST QUARTER MOON WITH FACE",category:"thing"},{name:"last_quarter_moon_with_face",unicode:"1F31C",shortcode:"last_quarter_moon_with_face",description:"LAST QUARTER MOON WITH FACE",category:"thing"},{name:"full_moon_with_face",unicode:"1F31D",shortcode:"full_moon_with_face",description:"FULL MOON WITH FACE",category:"thing"},{name:"sun_with_face",unicode:"1F31E",shortcode:"sun_with_face",description:"SUN WITH FACE",category:"thing"},{name:"star2",unicode:"1F31F",shortcode:"star2",description:"GLOWING STAR",category:"thing"},{name:"stars",unicode:"1F320",shortcode:"stars",description:"SHOOTING STAR",category:"thing"},{name:"chestnut",unicode:"1F330",shortcode:"chestnut",description:"CHESTNUT",category:"thing"},{name:"seedling",unicode:"1F331",shortcode:"seedling",description:"SEEDLING",category:"thing"},{name:"evergreen_tree",unicode:"1F332",shortcode:"evergreen_tree",description:"EVERGREEN TREE",category:"thing"},{name:"deciduous_tree",unicode:"1F333",shortcode:"deciduous_tree",description:"DECIDUOUS TREE",category:"thing"},{name:"palm_tree",unicode:"1F334",shortcode:"palm_tree",description:"PALM TREE",category:"thing"},{name:"cactus",unicode:"1F335",shortcode:"cactus",description:"CACTUS",category:"thing"},{name:"tulip",unicode:"1F337",shortcode:"tulip",description:"TULIP",category:"thing"},{name:"cherry_blossom",unicode:"1F338",shortcode:"cherry_blossom",description:"CHERRY BLOSSOM",category:"thing"},{name:"rose",unicode:"1F339",shortcode:"rose",description:"ROSE",category:"thing"},{name:"hibiscus",unicode:"1F33A",shortcode:"hibiscus",description:"HIBISCUS",category:"thing"},{name:"sunflower",unicode:"1F33B",shortcode:"sunflower",description:"SUNFLOWER",category:"thing"},{name:"blossom",unicode:"1F33C",shortcode:"blossom",description:"BLOSSOM",category:"thing"},{name:"corn",unicode:"1F33D",shortcode:"corn",description:"EAR OF MAIZE",category:"thing"},{name:"ear_of_rice",unicode:"1F33E",shortcode:"ear_of_rice",description:"EAR OF RICE",category:"thing"},{name:"herb",unicode:"1F33F",shortcode:"herb",description:"HERB",category:"thing"},{name:"four_leaf_clover",unicode:"1F340",shortcode:"four_leaf_clover",description:"FOUR LEAF CLOVER",category:"thing"},{name:"maple_leaf",unicode:"1F341",shortcode:"maple_leaf",description:"MAPLE LEAF",category:"thing"},{name:"fallen_leaf",unicode:"1F342",shortcode:"fallen_leaf",description:"FALLEN LEAF",category:"thing"},{name:"leaves",unicode:"1F343",shortcode:"leaves",description:"LEAF FLUTTERING IN WIND",category:"thing"},{name:"mushroom",unicode:"1F344",shortcode:"mushroom",description:"MUSHROOM",category:"food"},{name:"tomato",unicode:"1F345",shortcode:"tomato",description:"TOMATO",category:"food"},{name:"eggplant",unicode:"1F346",shortcode:"eggplant",description:"AUBERGINE",category:"food"},{name:"grapes",unicode:"1F347",shortcode:"grapes",description:"GRAPES",category:"food"},{name:"melon",unicode:"1F348",shortcode:"melon",description:"MELON",category:"food"},{name:"watermelon",unicode:"1F349",shortcode:"watermelon",description:"WATERMELON",category:"food"},{name:"tangerine",unicode:"1F34A",shortcode:"tangerine",description:"TANGERINE",category:"food"},{name:"lemon",unicode:"1F34B",shortcode:"lemon",description:"LEMON",category:"food"},{name:"banana",unicode:"1F34C",shortcode:"banana",description:"BANANA",category:"food"},{name:"pineapple",unicode:"1F34D",shortcode:"pineapple",description:"PINEAPPLE",category:"food"},{name:"apple",unicode:"1F34E",shortcode:"apple",description:"RED APPLE",category:"food"},{name:"green_apple",unicode:"1F34F",shortcode:"green_apple",description:"GREEN APPLE",category:"food"},{name:"pear",unicode:"1F350",shortcode:"pear",description:"PEAR",category:"food"},{name:"peach",unicode:"1F351",shortcode:"peach",description:"PEACH",category:"food"},{name:"cherries",unicode:"1F352",shortcode:"cherries",description:"CHERRIES",category:"food"},{name:"strawberry",unicode:"1F353",shortcode:"strawberry",description:"STRAWBERRY",category:"food"},{name:"hamburger",unicode:"1F354",shortcode:"hamburger",description:"HAMBURGER",category:"food"},{name:"pizza",unicode:"1F355",shortcode:"pizza",description:"SLICE OF PIZZA",category:"food"},{name:"meat_on_bone",unicode:"1F356",shortcode:"meat_on_bone",description:"MEAT ON BONE",category:"food"},{name:"poultry_leg",unicode:"1F357",shortcode:"poultry_leg",description:"POULTRY LEG",category:"food"},{name:"rice_cracker",unicode:"1F358",shortcode:"rice_cracker",description:"RICE CRACKER",category:"food"},{name:"rice_ball",unicode:"1F359",shortcode:"rice_ball",description:"RICE BALL",category:"food"},{name:"rice",unicode:"1F35A",shortcode:"rice",description:"COOKED RICE",category:"food"},{name:"curry",unicode:"1F35B",shortcode:"curry",description:"CURRY AND RICE",category:"food"},{name:"ramen",unicode:"1F35C",shortcode:"ramen",description:"STEAMING BOWL",category:"food"},{name:"spaghetti",unicode:"1F35D",shortcode:"spaghetti",description:"SPAGHETTI",category:"food"},{name:"bread",unicode:"1F35E",shortcode:"bread",description:"BREAD",category:"food"},{name:"fries",unicode:"1F35F",shortcode:"fries",description:"FRENCH FRIES",category:"food"},{name:"sweet_potato",unicode:"1F360",shortcode:"sweet_potato",description:"ROASTED SWEET POTATO",category:"food"},{name:"dango",unicode:"1F361",shortcode:"dango",description:"DANGO",category:"food"},{name:"oden",unicode:"1F362",shortcode:"oden",description:"ODEN",category:"food"},{name:"sushi",unicode:"1F363",shortcode:"sushi",description:"SUSHI",category:"food"},{name:"fried_shrimp",unicode:"1F364",shortcode:"fried_shrimp",description:"FRIED SHRIMP",category:"food"},{name:"fish_cake",unicode:"1F365",shortcode:"fish_cake",description:"FISH CAKE WITH SWIRL DESIGN",category:"food"},{name:"icecream",unicode:"1F366",shortcode:"icecream",description:"SOFT ICE CREAM",category:"food"},{name:"shaved_ice",unicode:"1F367",shortcode:"shaved_ice",description:"SHAVED ICE",category:"food"},{name:"ice_cream",unicode:"1F368",shortcode:"ice_cream",description:"ICE CREAM",category:"food"},{name:"doughnut",unicode:"1F369",shortcode:"doughnut",description:"DOUGHNUT",category:"food"},{name:"cookie",unicode:"1F36A",shortcode:"cookie",description:"COOKIE",category:"food"},{name:"chocolate_bar",unicode:"1F36B",shortcode:"chocolate_bar",description:"CHOCOLATE BAR",category:"food"},{name:"candy",unicode:"1F36C",shortcode:"candy",description:"CANDY",category:"food"},{name:"lollipop",unicode:"1F36D",shortcode:"lollipop",description:"LOLLIPOP",category:"food"},{name:"custard",unicode:"1F36E",shortcode:"custard",description:"CUSTARD",category:"food"},{name:"honey_pot",unicode:"1F36F",shortcode:"honey_pot",description:"HONEY POT",category:"food"},{name:"cake",unicode:"1F370",shortcode:"cake",description:"SHORTCAKE",category:"food"},{name:"bento",unicode:"1F371",shortcode:"bento",description:"BENTO BOX",category:"food"},{name:"stew",unicode:"1F372",shortcode:"stew",description:"POT OF FOOD",category:"food"},{name:"egg",unicode:"1F373",shortcode:"egg",description:"COOKING",category:"food"},{name:"fork_and_knife",unicode:"1F374",shortcode:"fork_and_knife",description:"FORK AND KNIFE",category:"food"},{name:"tea",unicode:"1F375",shortcode:"tea",description:"TEACUP WITHOUT HANDLE",category:"food"},{name:"sake",unicode:"1F376",shortcode:"sake",description:"SAKE BOTTLE AND CUP",category:"food"},{name:"wine_glass",unicode:"1F377",shortcode:"wine_glass",description:"WINE GLASS",category:"food"},{name:"cocktail",unicode:"1F378",shortcode:"cocktail",description:"COCKTAIL GLASS",category:"food"},{name:"tropical_drink",unicode:"1F379",shortcode:"tropical_drink",description:"TROPICAL DRINK",category:"food"},{name:"beer",unicode:"1F37A",shortcode:"beer",description:"BEER MUG",category:"food"},{name:"beers",unicode:"1F37B",shortcode:"beers",description:"CLINKING BEER MUGS",category:"food"},{name:"baby_bottle",unicode:"1F37C",shortcode:"baby_bottle",description:"BABY BOTTLE",category:"food"},{name:"ribbon",unicode:"1F380",shortcode:"ribbon",description:"RIBBON",category:"thing"},{name:"gift",unicode:"1F381",shortcode:"gift",description:"WRAPPED PRESENT",category:"thing"},{name:"birthday",unicode:"1F382",shortcode:"birthday",description:"BIRTHDAY CAKE",category:"thing"},{name:"jack_o_lantern",unicode:"1F383",shortcode:"jack_o_lantern",description:"JACK-O-LANTERN",category:"thing"},{name:"christmas_tree",unicode:"1F384",shortcode:"christmas_tree",description:"CHRISTMAS TREE",category:"thing"},{name:"santa",unicode:"1F385",shortcode:"santa",description:"FATHER CHRISTMAS",category:"thing"},{name:"fireworks",unicode:"1F386",shortcode:"fireworks",description:"FIREWORKS",category:"thing"},{name:"sparkler",unicode:"1F387",shortcode:"sparkler",description:"FIREWORK SPARKLER",category:"thing"},{name:"balloon",unicode:"1F388",shortcode:"balloon",description:"BALLOON",category:"thing"},{name:"tada",unicode:"1F389",shortcode:"tada",description:"PARTY POPPER",category:"thing"},{name:"confetti_ball",unicode:"1F38A",shortcode:"confetti_ball",description:"CONFETTI BALL",category:"thing"},{name:"tanabata_tree",unicode:"1F38B",shortcode:"tanabata_tree",description:"TANABATA TREE",category:"thing"},{name:"crossed_flags",unicode:"1F38C",shortcode:"crossed_flags",description:"CROSSED FLAGS",category:"thing"},{name:"bamboo",unicode:"1F38D",shortcode:"bamboo",description:"PINE DECORATION",category:"thing"},{name:"dolls",unicode:"1F38E",shortcode:"dolls",description:"JAPANESE DOLLS",category:"thing"},{name:"flags",unicode:"1F38F",shortcode:"flags",description:"CARP STREAMER",category:"thing"},{name:"wind_chime",unicode:"1F390",shortcode:"wind_chime",description:"WIND CHIME",category:"thing"},{name:"rice_scene",unicode:"1F391",shortcode:"rice_scene",description:"MOON VIEWING CEREMONY",category:"thing"},{name:"school_satchel",unicode:"1F392",shortcode:"school_satchel",description:"SCHOOL SATCHEL",category:"thing"},{name:"mortar_board",unicode:"1F393",shortcode:"mortar_board",description:"GRADUATION CAP",category:"thing"},{name:"carousel_horse",unicode:"1F3A0",shortcode:"carousel_horse",description:"CAROUSEL HORSE",category:"thing"},{name:"ferris_wheel",unicode:"1F3A1",shortcode:"ferris_wheel",description:"FERRIS WHEEL",category:"thing"},{name:"roller_coaster",unicode:"1F3A2",shortcode:"roller_coaster",description:"ROLLER COASTER",category:"thing"},{name:"fishing_pole_and_fish",unicode:"1F3A3",shortcode:"fishing_pole_and_fish",description:"FISHING POLE AND FISH",category:"thing"},{name:"microphone",unicode:"1F3A4",shortcode:"microphone",description:"MICROPHONE",category:"thing"},{name:"movie_camera",unicode:"1F3A5",shortcode:"movie_camera",description:"MOVIE CAMERA",category:"thing"},{name:"cinema",unicode:"1F3A6",shortcode:"cinema",description:"CINEMA",category:"thing"},{name:"headphones",unicode:"1F3A7",shortcode:"headphones",description:"HEADPHONE",category:"thing"},{name:"art",unicode:"1F3A8",shortcode:"art",description:"ARTIST PALETTE",category:"thing"},{name:"tophat",unicode:"1F3A9",shortcode:"tophat",description:"TOP HAT",category:"thing"},{name:"circus_tent",unicode:"1F3AA",shortcode:"circus_tent",description:"CIRCUS TENT",category:"thing"},{name:"ticket",unicode:"1F3AB",shortcode:"ticket",description:"TICKET",category:"thing"},{name:"clapper",unicode:"1F3AC",shortcode:"clapper",description:"CLAPPER BOARD",category:"thing"},{name:"performing_arts",unicode:"1F3AD",shortcode:"performing_arts",description:"PERFORMING ARTS",category:"thing"},{name:"video_game",unicode:"1F3AE",shortcode:"video_game",description:"VIDEO GAME",category:"thing"},{name:"dart",unicode:"1F3AF",shortcode:"dart",description:"DIRECT HIT",category:"thing"},{name:"slot_machine",unicode:"1F3B0",shortcode:"slot_machine",description:"SLOT MACHINE",category:"thing"},{name:"8ball",unicode:"1F3B1",shortcode:"8ball",description:"BILLIARDS",category:"thing"},{name:"game_die",unicode:"1F3B2",shortcode:"game_die",description:"GAME DIE",category:"thing"},{name:"bowling",unicode:"1F3B3",shortcode:"bowling",description:"BOWLING",category:"thing"},{name:"flower_playing_cards",unicode:"1F3B4",shortcode:"flower_playing_cards",description:"FLOWER PLAYING CARDS",category:"thing"},{name:"musical_note",unicode:"1F3B5",shortcode:"musical_note",description:"MUSICAL NOTE",category:"thing"},{name:"notes",unicode:"1F3B6",shortcode:"notes",description:"MULTIPLE MUSICAL NOTES",category:"thing"},{name:"saxophone",unicode:"1F3B7",shortcode:"saxophone",description:"SAXOPHONE",category:"thing"},{name:"guitar",unicode:"1F3B8",shortcode:"guitar",description:"GUITAR",category:"thing"},{name:"musical_keyboard",unicode:"1F3B9",shortcode:"musical_keyboard",description:"MUSICAL KEYBOARD",category:"thing"},{name:"trumpet",unicode:"1F3BA",shortcode:"trumpet",description:"TRUMPET",category:"thing"},{name:"violin",unicode:"1F3BB",shortcode:"violin",description:"VIOLIN",category:"thing"},{name:"musical_score",unicode:"1F3BC",shortcode:"musical_score",description:"MUSICAL SCORE",category:"thing"},{name:"running_shirt_with_sash",unicode:"1F3BD",shortcode:"running_shirt_with_sash",description:"RUNNING SHIRT WITH SASH",category:"thing"},{name:"tennis",unicode:"1F3BE",shortcode:"tennis",description:"TENNIS RACQUET AND BALL",category:"thing"},{name:"ski",unicode:"1F3BF",shortcode:"ski",description:"SKI AND SKI BOOT",category:"thing"},{name:"basketball",unicode:"1F3C0",shortcode:"basketball",description:"BASKETBALL AND HOOP",category:"thing"},{name:"checkered_flag",unicode:"1F3C1",shortcode:"checkered_flag",description:"CHEQUERED FLAG",category:"thing"},{name:"snowboarder",unicode:"1F3C2",shortcode:"snowboarder",description:"SNOWBOARDER",category:"people"},{name:"runner",unicode:"1F3C3",shortcode:"runner",description:"RUNNER",category:"people"},{name:"surfer",unicode:"1F3C4",shortcode:"surfer",description:"SURFER",category:"people"},{name:"trophy",unicode:"1F3C6",shortcode:"trophy",description:"TROPHY",category:"people"},{name:"horse_racing",unicode:"1F3C7",shortcode:"horse_racing",description:"HORSE RACING",category:"people"},{name:"football",unicode:"1F3C8",shortcode:"football",description:"AMERICAN FOOTBALL",category:"people"},{name:"rugby_football",unicode:"1F3C9",shortcode:"rugby_football",description:"RUGBY FOOTBALL",category:"people"},{name:"swimmer",unicode:"1F3CA",shortcode:"swimmer",description:"SWIMMER",category:"people"},{name:"house",unicode:"1F3E0",shortcode:"house",description:"HOUSE BUILDING",category:"travel"},{name:"house_with_garden",unicode:"1F3E1",shortcode:"house_with_garden",description:"HOUSE WITH GARDEN",category:"travel"},{name:"office",unicode:"1F3E2",shortcode:"office",description:"OFFICE BUILDING",category:"travel"},{name:"post_office",unicode:"1F3E3",shortcode:"post_office",description:"JAPANESE POST OFFICE",category:"travel"},{name:"european_post_office",unicode:"1F3E4",shortcode:"european_post_office",description:"EUROPEAN POST OFFICE",category:"travel"},{name:"hospital",unicode:"1F3E5",shortcode:"hospital",description:"HOSPITAL",category:"travel"},{name:"bank",unicode:"1F3E6",shortcode:"bank",description:"BANK",category:"travel"},{name:"atm",unicode:"1F3E7",shortcode:"atm",description:"AUTOMATED TELLER MACHINE",category:"travel"},{name:"hotel",unicode:"1F3E8",shortcode:"hotel",description:"HOTEL",category:"travel"},{name:"love_hotel",unicode:"1F3E9",shortcode:"love_hotel",description:"LOVE HOTEL",category:"travel"},{name:"convenience_store",unicode:"1F3EA",shortcode:"convenience_store",description:"CONVENIENCE STORE",category:"travel"},{name:"school",unicode:"1F3EB",shortcode:"school",description:"SCHOOL",category:"travel"},{name:"department_store",unicode:"1F3EC",shortcode:"department_store",description:"DEPARTMENT STORE",category:"travel"},{name:"factory",unicode:"1F3ED",shortcode:"factory",description:"FACTORY",category:"travel"},{name:"izakaya_lantern",unicode:"1F3EE",shortcode:"izakaya_lantern",description:"IZAKAYA LANTERN",category:"travel"},{name:"japanese_castle",unicode:"1F3EF",shortcode:"japanese_castle",description:"JAPANESE CASTLE",category:"travel"},{name:"european_castle",unicode:"1F3F0",shortcode:"european_castle",description:"EUROPEAN CASTLE",category:"travel"},{name:"rat",unicode:"1F400",shortcode:"rat",description:"RAT",category:"animal"},{name:"mouse2",unicode:"1F401",shortcode:"mouse2",description:"MOUSE",category:"animal"},{name:"ox",unicode:"1F402",shortcode:"ox",description:"OX",category:"animal"},{name:"water_buffalo",unicode:"1F403",shortcode:"water_buffalo",description:"WATER BUFFALO",category:"animal"},{name:"cow2",unicode:"1F404",shortcode:"cow2",description:"COW",category:"animal"},{name:"tiger2",unicode:"1F405",shortcode:"tiger2",description:"TIGER",category:"animal"},{name:"leopard",unicode:"1F406",shortcode:"leopard",description:"LEOPARD",category:"animal"},{name:"rabbit2",unicode:"1F407",shortcode:"rabbit2",description:"RABBIT",category:"animal"},{name:"cat2",unicode:"1F408",shortcode:"cat2",description:"CAT",category:"animal"},{name:"dragon",unicode:"1F409",shortcode:"dragon",description:"DRAGON",category:"animal"},{name:"crocodile",unicode:"1F40A",shortcode:"crocodile",description:"CROCODILE",category:"animal"},{name:"whale2",unicode:"1F40B",shortcode:"whale2",description:"WHALE",category:"animal"},{name:"snail",unicode:"1F40C",shortcode:"snail",description:"SNAIL",category:"animal"},{name:"snake",unicode:"1F40D",shortcode:"snake",description:"SNAKE",category:"animal"},{name:"racehorse",unicode:"1F40E",shortcode:"racehorse",description:"HORSE",category:"animal"},{name:"ram",unicode:"1F40F",shortcode:"ram",description:"RAM",category:"animal"},{name:"goat",unicode:"1F410",shortcode:"goat",description:"GOAT",category:"animal"},{name:"sheep",unicode:"1F411",shortcode:"sheep",description:"SHEEP",category:"animal"},{name:"monkey",unicode:"1F412",shortcode:"monkey",description:"MONKEY",category:"animal"},{name:"rooster",unicode:"1F413",shortcode:"rooster",description:"ROOSTER",category:"animal"},{name:"chicken",unicode:"1F414",shortcode:"chicken",description:"CHICKEN",category:"animal"},{name:"dog2",unicode:"1F415",shortcode:"dog2",description:"DOG",category:"animal"},{name:"pig2",unicode:"1F416",shortcode:"pig2",description:"PIG",category:"animal"},{name:"boar",unicode:"1F417",shortcode:"boar",description:"BOAR",category:"animal"},{name:"elephant",unicode:"1F418",shortcode:"elephant",description:"ELEPHANT",category:"animal"},{name:"octopus",unicode:"1F419",shortcode:"octopus",description:"OCTOPUS",category:"animal"},{name:"shell",unicode:"1F41A",shortcode:"shell",description:"SPIRAL SHELL",category:"animal"},{name:"bug",unicode:"1F41B",shortcode:"bug",description:"BUG",category:"animal"},{name:"ant",unicode:"1F41C",shortcode:"ant",description:"ANT",category:"animal"},{name:"bee",unicode:"1F41D",shortcode:"bee",description:"HONEYBEE",category:"animal"},{name:"beetle",unicode:"1F41E",shortcode:"beetle",description:"LADY BEETLE",category:"animal"},{name:"fish",unicode:"1F41F",shortcode:"fish",description:"FISH",category:"animal"},{name:"tropical_fish",unicode:"1F420",shortcode:"tropical_fish",description:"TROPICAL FISH",category:"animal"},{name:"blowfish",unicode:"1F421",shortcode:"blowfish",description:"BLOWFISH",category:"animal"},{name:"turtle",unicode:"1F422",shortcode:"turtle",description:"TURTLE",category:"animal"},{name:"hatching_chick",unicode:"1F423",shortcode:"hatching_chick",description:"HATCHING CHICK",category:"animal"},{name:"baby_chick",unicode:"1F424",shortcode:"baby_chick",description:"BABY CHICK",category:"animal"},{name:"hatched_chick",unicode:"1F425",shortcode:"hatched_chick",description:"FRONT-FACING BABY CHICK",category:"animal"},{name:"bird",unicode:"1F426",shortcode:"bird",description:"BIRD",category:"animal"},{name:"penguin",unicode:"1F427",shortcode:"penguin",description:"PENGUIN",category:"animal"},{name:"koala",unicode:"1F428",shortcode:"koala",
description:"KOALA",category:"animal"},{name:"poodle",unicode:"1F429",shortcode:"poodle",description:"POODLE",category:"animal"},{name:"dromedary_camel",unicode:"1F42A",shortcode:"dromedary_camel",description:"DROMEDARY CAMEL",category:"animal"},{name:"camel",unicode:"1F42B",shortcode:"camel",description:"BACTRIAN CAMEL",category:"animal"},{name:"dolphin",unicode:"1F42C",shortcode:"dolphin",description:"DOLPHIN",category:"animal"},{name:"mouse",unicode:"1F42D",shortcode:"mouse",description:"MOUSE FACE",category:"animal"},{name:"cow",unicode:"1F42E",shortcode:"cow",description:"COW FACE",category:"animal"},{name:"tiger",unicode:"1F42F",shortcode:"tiger",description:"TIGER FACE",category:"animal"},{name:"rabbit",unicode:"1F430",shortcode:"rabbit",description:"RABBIT FACE",category:"animal"},{name:"cat",unicode:"1F431",shortcode:"cat",description:"CAT FACE",category:"animal"},{name:"dragon_face",unicode:"1F432",shortcode:"dragon_face",description:"DRAGON FACE",category:"animal"},{name:"whale",unicode:"1F433",shortcode:"whale",description:"SPOUTING WHALE",category:"animal"},{name:"horse",unicode:"1F434",shortcode:"horse",description:"HORSE FACE",category:"animal"},{name:"monkey_face",unicode:"1F435",shortcode:"monkey_face",description:"MONKEY FACE",category:"animal"},{name:"dog",unicode:"1F436",shortcode:"dog",description:"DOG FACE",category:"animal"},{name:"pig",unicode:"1F437",shortcode:"pig",description:"PIG FACE",category:"animal"},{name:"frog",unicode:"1F438",shortcode:"frog",description:"FROG FACE",category:"animal"},{name:"hamster",unicode:"1F439",shortcode:"hamster",description:"HAMSTER FACE",category:"animal"},{name:"wolf",unicode:"1F43A",shortcode:"wolf",description:"WOLF FACE",category:"animal"},{name:"bear",unicode:"1F43B",shortcode:"bear",description:"BEAR FACE",category:"animal"},{name:"panda_face",unicode:"1F43C",shortcode:"panda_face",description:"PANDA FACE",category:"animal"},{name:"pig_nose",unicode:"1F43D",shortcode:"pig_nose",description:"PIG NOSE",category:"animal"},{name:"feet",unicode:"1F43E",shortcode:"feet",description:"PAW PRINTS",category:"people"},{name:"eyes",unicode:"1F440",shortcode:"eyes",description:"EYES",category:"people"},{name:"ear",unicode:"1F442",shortcode:"ear",description:"EAR",category:"people"},{name:"nose",unicode:"1F443",shortcode:"nose",description:"NOSE",category:"people"},{name:"lips",unicode:"1F444",shortcode:"lips",description:"MOUTH",category:"people"},{name:"tongue",unicode:"1F445",shortcode:"tongue",description:"TONGUE",category:"people"},{name:"point_up_2",unicode:"1F446",shortcode:"point_up_2",description:"WHITE UP POINTING BACKHAND INDEX",category:"people"},{name:"point_down",unicode:"1F447",shortcode:"point_down",description:"WHITE DOWN POINTING BACKHAND INDEX",category:"people"},{name:"point_left",unicode:"1F448",shortcode:"point_left",description:"WHITE LEFT POINTING BACKHAND INDEX",category:"people"},{name:"point_right",unicode:"1F449",shortcode:"point_right",description:"WHITE RIGHT POINTING BACKHAND INDEX",category:"people"},{name:"facepunch",unicode:"1F44A",shortcode:"facepunch",description:"FISTED HAND SIGN",category:"people"},{name:"wave",unicode:"1F44B",shortcode:"wave",description:"WAVING HAND SIGN",category:"people"},{name:"ok_hand",unicode:"1F44C",shortcode:"ok_hand",description:"OK HAND SIGN",category:"people"},{name:"+1",unicode:"1F44D",shortcode:"plus1",description:"THUMBS UP SIGN",category:"people"},{name:"-1",unicode:"1F44E",shortcode:"-1",description:"THUMBS DOWN SIGN",category:"people"},{name:"clap",unicode:"1F44F",shortcode:"clap",description:"CLAPPING HANDS SIGN",category:"people"},{name:"open_hands",unicode:"1F450",shortcode:"open_hands",description:"OPEN HANDS SIGN",category:"people"},{name:"crown",unicode:"1F451",shortcode:"crown",description:"CROWN",category:"people"},{name:"womans_hat",unicode:"1F452",shortcode:"womans_hat",description:"WOMANS HAT",category:"people"},{name:"eyeglasses",unicode:"1F453",shortcode:"eyeglasses",description:"EYEGLASSES",category:"people"},{name:"necktie",unicode:"1F454",shortcode:"necktie",description:"NECKTIE",category:"people"},{name:"shirt",unicode:"1F455",shortcode:"shirt",description:"T-SHIRT",category:"people"},{name:"jeans",unicode:"1F456",shortcode:"jeans",description:"JEANS",category:"people"},{name:"dress",unicode:"1F457",shortcode:"dress",description:"DRESS",category:"people"},{name:"kimono",unicode:"1F458",shortcode:"kimono",description:"KIMONO",category:"people"},{name:"bikini",unicode:"1F459",shortcode:"bikini",description:"BIKINI",category:"people"},{name:"womans_clothes",unicode:"1F45A",shortcode:"womans_clothes",description:"WOMANS CLOTHES",category:"people"},{name:"purse",unicode:"1F45B",shortcode:"purse",description:"PURSE",category:"people"},{name:"handbag",unicode:"1F45C",shortcode:"handbag",description:"HANDBAG",category:"people"},{name:"pouch",unicode:"1F45D",shortcode:"pouch",description:"POUCH",category:"people"},{name:"mans_shoe",unicode:"1F45E",shortcode:"mans_shoe",description:"MANS SHOE",category:"people"},{name:"athletic_shoe",unicode:"1F45F",shortcode:"athletic_shoe",description:"ATHLETIC SHOE",category:"people"},{name:"high_heel",unicode:"1F460",shortcode:"high_heel",description:"HIGH-HEELED SHOE",category:"people"},{name:"sandal",unicode:"1F461",shortcode:"sandal",description:"WOMANS SANDAL",category:"people"},{name:"boot",unicode:"1F462",shortcode:"boot",description:"WOMANS BOOTS",category:"people"},{name:"footprints",unicode:"1F463",shortcode:"footprints",description:"FOOTPRINTS",category:"people"},{name:"bust_in_silhouette",unicode:"1F464",shortcode:"bust_in_silhouette",description:"BUST IN SILHOUETTE",category:"people"},{name:"busts_in_silhouette",unicode:"1F465",shortcode:"busts_in_silhouette",description:"BUSTS IN SILHOUETTE",category:"people"},{name:"boy",unicode:"1F466",shortcode:"boy",description:"BOY",category:"people"},{name:"girl",unicode:"1F467",shortcode:"girl",description:"GIRL",category:"people"},{name:"man",unicode:"1F468",shortcode:"man",description:"MAN",category:"people"},{name:"woman",unicode:"1F469",shortcode:"woman",description:"WOMAN",category:"people"},{name:"family",unicode:"1F46A",shortcode:"family",description:"FAMILY",category:"people"},{name:"couple",unicode:"1F46B",shortcode:"couple",description:"MAN AND WOMAN HOLDING HANDS",category:"people"},{name:"two_men_holding_hands",unicode:"1F46C",shortcode:"two_men_holding_hands",description:"TWO MEN HOLDING HANDS",category:"people"},{name:"two_women_holding_hands",unicode:"1F46D",shortcode:"two_women_holding_hands",description:"TWO WOMEN HOLDING HANDS",category:"people"},{name:"cop",unicode:"1F46E",shortcode:"cop",description:"POLICE OFFICER",category:"people"},{name:"dancers",unicode:"1F46F",shortcode:"dancers",description:"WOMAN WITH BUNNY EARS",category:"people"},{name:"bride_with_veil",unicode:"1F470",shortcode:"bride_with_veil",description:"BRIDE WITH VEIL",category:"people"},{name:"person_with_blond_hair",unicode:"1F471",shortcode:"person_with_blond_hair",description:"PERSON WITH BLOND HAIR",category:"people"},{name:"man_with_gua_pi_mao",unicode:"1F472",shortcode:"man_with_gua_pi_mao",description:"MAN WITH GUA PI MAO",category:"people"},{name:"man_with_turban",unicode:"1F473",shortcode:"man_with_turban",description:"MAN WITH TURBAN",category:"people"},{name:"older_man",unicode:"1F474",shortcode:"older_man",description:"OLDER MAN",category:"people"},{name:"older_woman",unicode:"1F475",shortcode:"older_woman",description:"OLDER WOMAN",category:"people"},{name:"baby",unicode:"1F476",shortcode:"baby",description:"BABY",category:"people"},{name:"construction_worker",unicode:"1F477",shortcode:"construction_worker",description:"CONSTRUCTION WORKER",category:"people"},{name:"princess",unicode:"1F478",shortcode:"princess",description:"PRINCESS",category:"people"},{name:"japanese_ogre",unicode:"1F479",shortcode:"japanese_ogre",description:"JAPANESE OGRE",category:"people"},{name:"japanese_goblin",unicode:"1F47A",shortcode:"japanese_goblin",description:"JAPANESE GOBLIN",category:"people"},{name:"ghost",unicode:"1F47B",shortcode:"ghost",description:"GHOST",category:"people"},{name:"angel",unicode:"1F47C",shortcode:"angel",description:"BABY ANGEL",category:"people"},{name:"alien",unicode:"1F47D",shortcode:"alien",description:"EXTRATERRESTRIAL ALIEN",category:"people"},{name:"space_invader",unicode:"1F47E",shortcode:"space_invader",description:"ALIEN MONSTER",category:"people"},{name:"imp",unicode:"1F47F",shortcode:"imp",description:"IMP",category:"people"},{name:"skull",unicode:"1F480",shortcode:"skull",description:"SKULL",category:"people"},{name:"information_desk_person",unicode:"1F481",shortcode:"information_desk_person",description:"INFORMATION DESK PERSON",category:"people"},{name:"guardsman",unicode:"1F482",shortcode:"guardsman",description:"GUARDSMAN",category:"people"},{name:"dancer",unicode:"1F483",shortcode:"dancer",description:"DANCER",category:"people"},{name:"lipstick",unicode:"1F484",shortcode:"lipstick",description:"LIPSTICK",category:"people"},{name:"nail_care",unicode:"1F485",shortcode:"nail_care",description:"NAIL POLISH",category:"people"},{name:"massage",unicode:"1F486",shortcode:"massage",description:"FACE MASSAGE",category:"people"},{name:"haircut",unicode:"1F487",shortcode:"haircut",description:"HAIRCUT",category:"people"},{name:"barber",unicode:"1F488",shortcode:"barber",description:"BARBER POLE",category:"people"},{name:"syringe",unicode:"1F489",shortcode:"syringe",description:"SYRINGE",category:"emotion"},{name:"pill",unicode:"1F48A",shortcode:"pill",description:"PILL",category:"emotion"},{name:"kiss",unicode:"1F48B",shortcode:"kiss",description:"KISS MARK",category:"emotion"},{name:"love_letter",unicode:"1F48C",shortcode:"love_letter",description:"LOVE LETTER",category:"emotion"},{name:"ring",unicode:"1F48D",shortcode:"ring",description:"RING",category:"emotion"},{name:"gem",unicode:"1F48E",shortcode:"gem",description:"GEM STONE",category:"emotion"},{name:"couplekiss",unicode:"1F48F",shortcode:"couplekiss",description:"KISS",category:"emotion"},{name:"bouquet",unicode:"1F490",shortcode:"bouquet",description:"BOUQUET",category:"emotion"},{name:"couple_with_heart",unicode:"1F491",shortcode:"couple_with_heart",description:"COUPLE WITH HEART",category:"emotion"},{name:"wedding",unicode:"1F492",shortcode:"wedding",description:"WEDDING",category:"emotion"},{name:"heartbeat",unicode:"1F493",shortcode:"heartbeat",description:"BEATING HEART",category:"emotion"},{name:"broken_heart",unicode:"1F494",shortcode:"broken_heart",description:"BROKEN HEART",category:"emotion"},{name:"two_hearts",unicode:"1F495",shortcode:"two_hearts",description:"TWO HEARTS",category:"emotion"},{name:"sparkling_heart",unicode:"1F496",shortcode:"sparkling_heart",description:"SPARKLING HEART",category:"emotion"},{name:"heartpulse",unicode:"1F497",shortcode:"heartpulse",description:"GROWING HEART",category:"emotion"},{name:"cupid",unicode:"1F498",shortcode:"cupid",description:"HEART WITH ARROW",category:"emotion"},{name:"blue_heart",unicode:"1F499",shortcode:"blue_heart",description:"BLUE HEART",category:"emotion"},{name:"green_heart",unicode:"1F49A",shortcode:"green_heart",description:"GREEN HEART",category:"emotion"},{name:"yellow_heart",unicode:"1F49B",shortcode:"yellow_heart",description:"YELLOW HEART",category:"emotion"},{name:"purple_heart",unicode:"1F49C",shortcode:"purple_heart",description:"PURPLE HEART",category:"emotion"},{name:"gift_heart",unicode:"1F49D",shortcode:"gift_heart",description:"HEART WITH RIBBON",category:"emotion"},{name:"revolving_hearts",unicode:"1F49E",shortcode:"revolving_hearts",description:"REVOLVING HEARTS",category:"emotion"},{name:"heart_decoration",unicode:"1F49F",shortcode:"heart_decoration",description:"HEART DECORATION",category:"emotion"},{name:"diamond_shape_with_a_dot_inside",unicode:"1F4A0",shortcode:"diamond_shape_with_a_dot_inside",description:"DIAMOND SHAPE WITH A DOT INSIDE",category:"emotion"},{name:"bulb",unicode:"1F4A1",shortcode:"bulb",description:"ELECTRIC LIGHT BULB",category:"emotion"},{name:"anger",unicode:"1F4A2",shortcode:"anger",description:"ANGER SYMBOL",category:"emotion"},{name:"bomb",unicode:"1F4A3",shortcode:"bomb",description:"BOMB",category:"emotion"},{name:"zzz",unicode:"1F4A4",shortcode:"zzz",description:"SLEEPING SYMBOL",category:"emotion"},{name:"boom",unicode:"1F4A5",shortcode:"boom",description:"COLLISION SYMBOL",category:"emotion"},{name:"sweat_drops",unicode:"1F4A6",shortcode:"sweat_drops",description:"SPLASHING SWEAT SYMBOL",category:"emotion"},{name:"droplet",unicode:"1F4A7",shortcode:"droplet",description:"DROPLET",category:"emotion"},{name:"dash",unicode:"1F4A8",shortcode:"dash",description:"DASH SYMBOL",category:"emotion"},{name:"hankey",unicode:"1F4A9",shortcode:"hankey",description:"PILE OF POO",category:"emotion"},{name:"muscle",unicode:"1F4AA",shortcode:"muscle",description:"FLEXED BICEPS",category:"emotion"},{name:"dizzy",unicode:"1F4AB",shortcode:"dizzy",description:"DIZZY SYMBOL",category:"emotion"},{name:"speech_balloon",unicode:"1F4AC",shortcode:"speech_balloon",description:"SPEECH BALLOON",category:"emotion"},{name:"thought_balloon",unicode:"1F4AD",shortcode:"thought_balloon",description:"THOUGHT BALLOON",category:"emotion"},{name:"white_flower",unicode:"1F4AE",shortcode:"white_flower",description:"WHITE FLOWER",category:"emotion"},{name:"100",unicode:"1F4AF",shortcode:"100",description:"HUNDRED POINTS SYMBOL",category:"emotion"},{name:"moneybag",unicode:"1F4B0",shortcode:"moneybag",description:"MONEY BAG",category:"emotion"},{name:"currency_exchange",unicode:"1F4B1",shortcode:"currency_exchange",description:"CURRENCY EXCHANGE",category:"emotion"},{name:"heavy_dollar_sign",unicode:"1F4B2",shortcode:"heavy_dollar_sign",description:"HEAVY DOLLAR SIGN",category:"emotion"},{name:"credit_card",unicode:"1F4B3",shortcode:"credit_card",description:"CREDIT CARD",category:"emotion"},{name:"yen",unicode:"1F4B4",shortcode:"yen",description:"BANKNOTE WITH YEN SIGN",category:"emotion"},{name:"dollar",unicode:"1F4B5",shortcode:"dollar",description:"BANKNOTE WITH DOLLAR SIGN",category:"emotion"},{name:"euro",unicode:"1F4B6",shortcode:"euro",description:"BANKNOTE WITH EURO SIGN",category:"emotion"},{name:"pound",unicode:"1F4B7",shortcode:"pound",description:"BANKNOTE WITH POUND SIGN",category:"emotion"},{name:"money_with_wings",unicode:"1F4B8",shortcode:"money_with_wings",description:"MONEY WITH WINGS",category:"emotion"},{name:"chart",unicode:"1F4B9",shortcode:"chart",description:"CHART WITH UPWARDS TREND AND YEN SIGN",category:"thing"},{name:"seat",unicode:"1F4BA",shortcode:"seat",description:"SEAT",category:"thing"},{name:"computer",unicode:"1F4BB",shortcode:"computer",description:"PERSONAL COMPUTER",category:"thing"},{name:"briefcase",unicode:"1F4BC",shortcode:"briefcase",description:"BRIEFCASE",category:"thing"},{name:"minidisc",unicode:"1F4BD",shortcode:"minidisc",description:"MINIDISC",category:"thing"},{name:"floppy_disk",unicode:"1F4BE",shortcode:"floppy_disk",description:"FLOPPY DISK",category:"thing"},{name:"cd",unicode:"1F4BF",shortcode:"cd",description:"OPTICAL DISC",category:"thing"},{name:"dvd",unicode:"1F4C0",shortcode:"dvd",description:"DVD",category:"thing"},{name:"file_folder",unicode:"1F4C1",shortcode:"file_folder",description:"FILE FOLDER",category:"thing"},{name:"open_file_folder",unicode:"1F4C2",shortcode:"open_file_folder",description:"OPEN FILE FOLDER",category:"thing"},{name:"page_with_curl",unicode:"1F4C3",shortcode:"page_with_curl",description:"PAGE WITH CURL",category:"thing"},{name:"page_facing_up",unicode:"1F4C4",shortcode:"page_facing_up",description:"PAGE FACING UP",category:"thing"},{name:"date",unicode:"1F4C5",shortcode:"date",description:"CALENDAR",category:"thing"},{name:"calendar",unicode:"1F4C6",shortcode:"calendar",description:"TEAR-OFF CALENDAR",category:"thing"},{name:"card_index",unicode:"1F4C7",shortcode:"card_index",description:"CARD INDEX",category:"thing"},{name:"chart_with_upwards_trend",unicode:"1F4C8",shortcode:"chart_with_upwards_trend",description:"CHART WITH UPWARDS TREND",category:"thing"},{name:"chart_with_downwards_trend",unicode:"1F4C9",shortcode:"chart_with_downwards_trend",description:"CHART WITH DOWNWARDS TREND",category:"thing"},{name:"bar_chart",unicode:"1F4CA",shortcode:"bar_chart",description:"BAR CHART",category:"thing"},{name:"clipboard",unicode:"1F4CB",shortcode:"clipboard",description:"CLIPBOARD",category:"thing"},{name:"pushpin",unicode:"1F4CC",shortcode:"pushpin",description:"PUSHPIN",category:"thing"},{name:"round_pushpin",unicode:"1F4CD",shortcode:"round_pushpin",description:"ROUND PUSHPIN",category:"thing"},{name:"paperclip",unicode:"1F4CE",shortcode:"paperclip",description:"PAPERCLIP",category:"thing"},{name:"straight_ruler",unicode:"1F4CF",shortcode:"straight_ruler",description:"STRAIGHT RULER",category:"thing"},{name:"triangular_ruler",unicode:"1F4D0",shortcode:"triangular_ruler",description:"TRIANGULAR RULER",category:"thing"},{name:"bookmark_tabs",unicode:"1F4D1",shortcode:"bookmark_tabs",description:"BOOKMARK TABS",category:"thing"},{name:"ledger",unicode:"1F4D2",shortcode:"ledger",description:"LEDGER",category:"thing"},{name:"notebook",unicode:"1F4D3",shortcode:"notebook",description:"NOTEBOOK",category:"thing"},{name:"notebook_with_decorative_cover",unicode:"1F4D4",shortcode:"notebook_with_decorative_cover",description:"NOTEBOOK WITH DECORATIVE COVER",category:"thing"},{name:"closed_book",unicode:"1F4D5",shortcode:"closed_book",description:"CLOSED BOOK",category:"thing"},{name:"book",unicode:"1F4D6",shortcode:"book",description:"OPEN BOOK",category:"thing"},{name:"green_book",unicode:"1F4D7",shortcode:"green_book",description:"GREEN BOOK",category:"thing"},{name:"blue_book",unicode:"1F4D8",shortcode:"blue_book",description:"BLUE BOOK",category:"thing"},{name:"orange_book",unicode:"1F4D9",shortcode:"orange_book",description:"ORANGE BOOK",category:"thing"},{name:"books",unicode:"1F4DA",shortcode:"books",description:"BOOKS",category:"thing"},{name:"name_badge",unicode:"1F4DB",shortcode:"name_badge",description:"NAME BADGE",category:"thing"},{name:"scroll",unicode:"1F4DC",shortcode:"scroll",description:"SCROLL",category:"thing"},{name:"memo",unicode:"1F4DD",shortcode:"memo",description:"MEMO",category:"thing"},{name:"telephone_receiver",unicode:"1F4DE",shortcode:"telephone_receiver",description:"TELEPHONE RECEIVER",category:"thing"},{name:"pager",unicode:"1F4DF",shortcode:"pager",description:"PAGER",category:"thing"},{name:"fax",unicode:"1F4E0",shortcode:"fax",description:"FAX MACHINE",category:"thing"},{name:"satellite",unicode:"1F4E1",shortcode:"satellite",description:"SATELLITE ANTENNA",category:"thing"},{name:"loudspeaker",unicode:"1F4E2",shortcode:"loudspeaker",description:"PUBLIC ADDRESS LOUDSPEAKER",category:"thing"},{name:"mega",unicode:"1F4E3",shortcode:"mega",description:"CHEERING MEGAPHONE",category:"thing"},{name:"outbox_tray",unicode:"1F4E4",shortcode:"outbox_tray",description:"OUTBOX TRAY",category:"thing"},{name:"inbox_tray",unicode:"1F4E5",shortcode:"inbox_tray",description:"INBOX TRAY",category:"thing"},{name:"package",unicode:"1F4E6",shortcode:"package",description:"PACKAGE",category:"thing"},{name:"e-mail",unicode:"1F4E7",shortcode:"e-mail",description:"E-MAIL SYMBOL",category:"thing"},{name:"incoming_envelope",unicode:"1F4E8",shortcode:"incoming_envelope",description:"INCOMING ENVELOPE",category:"thing"},{name:"envelope_with_arrow",unicode:"1F4E9",shortcode:"envelope_with_arrow",description:"ENVELOPE WITH DOWNWARDS ARROW ABOVE",category:"thing"},{name:"mailbox_closed",unicode:"1F4EA",shortcode:"mailbox_closed",description:"CLOSED MAILBOX WITH LOWERED FLAG",category:"thing"},{name:"mailbox",unicode:"1F4EB",shortcode:"mailbox",description:"CLOSED MAILBOX WITH RAISED FLAG",category:"thing"},{name:"mailbox_with_mail",unicode:"1F4EC",shortcode:"mailbox_with_mail",description:"OPEN MAILBOX WITH RAISED FLAG",category:"thing"},{name:"mailbox_with_no_mail",unicode:"1F4ED",shortcode:"mailbox_with_no_mail",description:"OPEN MAILBOX WITH LOWERED FLAG",category:"thing"},{name:"postbox",unicode:"1F4EE",shortcode:"postbox",description:"POSTBOX",category:"thing"},{name:"postal_horn",unicode:"1F4EF",shortcode:"postal_horn",description:"POSTAL HORN",category:"thing"},{name:"newspaper",unicode:"1F4F0",shortcode:"newspaper",description:"NEWSPAPER",category:"thing"},{name:"iphone",unicode:"1F4F1",shortcode:"iphone",description:"MOBILE PHONE",category:"thing"},{name:"calling",unicode:"1F4F2",shortcode:"calling",description:"MOBILE PHONE WITH RIGHTWARDS ARROW AT LEFT",category:"thing"},{name:"vibration_mode",unicode:"1F4F3",shortcode:"vibration_mode",description:"VIBRATION MODE",category:"thing"},{name:"mobile_phone_off",unicode:"1F4F4",shortcode:"mobile_phone_off",description:"MOBILE PHONE OFF",category:"thing"},{name:"no_mobile_phones",unicode:"1F4F5",shortcode:"no_mobile_phones",description:"NO MOBILE PHONES",category:"thing"},{name:"signal_strength",unicode:"1F4F6",shortcode:"signal_strength",description:"ANTENNA WITH BARS",category:"thing"},{name:"camera",unicode:"1F4F7",shortcode:"camera",description:"CAMERA",category:"thing"},{name:"video_camera",unicode:"1F4F9",shortcode:"video_camera",description:"VIDEO CAMERA",category:"thing"},{name:"tv",unicode:"1F4FA",shortcode:"tv",description:"TELEVISION",category:"thing"},{name:"radio",unicode:"1F4FB",shortcode:"radio",description:"RADIO",category:"thing"},{name:"vhs",unicode:"1F4FC",shortcode:"vhs",description:"VIDEOCASSETTE",category:"thing"},{name:"twisted_rightwards_arrows",unicode:"1F500",shortcode:"twisted_rightwards_arrows",description:"TWISTED RIGHTWARDS ARROWS",category:"thing"},{name:"repeat",unicode:"1F501",shortcode:"repeat",description:"CLOCKWISE RIGHTWARDS AND LEFTWARDS OPEN CIRCLE ARROWS",category:"thing"},{name:"repeat_one",unicode:"1F502",shortcode:"repeat_one",description:"CLOCKWISE RIGHTWARDS AND LEFTWARDS OPEN CIRCLE ARROWS WITH CIRCLED ONE OVERLAY",category:"thing"},{name:"arrows_clockwise",unicode:"1F503",shortcode:"arrows_clockwise",description:"CLOCKWISE DOWNWARDS AND UPWARDS OPEN CIRCLE ARROWS",category:"thing"},{name:"arrows_counterclockwise",unicode:"1F504",shortcode:"arrows_counterclockwise",description:"ANTICLOCKWISE DOWNWARDS AND UPWARDS OPEN CIRCLE ARROWS",category:"thing"},{name:"low_brightness",unicode:"1F505",shortcode:"low_brightness",description:"LOW BRIGHTNESS SYMBOL",category:"thing"},{name:"high_brightness",unicode:"1F506",shortcode:"high_brightness",description:"HIGH BRIGHTNESS SYMBOL",category:"thing"},{name:"mute",unicode:"1F507",shortcode:"mute",description:"SPEAKER WITH CANCELLATION STROKE",category:"thing"},{name:"speaker",unicode:"1F508",shortcode:"speaker",description:"SPEAKER",category:"thing"},{name:"sound",unicode:"1F509",shortcode:"sound",description:"SPEAKER WITH ONE SOUND WAVE",category:"thing"},{name:"loud_sound",unicode:"1F50A",shortcode:"loud_sound",description:"SPEAKER WITH THREE SOUND WAVES",category:"thing"},{name:"battery",unicode:"1F50B",shortcode:"battery",description:"BATTERY",category:"thing"},{name:"electric_plug",unicode:"1F50C",shortcode:"electric_plug",description:"ELECTRIC PLUG",category:"thing"},{name:"mag",unicode:"1F50D",shortcode:"mag",description:"LEFT-POINTING MAGNIFYING GLASS",category:"thing"},{name:"mag_right",unicode:"1F50E",shortcode:"mag_right",description:"RIGHT-POINTING MAGNIFYING GLASS",category:"thing"},{name:"lock_with_ink_pen",unicode:"1F50F",shortcode:"lock_with_ink_pen",description:"LOCK WITH INK PEN",category:"thing"},{name:"closed_lock_with_key",unicode:"1F510",shortcode:"closed_lock_with_key",description:"CLOSED LOCK WITH KEY",category:"thing"},{name:"key",unicode:"1F511",shortcode:"key",description:"KEY",category:"thing"},{name:"lock",unicode:"1F512",shortcode:"lock",description:"LOCK",category:"thing"},{name:"unlock",unicode:"1F513",shortcode:"unlock",description:"OPEN LOCK",category:"thing"},{name:"bell",unicode:"1F514",shortcode:"bell",description:"BELL",category:"thing"},{name:"no_bell",unicode:"1F515",shortcode:"no_bell",description:"BELL WITH CANCELLATION STROKE",category:"thing"},{name:"bookmark",unicode:"1F516",shortcode:"bookmark",description:"BOOKMARK",category:"folderol"},{name:"link",unicode:"1F517",shortcode:"link",description:"LINK SYMBOL",category:"folderol"},{name:"radio_button",unicode:"1F518",shortcode:"radio_button",description:"RADIO BUTTON",category:"folderol"},{name:"back",unicode:"1F519",shortcode:"back",description:"BACK WITH LEFTWARDS ARROW ABOVE",category:"folderol"},{name:"end",unicode:"1F51A",shortcode:"end",description:"END WITH LEFTWARDS ARROW ABOVE",category:"folderol"},{name:"on",unicode:"1F51B",shortcode:"on",description:"ON WITH EXCLAMATION MARK WITH LEFT RIGHT ARROW ABOVE",category:"folderol"},{name:"soon",unicode:"1F51C",shortcode:"soon",description:"SOON WITH RIGHTWARDS ARROW ABOVE",category:"folderol"},{name:"top",unicode:"1F51D",shortcode:"top",description:"TOP WITH UPWARDS ARROW ABOVE",category:"folderol"},{name:"underage",unicode:"1F51E",shortcode:"underage",description:"NO ONE UNDER EIGHTEEN SYMBOL",category:"folderol"},{name:"keycap_ten",unicode:"1F51F",shortcode:"keycap_ten",description:"KEYCAP TEN",category:"folderol"},{name:"capital_abcd",unicode:"1F520",shortcode:"capital_abcd",description:"INPUT SYMBOL FOR LATIN CAPITAL LETTERS",category:"folderol"},{name:"abcd",unicode:"1F521",shortcode:"abcd",description:"INPUT SYMBOL FOR LATIN SMALL LETTERS",category:"folderol"},{name:"1234",unicode:"1F522",shortcode:"1234",description:"INPUT SYMBOL FOR NUMBERS",category:"folderol"},{name:"symbols",unicode:"1F523",shortcode:"symbols",description:"INPUT SYMBOL FOR SYMBOLS",category:"folderol"},{name:"abc",unicode:"1F524",shortcode:"abc",description:"INPUT SYMBOL FOR LATIN LETTERS",category:"folderol"},{name:"fire",unicode:"1F525",shortcode:"fire",description:"FIRE",category:"thing"},{name:"flashlight",unicode:"1F526",shortcode:"flashlight",description:"ELECTRIC TORCH",category:"thing"},{name:"wrench",unicode:"1F527",shortcode:"wrench",description:"WRENCH",category:"thing"},{name:"hammer",unicode:"1F528",shortcode:"hammer",description:"HAMMER",category:"thing"},{name:"nut_and_bolt",unicode:"1F529",shortcode:"nut_and_bolt",description:"NUT AND BOLT",category:"thing"},{name:"hocho",unicode:"1F52A",shortcode:"hocho",description:"HOCHO",category:"thing"},{name:"gun",unicode:"1F52B",shortcode:"gun",description:"PISTOL",category:"thing"},{name:"microscope",unicode:"1F52C",shortcode:"microscope",description:"MICROSCOPE",category:"thing"},{name:"telescope",unicode:"1F52D",shortcode:"telescope",description:"TELESCOPE",category:"thing"},{name:"crystal_ball",unicode:"1F52E",shortcode:"crystal_ball",description:"CRYSTAL BALL",category:"thing"},{name:"six_pointed_star",unicode:"1F52F",shortcode:"six_pointed_star",description:"SIX POINTED STAR WITH MIDDLE DOT",category:"thing"},{name:"beginner",unicode:"1F530",shortcode:"beginner",description:"JAPANESE SYMBOL FOR BEGINNER",category:"thing"},{name:"trident",unicode:"1F531",shortcode:"trident",description:"TRIDENT EMBLEM",category:"thing"},{name:"black_square_button",unicode:"1F532",shortcode:"black_square_button",description:"BLACK SQUARE BUTTON",category:"folderol"},{name:"white_square_button",unicode:"1F533",shortcode:"white_square_button",description:"WHITE SQUARE BUTTON",category:"folderol"},{name:"red_circle",unicode:"1F534",shortcode:"red_circle",description:"LARGE RED CIRCLE",category:"folderol"},{name:"large_blue_circle",unicode:"1F535",shortcode:"large_blue_circle",description:"LARGE BLUE CIRCLE",category:"folderol"},{name:"large_orange_diamond",unicode:"1F536",shortcode:"large_orange_diamond",description:"LARGE ORANGE DIAMOND",category:"folderol"},{name:"large_blue_diamond",unicode:"1F537",shortcode:"large_blue_diamond",description:"LARGE BLUE DIAMOND",category:"folderol"},{name:"small_orange_diamond",unicode:"1F538",shortcode:"small_orange_diamond",description:"SMALL ORANGE DIAMOND",category:"folderol"},{name:"small_blue_diamond",unicode:"1F539",shortcode:"small_blue_diamond",description:"SMALL BLUE DIAMOND",category:"folderol"},{name:"small_red_triangle",unicode:"1F53A",shortcode:"small_red_triangle",description:"UP-POINTING RED TRIANGLE",category:"folderol"},{name:"small_red_triangle_down",unicode:"1F53B",shortcode:"small_red_triangle_down",description:"DOWN-POINTING RED TRIANGLE",category:"folderol"},{name:"arrow_up_small",unicode:"1F53C",shortcode:"arrow_up_small",description:"UP-POINTING SMALL RED TRIANGLE",category:"folderol"},{name:"arrow_down_small",unicode:"1F53D",shortcode:"arrow_down_small",description:"DOWN-POINTING SMALL RED TRIANGLE",category:"folderol"},{name:"clock1",unicode:"1F550",shortcode:"clock1",description:"CLOCK FACE ONE OCLOCK",category:"folderol"},{name:"clock2",unicode:"1F551",shortcode:"clock2",description:"CLOCK FACE TWO OCLOCK",category:"folderol"},{name:"clock3",unicode:"1F552",shortcode:"clock3",description:"CLOCK FACE THREE OCLOCK",category:"folderol"},{name:"clock4",unicode:"1F553",shortcode:"clock4",description:"CLOCK FACE FOUR OCLOCK",category:"folderol"},{name:"clock5",unicode:"1F554",shortcode:"clock5",description:"CLOCK FACE FIVE OCLOCK",category:"folderol"},{name:"clock6",unicode:"1F555",shortcode:"clock6",description:"CLOCK FACE SIX OCLOCK",category:"folderol"},{name:"clock7",unicode:"1F556",shortcode:"clock7",description:"CLOCK FACE SEVEN OCLOCK",category:"folderol"},{name:"clock8",unicode:"1F557",shortcode:"clock8",description:"CLOCK FACE EIGHT OCLOCK",category:"folderol"},{name:"clock9",unicode:"1F558",shortcode:"clock9",description:"CLOCK FACE NINE OCLOCK",category:"folderol"},{name:"clock10",unicode:"1F559",shortcode:"clock10",description:"CLOCK FACE TEN OCLOCK",category:"folderol"},{name:"clock11",unicode:"1F55A",shortcode:"clock11",description:"CLOCK FACE ELEVEN OCLOCK",category:"folderol"},{name:"clock12",unicode:"1F55B",shortcode:"clock12",description:"CLOCK FACE TWELVE OCLOCK",category:"folderol"},{name:"clock130",unicode:"1F55C",shortcode:"clock130",description:"CLOCK FACE ONE-THIRTY",category:"folderol"},{name:"clock230",unicode:"1F55D",shortcode:"clock230",description:"CLOCK FACE TWO-THIRTY",category:"folderol"},{name:"clock330",unicode:"1F55E",shortcode:"clock330",description:"CLOCK FACE THREE-THIRTY",category:"folderol"},{name:"clock430",unicode:"1F55F",shortcode:"clock430",description:"CLOCK FACE FOUR-THIRTY",category:"folderol"},{name:"clock530",unicode:"1F560",shortcode:"clock530",description:"CLOCK FACE FIVE-THIRTY",category:"folderol"},{name:"clock630",unicode:"1F561",shortcode:"clock630",description:"CLOCK FACE SIX-THIRTY",category:"folderol"},{name:"clock730",unicode:"1F562",shortcode:"clock730",description:"CLOCK FACE SEVEN-THIRTY",category:"folderol"},{name:"clock830",unicode:"1F563",shortcode:"clock830",description:"CLOCK FACE EIGHT-THIRTY",category:"folderol"},{name:"clock930",unicode:"1F564",shortcode:"clock930",description:"CLOCK FACE NINE-THIRTY",category:"folderol"},{name:"clock1030",unicode:"1F565",shortcode:"clock1030",description:"CLOCK FACE TEN-THIRTY",category:"folderol"},{name:"clock1130",unicode:"1F566",shortcode:"clock1130",description:"CLOCK FACE ELEVEN-THIRTY",category:"folderol"},{name:"clock1230",unicode:"1F567",shortcode:"clock1230",description:"CLOCK FACE TWELVE-THIRTY",category:"folderol"},{name:"mount_fuji",unicode:"1F5FB",shortcode:"mount_fuji",description:"MOUNT FUJI",category:"travel"},{name:"tokyo_tower",unicode:"1F5FC",shortcode:"tokyo_tower",description:"TOKYO TOWER",category:"travel"},{name:"statue_of_liberty",unicode:"1F5FD",shortcode:"statue_of_liberty",description:"STATUE OF LIBERTY",category:"travel"},{name:"japan",unicode:"1F5FE",shortcode:"japan",description:"SILHOUETTE OF JAPAN",category:"travel"},{name:"moyai",unicode:"1F5FF",shortcode:"moyai",description:"MOYAI",category:"travel"},{name:"rocket",unicode:"1F680",shortcode:"rocket",description:"ROCKET",category:"travel"},{name:"helicopter",unicode:"1F681",shortcode:"helicopter",description:"HELICOPTER",category:"travel"},{name:"steam_locomotive",unicode:"1F682",shortcode:"steam_locomotive",description:"STEAM LOCOMOTIVE",category:"travel"},{name:"railway_car",unicode:"1F683",shortcode:"railway_car",description:"RAILWAY CAR",category:"travel"},{name:"bullettrain_side",unicode:"1F684",shortcode:"bullettrain_side",description:"HIGH-SPEED TRAIN",category:"travel"},{name:"bullettrain_front",unicode:"1F685",shortcode:"bullettrain_front",description:"HIGH-SPEED TRAIN WITH BULLET NOSE",category:"travel"},{name:"train2",unicode:"1F686",shortcode:"train2",description:"TRAIN",category:"travel"},{name:"metro",unicode:"1F687",shortcode:"metro",description:"METRO",category:"travel"},{name:"light_rail",unicode:"1F688",shortcode:"light_rail",description:"LIGHT RAIL",
category:"travel"},{name:"station",unicode:"1F689",shortcode:"station",description:"STATION",category:"travel"},{name:"tram",unicode:"1F68A",shortcode:"tram",description:"TRAM",category:"travel"},{name:"train",unicode:"1F68B",shortcode:"train",description:"TRAM CAR",category:"travel"},{name:"bus",unicode:"1F68C",shortcode:"bus",description:"BUS",category:"travel"},{name:"oncoming_bus",unicode:"1F68D",shortcode:"oncoming_bus",description:"ONCOMING BUS",category:"travel"},{name:"trolleybus",unicode:"1F68E",shortcode:"trolleybus",description:"TROLLEYBUS",category:"travel"},{name:"busstop",unicode:"1F68F",shortcode:"busstop",description:"BUS STOP",category:"travel"},{name:"minibus",unicode:"1F690",shortcode:"minibus",description:"MINIBUS",category:"travel"},{name:"ambulance",unicode:"1F691",shortcode:"ambulance",description:"AMBULANCE",category:"travel"},{name:"fire_engine",unicode:"1F692",shortcode:"fire_engine",description:"FIRE ENGINE",category:"travel"},{name:"police_car",unicode:"1F693",shortcode:"police_car",description:"POLICE CAR",category:"travel"},{name:"oncoming_police_car",unicode:"1F694",shortcode:"oncoming_police_car",description:"ONCOMING POLICE CAR",category:"travel"},{name:"taxi",unicode:"1F695",shortcode:"taxi",description:"TAXI",category:"travel"},{name:"oncoming_taxi",unicode:"1F696",shortcode:"oncoming_taxi",description:"ONCOMING TAXI",category:"travel"},{name:"car",unicode:"1F697",shortcode:"car",description:"AUTOMOBILE",category:"travel"},{name:"oncoming_automobile",unicode:"1F698",shortcode:"oncoming_automobile",description:"ONCOMING AUTOMOBILE",category:"travel"},{name:"blue_car",unicode:"1F699",shortcode:"blue_car",description:"RECREATIONAL VEHICLE",category:"travel"},{name:"truck",unicode:"1F69A",shortcode:"truck",description:"DELIVERY TRUCK",category:"travel"},{name:"articulated_lorry",unicode:"1F69B",shortcode:"articulated_lorry",description:"ARTICULATED LORRY",category:"travel"},{name:"tractor",unicode:"1F69C",shortcode:"tractor",description:"TRACTOR",category:"travel"},{name:"monorail",unicode:"1F69D",shortcode:"monorail",description:"MONORAIL",category:"travel"},{name:"mountain_railway",unicode:"1F69E",shortcode:"mountain_railway",description:"MOUNTAIN RAILWAY",category:"travel"},{name:"suspension_railway",unicode:"1F69F",shortcode:"suspension_railway",description:"SUSPENSION RAILWAY",category:"travel"},{name:"mountain_cableway",unicode:"1F6A0",shortcode:"mountain_cableway",description:"MOUNTAIN CABLEWAY",category:"travel"},{name:"aerial_tramway",unicode:"1F6A1",shortcode:"aerial_tramway",description:"AERIAL TRAMWAY",category:"travel"},{name:"ship",unicode:"1F6A2",shortcode:"ship",description:"SHIP",category:"travel"},{name:"rowboat",unicode:"1F6A3",shortcode:"rowboat",description:"ROWBOAT",category:"travel"},{name:"speedboat",unicode:"1F6A4",shortcode:"speedboat",description:"SPEEDBOAT",category:"travel"},{name:"traffic_light",unicode:"1F6A5",shortcode:"traffic_light",description:"HORIZONTAL TRAFFIC LIGHT",category:"travel"},{name:"vertical_traffic_light",unicode:"1F6A6",shortcode:"vertical_traffic_light",description:"VERTICAL TRAFFIC LIGHT",category:"travel"},{name:"construction",unicode:"1F6A7",shortcode:"construction",description:"CONSTRUCTION SIGN",category:"travel"},{name:"rotating_light",unicode:"1F6A8",shortcode:"rotating_light",description:"POLICE CARS REVOLVING LIGHT",category:"travel"},{name:"triangular_flag_on_post",unicode:"1F6A9",shortcode:"triangular_flag_on_post",description:"TRIANGULAR FLAG ON POST",category:"travel"},{name:"door",unicode:"1F6AA",shortcode:"door",description:"DOOR",category:"travel"},{name:"no_entry_sign",unicode:"1F6AB",shortcode:"no_entry_sign",description:"NO ENTRY SIGN",category:"travel"},{name:"smoking",unicode:"1F6AC",shortcode:"smoking",description:"SMOKING SYMBOL",category:"travel"},{name:"no_smoking",unicode:"1F6AD",shortcode:"no_smoking",description:"NO SMOKING SYMBOL",category:"travel"},{name:"put_litter_in_its_place",unicode:"1F6AE",shortcode:"put_litter_in_its_place",description:"PUT LITTER IN ITS PLACE SYMBOL",category:"travel"},{name:"do_not_litter",unicode:"1F6AF",shortcode:"do_not_litter",description:"DO NOT LITTER SYMBOL",category:"travel"},{name:"potable_water",unicode:"1F6B0",shortcode:"potable_water",description:"POTABLE WATER SYMBOL",category:"travel"},{name:"non-potable_water",unicode:"1F6B1",shortcode:"non-potable_water",description:"NON-POTABLE WATER SYMBOL",category:"travel"},{name:"bike",unicode:"1F6B2",shortcode:"bike",description:"BICYCLE",category:"travel"},{name:"no_bicycles",unicode:"1F6B3",shortcode:"no_bicycles",description:"NO BICYCLES",category:"travel"},{name:"bicyclist",unicode:"1F6B4",shortcode:"bicyclist",description:"BICYCLIST",category:"travel"},{name:"mountain_bicyclist",unicode:"1F6B5",shortcode:"mountain_bicyclist",description:"MOUNTAIN BICYCLIST",category:"travel"},{name:"walking",unicode:"1F6B6",shortcode:"walking",description:"PEDESTRIAN",category:"travel"},{name:"no_pedestrians",unicode:"1F6B7",shortcode:"no_pedestrians",description:"NO PEDESTRIANS",category:"travel"},{name:"children_crossing",unicode:"1F6B8",shortcode:"children_crossing",description:"CHILDREN CROSSING",category:"travel"},{name:"mens",unicode:"1F6B9",shortcode:"mens",description:"MENS SYMBOL",category:"travel"},{name:"womens",unicode:"1F6BA",shortcode:"womens",description:"WOMENS SYMBOL",category:"travel"},{name:"restroom",unicode:"1F6BB",shortcode:"restroom",description:"RESTROOM",category:"travel"},{name:"baby_symbol",unicode:"1F6BC",shortcode:"baby_symbol",description:"BABY SYMBOL",category:"travel"},{name:"toilet",unicode:"1F6BD",shortcode:"toilet",description:"TOILET",category:"travel"},{name:"wc",unicode:"1F6BE",shortcode:"wc",description:"WATER CLOSET",category:"travel"},{name:"shower",unicode:"1F6BF",shortcode:"shower",description:"SHOWER",category:"travel"},{name:"bath",unicode:"1F6C0",shortcode:"bath",description:"BATH",category:"travel"},{name:"bathtub",unicode:"1F6C1",shortcode:"bathtub",description:"BATHTUB",category:"travel"},{name:"passport_control",unicode:"1F6C2",shortcode:"passport_control",description:"PASSPORT CONTROL",category:"travel"},{name:"customs",unicode:"1F6C3",shortcode:"customs",description:"CUSTOMS",category:"travel"},{name:"baggage_claim",unicode:"1F6C4",shortcode:"baggage_claim",description:"BAGGAGE CLAIM",category:"travel"},{name:"left_luggage",unicode:"1F6C5",shortcode:"left_luggage",description:"LEFT LUGGAGE",category:"travel"},{name:"hash",unicode:"0023-20E3",shortcode:"hash",description:"HASH KEY",category:"folderol"},{name:"zero",unicode:"0030-20E3",shortcode:"zero",description:"KEYCAP 0",category:"folderol"},{name:"one",unicode:"0031-20E3",shortcode:"one",description:"KEYCAP 1",category:"folderol"},{name:"two",unicode:"0032-20E3",shortcode:"two",description:"KEYCAP 2",category:"folderol"},{name:"three",unicode:"0033-20E3",shortcode:"three",description:"KEYCAP 3",category:"folderol"},{name:"four",unicode:"0034-20E3",shortcode:"four",description:"KEYCAP 4",category:"folderol"},{name:"five",unicode:"0035-20E3",shortcode:"five",description:"KEYCAP 5",category:"folderol"},{name:"six",unicode:"0036-20E3",shortcode:"six",description:"KEYCAP 6",category:"folderol"},{name:"seven",unicode:"0037-20E3",shortcode:"seven",description:"KEYCAP 7",category:"folderol"},{name:"eight",unicode:"0038-20E3",shortcode:"eight",description:"KEYCAP 8",category:"folderol"},{name:"nine",unicode:"0039-20E3",shortcode:"nine",description:"KEYCAP 9",category:"folderol"},{name:"flag-ca",unicode:"1F1E8-1F1E6",shortcode:"flag-ca",description:"REGIONAL INDICATOR SYMBOL LETTERS CA",category:"folderol"},{name:"flag-ch",unicode:"1F1E8-1F1ED",shortcode:"flag-ch",description:"REGIONAL INDICATOR SYMBOL LETTERS CH",category:"folderol"},{name:"flag-cl",unicode:"1F1E8-1F1F1",shortcode:"flag-cl",description:"REGIONAL INDICATOR SYMBOL LETTERS CL",category:"folderol"},{name:"flag-cn",unicode:"1F1E8-1F1F3",shortcode:"flag-cn",description:"REGIONAL INDICATOR SYMBOL LETTERS CN",category:"folderol"},{name:"flag-co",unicode:"1F1E8-1F1F4",shortcode:"flag-co",description:"REGIONAL INDICATOR SYMBOL LETTERS CO",category:"folderol"},{name:"flag-de",unicode:"1F1E9-1F1EA",shortcode:"flag-de",description:"REGIONAL INDICATOR SYMBOL LETTERS DE",category:"folderol"},{name:"flag-dk",unicode:"1F1E9-1F1F0",shortcode:"flag-dk",description:"REGIONAL INDICATOR SYMBOL LETTERS DK",category:"folderol"},{name:"flag-es",unicode:"1F1EA-1F1F8",shortcode:"flag-es",description:"REGIONAL INDICATOR SYMBOL LETTERS ES",category:"folderol"},{name:"flag-fi",unicode:"1F1EB-1F1EE",shortcode:"flag-fi",description:"REGIONAL INDICATOR SYMBOL LETTERS FI",category:"folderol"},{name:"flag-fr",unicode:"1F1EB-1F1F7",shortcode:"flag-fr",description:"REGIONAL INDICATOR SYMBOL LETTERS FR",category:"folderol"},{name:"flag-gb",unicode:"1F1EC-1F1E7",shortcode:"flag-gb",description:"REGIONAL INDICATOR SYMBOL LETTERS GB",category:"folderol"},{name:"flag-id",unicode:"1F1EE-1F1E9",shortcode:"flag-id",description:"REGIONAL INDICATOR SYMBOL LETTERS ID",category:"folderol"},{name:"flag-ie",unicode:"1F1EE-1F1EA",shortcode:"flag-ie",description:"REGIONAL INDICATOR SYMBOL LETTERS IE",category:"folderol"},{name:"flag-il",unicode:"1F1EE-1F1F1",shortcode:"flag-il",description:"REGIONAL INDICATOR SYMBOL LETTERS IL",category:"folderol"},{name:"flag-in",unicode:"1F1EE-1F1F3",shortcode:"flag-in",description:"REGIONAL INDICATOR SYMBOL LETTERS IN",category:"folderol"},{name:"flag-it",unicode:"1F1EE-1F1F9",shortcode:"flag-it",description:"REGIONAL INDICATOR SYMBOL LETTERS IT",category:"folderol"},{name:"flag-jp",unicode:"1F1EF-1F1F5",shortcode:"flag-jp",description:"REGIONAL INDICATOR SYMBOL LETTERS JP",category:"folderol"},{name:"flag-kr",unicode:"1F1F0-1F1F7",shortcode:"flag-kr",description:"REGIONAL INDICATOR SYMBOL LETTERS KR",category:"folderol"},{name:"flag-ru",unicode:"1F1F7-1F1FA",shortcode:"flag-ru",description:"REGIONAL INDICATOR SYMBOL LETTERS RU",category:"folderol"},{name:"flag-us",unicode:"1F1FA-1F1F8",shortcode:"flag-us",description:"REGIONAL INDICATOR SYMBOL LETTERS US",category:"folderol"}]});/*! Fabric.js Copyright 2008-2014, Printio (Juriy Zaytsev, Maxim Chernyak) */
var fabric=fabric||{version:"1.4.13"};"undefined"!=typeof exports&&(exports.fabric=fabric),"undefined"!=typeof document&&"undefined"!=typeof window?(fabric.document=document,fabric.window=window):(fabric.document=require("jsdom").jsdom("<!DOCTYPE html><html><head></head><body></body></html>"),fabric.document.createWindow?fabric.window=fabric.document.createWindow():fabric.window=fabric.document.parentWindow),fabric.isTouchSupported="ontouchstart"in fabric.document.documentElement,fabric.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,fabric.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width"],fabric.DPI=96,fabric.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)",function(){function t(t,e){this.__eventListeners[t]&&(e?fabric.util.removeFromArray(this.__eventListeners[t],e):this.__eventListeners[t].length=0)}function e(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var i in t)this.on(i,t[i]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function i(e,i){if(this.__eventListeners){if(0===arguments.length)this.__eventListeners={};else if(1===arguments.length&&"object"==typeof arguments[0])for(var n in e)t.call(this,n,e[n]);else t.call(this,e,i);return this}}function n(t,e){if(this.__eventListeners){var i=this.__eventListeners[t];if(i){for(var n=0,r=i.length;r>n;n++)i[n].call(this,e||{});return this}}}fabric.Observable={observe:e,stopObserving:i,fire:n,on:e,off:i,trigger:n}}(),fabric.Collection={add:function(){this._objects.push.apply(this._objects,arguments);for(var t=0,e=arguments.length;e>t;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.renderAll(),this},insertAt:function(t,e,i){var n=this.getObjects();return i?n[e]=t:n.splice(e,0,t),this._onObjectAdded(t),this.renderOnAddRemove&&this.renderAll(),this},remove:function(){for(var t,e=this.getObjects(),i=0,n=arguments.length;n>i;i++)t=e.indexOf(arguments[i]),-1!==t&&(e.splice(t,1),this._onObjectRemoved(arguments[i]));return this.renderOnAddRemove&&this.renderAll(),this},forEachObject:function(t,e){for(var i=this.getObjects(),n=i.length;n--;)t.call(e,i[n],n,i);return this},getObjects:function(t){return"undefined"==typeof t?this._objects:this._objects.filter(function(e){return e.type===t})},item:function(t){return this.getObjects()[t]},isEmpty:function(){return 0===this.getObjects().length},size:function(){return this.getObjects().length},contains:function(t){return this.getObjects().indexOf(t)>-1},complexity:function(){return this.getObjects().reduce(function(t,e){return t+=e.complexity?e.complexity():0},0)}},function(t){var e=Math.sqrt,i=Math.atan2,n=Math.PI/180;fabric.util={removeFromArray:function(t,e){var i=t.indexOf(e);return-1!==i&&t.splice(i,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*n},radiansToDegrees:function(t){return t/n},rotatePoint:function(t,e,i){var n=Math.sin(i),r=Math.cos(i);t.subtractEquals(e);var o=t.x*r-t.y*n,s=t.x*n+t.y*r;return new fabric.Point(o,s).addEquals(e)},transformPoint:function(t,e,i){return i?new fabric.Point(e[0]*t.x+e[1]*t.y,e[2]*t.x+e[3]*t.y):new fabric.Point(e[0]*t.x+e[1]*t.y+e[4],e[2]*t.x+e[3]*t.y+e[5])},invertTransform:function(t){var e=t.slice(),i=1/(t[0]*t[3]-t[1]*t[2]);e=[i*t[3],-i*t[1],-i*t[2],i*t[0],0,0];var n=fabric.util.transformPoint({x:t[4],y:t[5]},e);return e[4]=-n.x,e[5]=-n.y,e},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var i=/\D{0,2}$/.exec(t),n=parseFloat(t);switch(e||(e=fabric.Text.DEFAULT_SVG_FONT_SIZE),i[0]){case"mm":return n*fabric.DPI/25.4;case"cm":return n*fabric.DPI/2.54;case"in":return n*fabric.DPI;case"pt":return n*fabric.DPI/72;case"pc":return n*fabric.DPI/72*12;case"em":return n*e;default:return n}},falseFunction:function(){return!1},getKlass:function(t,e){return t=fabric.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),fabric.util.resolveNamespace(e)[t]},resolveNamespace:function(e){if(!e)return fabric;for(var i=e.split("."),n=i.length,r=t||fabric.window,o=0;n>o;++o)r=r[i[o]];return r},loadImage:function(t,e,i,n){if(!t)return void(e&&e.call(i,t));var r=fabric.util.createImage();r.onload=function(){e&&e.call(i,r),r=r.onload=r.onerror=null},r.onerror=function(){fabric.log("Error loading "+r.src),e&&e.call(i,null,!0),r=r.onload=r.onerror=null},0!==t.indexOf("data")&&"undefined"!=typeof n&&(r.crossOrigin=n),r.src=t},enlivenObjects:function(t,e,i,n){function r(){++s===a&&e&&e(o)}t=t||[];var o=[],s=0,a=t.length;return a?void t.forEach(function(t,e){if(!t||!t.type)return void r();var s=fabric.util.getKlass(t.type,i);s.async?s.fromObject(t,function(i,s){s||(o[e]=i,n&&n(t,o[e])),r()}):(o[e]=s.fromObject(t),n&&n(t,o[e]),r())}):void(e&&e(o))},groupSVGElements:function(t,e,i){var n;return n=new fabric.PathGroup(t,e),"undefined"!=typeof i&&n.setSourcePath(i),n},populateWithProperties:function(t,e,i){if(i&&"[object Array]"===Object.prototype.toString.call(i))for(var n=0,r=i.length;r>n;n++)i[n]in t&&(e[i[n]]=t[i[n]])},drawDashedLine:function(t,n,r,o,s,a){var c=o-n,l=s-r,h=e(c*c+l*l),u=i(l,c),d=a.length,f=0,p=!0;for(t.save(),t.translate(n,r),t.moveTo(0,0),t.rotate(u),n=0;h>n;)n+=a[f++%d],n>h&&(n=h),t[p?"lineTo":"moveTo"](n,0),p=!p;t.restore()},createCanvasElement:function(t){return t||(t=fabric.document.createElement("canvas")),t.getContext||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(t),t},createImage:function(){return fabric.isLikelyNode?new(require("canvas").Image):fabric.document.createElement("img")},createAccessors:function(t){for(var e=t.prototype,i=e.stateProperties.length;i--;){var n=e.stateProperties[i],r=n.charAt(0).toUpperCase()+n.slice(1),o="set"+r,s="get"+r;e[s]||(e[s]=function(t){return new Function('return this.get("'+t+'")')}(n)),e[o]||(e[o]=function(t){return new Function("value",'return this.set("'+t+'", value)')}(n))}},clipContext:function(t,e){e.save(),e.beginPath(),t.clipTo(e),e.clip()},multiplyTransformMatrices:function(t,e){for(var i=[[t[0],t[2],t[4]],[t[1],t[3],t[5]],[0,0,1]],n=[[e[0],e[2],e[4]],[e[1],e[3],e[5]],[0,0,1]],r=[],o=0;3>o;o++){r[o]=[];for(var s=0;3>s;s++){for(var a=0,c=0;3>c;c++)a+=i[o][c]*n[c][s];r[o][s]=a}}return[r[0][0],r[1][0],r[0][1],r[1][1],r[0][2],r[1][2]]},getFunctionBody:function(t){return(String(t).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(t,e,i,n){n>0&&(e>n?e-=n:e=0,i>n?i-=n:i=0);for(var r=!0,o=t.getImageData(e,i,2*n||1,2*n||1),s=3,a=o.data.length;a>s;s+=4){var c=o.data[s];if(r=0>=c,r===!1)break}return o=null,r}}}("undefined"!=typeof exports?exports:this),function(){function t(t,n,o,s,c,l,h){var u=a.call(arguments);if(r[u])return r[u];var d=Math.PI,f=h*d/180,p=Math.sin(f),g=Math.cos(f),m=0,y=0;o=Math.abs(o),s=Math.abs(s);var v=-g*t*.5-p*n*.5,b=-g*n*.5+p*t*.5,_=o*o,x=s*s,C=b*b,E=v*v,S=_*x-_*C-x*E,A=0;if(0>S){var w=Math.sqrt(1-S/(_*x));o*=w,s*=w}else A=(c===l?-1:1)*Math.sqrt(S/(_*C+x*E));var T=A*o*b/s,O=-A*s*v/o,F=g*T-p*O+.5*t,I=p*T+g*O+.5*n,k=i(1,0,(v-T)/o,(b-O)/s),L=i((v-T)/o,(b-O)/s,(-v-T)/o,(-b-O)/s);0===l&&L>0?L-=2*d:1===l&&0>L&&(L+=2*d);for(var R=Math.ceil(Math.abs(L/d*2)),N=[],D=L/R,P=8/3*Math.sin(D/4)*Math.sin(D/4)/Math.sin(D/2),M=k+D,j=0;R>j;j++)N[j]=e(k,M,g,p,o,s,F,I,P,m,y),m=N[j][4],y=N[j][5],k=M,M+=D;return r[u]=N,N}function e(t,e,i,n,r,s,c,l,h,u,d){var f=a.call(arguments);if(o[f])return o[f];var p=Math.cos(t),g=Math.sin(t),m=Math.cos(e),y=Math.sin(e),v=i*r*m-n*s*y+c,b=n*r*m+i*s*y+l,_=u+h*(-i*r*g-n*s*p),x=d+h*(-n*r*g+i*s*p),C=v+h*(i*r*y+n*s*m),E=b+h*(n*r*y-i*s*m);return o[f]=[_,x,C,E,v,b],o[f]}function i(t,e,i,n){var r=Math.atan2(e,t),o=Math.atan2(n,i);return o>=r?o-r:2*Math.PI-(r-o)}function n(t,e,i,n,r,o,c,l){var h=a.call(arguments);if(s[h])return s[h];var u,d,f,p,g,m,y,v,b=Math.sqrt,_=Math.min,x=Math.max,C=Math.abs,E=[],S=[[],[]];d=6*t-12*i+6*r,u=-3*t+9*i-9*r+3*c,f=3*i-3*t;for(var A=0;2>A;++A)if(A>0&&(d=6*e-12*n+6*o,u=-3*e+9*n-9*o+3*l,f=3*n-3*e),C(u)<1e-12){if(C(d)<1e-12)continue;p=-f/d,p>0&&1>p&&E.push(p)}else y=d*d-4*f*u,0>y||(v=b(y),g=(-d+v)/(2*u),g>0&&1>g&&E.push(g),m=(-d-v)/(2*u),m>0&&1>m&&E.push(m));for(var w,T,O,F=E.length,I=F;F--;)p=E[F],O=1-p,w=O*O*O*t+3*O*O*p*i+3*O*p*p*r+p*p*p*c,S[0][F]=w,T=O*O*O*e+3*O*O*p*n+3*O*p*p*o+p*p*p*l,S[1][F]=T;S[0][I]=t,S[1][I]=e,S[0][I+1]=c,S[1][I+1]=l;var k=[{x:_.apply(null,S[0]),y:_.apply(null,S[1])},{x:x.apply(null,S[0]),y:x.apply(null,S[1])}];return s[h]=k,k}var r={},o={},s={},a=Array.prototype.join;fabric.util.drawArc=function(e,i,n,r){for(var o=r[0],s=r[1],a=r[2],c=r[3],l=r[4],h=r[5],u=r[6],d=[[],[],[],[]],f=t(h-i,u-n,o,s,c,l,a),p=0,g=f.length;g>p;p++)d[p][0]=f[p][0]+i,d[p][1]=f[p][1]+n,d[p][2]=f[p][2]+i,d[p][3]=f[p][3]+n,d[p][4]=f[p][4]+i,d[p][5]=f[p][5]+n,e.bezierCurveTo.apply(e,d[p])},fabric.util.getBoundsOfArc=function(e,i,r,o,s,a,c,l,h){for(var u=0,d=0,f=[],p=[],g=t(l-e,h-i,r,o,a,c,s),m=0,y=g.length;y>m;m++)f=n(u,d,g[m][0],g[m][1],g[m][2],g[m][3],g[m][4],g[m][5]),f[0].x+=e,f[0].y+=i,f[1].x+=e,f[1].y+=i,p.push(f[0]),p.push(f[1]),u=g[m][4],d=g[m][5];return p},fabric.util.getBoundsOfCurve=n}(),function(){function t(t,e){for(var i=r.call(arguments,2),n=[],o=0,s=t.length;s>o;o++)n[o]=i.length?t[o][e].apply(t[o],i):t[o][e].call(t[o]);return n}function e(t,e){return n(t,e,function(t,e){return t>=e})}function i(t,e){return n(t,e,function(t,e){return e>t})}function n(t,e,i){if(t&&0!==t.length){var n=t.length-1,r=e?t[n][e]:t[n];if(e)for(;n--;)i(t[n][e],r)&&(r=t[n][e]);else for(;n--;)i(t[n],r)&&(r=t[n]);return r}}var r=Array.prototype.slice;Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==Number.POSITIVE_INFINITY&&n!==Number.NEGATIVE_INFINITY&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var r=n>=0?n:Math.max(i-Math.abs(n),0);i>r;r++)if(r in e&&e[r]===t)return r;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var i=0,n=this.length>>>0;n>i;i++)i in this&&t.call(e,this[i],i,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){for(var i=[],n=0,r=this.length>>>0;r>n;n++)n in this&&(i[n]=t.call(e,this[n],n,this));return i}),Array.prototype.every||(Array.prototype.every=function(t,e){for(var i=0,n=this.length>>>0;n>i;i++)if(i in this&&!t.call(e,this[i],i,this))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t,e){for(var i=0,n=this.length>>>0;n>i;i++)if(i in this&&t.call(e,this[i],i,this))return!0;return!1}),Array.prototype.filter||(Array.prototype.filter=function(t,e){for(var i,n=[],r=0,o=this.length>>>0;o>r;r++)r in this&&(i=this[r],t.call(e,i,r,this)&&n.push(i));return n}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e,i=this.length>>>0,n=0;if(arguments.length>1)e=arguments[1];else for(;;){if(n in this){e=this[n++];break}if(++n>=i)throw new TypeError}for(;i>n;n++)n in this&&(e=t.call(null,e,this[n],n,this));return e}),fabric.util.array={invoke:t,min:i,max:e}}(),function(){function t(t,e){for(var i in e)t[i]=e[i];return t}function e(e){return t({},e)}fabric.util.object={extend:t,clone:e}}(),function(){function t(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})}function e(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())}function i(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")}),fabric.util.string={camelize:t,capitalize:e,escapeXml:i}}(),function(){var t=Array.prototype.slice,e=Function.prototype.apply,i=function(){};Function.prototype.bind||(Function.prototype.bind=function(n){var r,o=this,s=t.call(arguments,1);return r=s.length?function(){return e.call(o,this instanceof i?this:n,s.concat(t.call(arguments)))}:function(){return e.call(o,this instanceof i?this:n,arguments)},i.prototype=this.prototype,r.prototype=new i,r})}(),function(){function t(){}function e(t){var e=this.constructor.superclass.prototype[t];return arguments.length>1?e.apply(this,n.call(arguments,1)):e.call(this)}function i(){function i(){this.initialize.apply(this,arguments)}var o=null,a=n.call(arguments,0);"function"==typeof a[0]&&(o=a.shift()),i.superclass=o,i.subclasses=[],o&&(t.prototype=o.prototype,i.prototype=new t,o.subclasses.push(i));for(var c=0,l=a.length;l>c;c++)s(i,a[c],o);return i.prototype.initialize||(i.prototype.initialize=r),i.prototype.constructor=i,i.prototype.callSuper=e,i}var n=Array.prototype.slice,r=function(){},o=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),s=function(t,e,i){for(var n in e)n in t.prototype&&"function"==typeof t.prototype[n]&&(e[n]+"").indexOf("callSuper")>-1?t.prototype[n]=function(t){return function(){var n=this.constructor.superclass;this.constructor.superclass=i;var r=e[t].apply(this,arguments);return this.constructor.superclass=n,"initialize"!==t?r:void 0}}(n):t.prototype[n]=e[n],o&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};fabric.util.createClass=i}(),function(){function t(t){var e,i,n=Array.prototype.slice.call(arguments,1),r=n.length;for(i=0;r>i;i++)if(e=typeof t[n[i]],!/^(?:function|object|unknown)$/.test(e))return!1;return!0}function e(t,e){return{handler:e,wrappedHandler:i(t,e)}}function i(t,e){return function(i){e.call(s(t),i||fabric.window.event)}}function n(t,e){return function(i){if(g[t]&&g[t][e])for(var n=g[t][e],r=0,o=n.length;o>r;r++)n[r].call(this,i||fabric.window.event)}}function r(t,e){t||(t=fabric.window.event);var i=t.target||(typeof t.srcElement!==c?t.srcElement:null),n=fabric.util.getScrollLeftTop(i,e);return{x:m(t)+n.left,y:y(t)+n.top}}function o(t,e,i){var n="touchend"===t.type?"changedTouches":"touches";return t[n]&&t[n][0]?t[n][0][e]-(t[n][0][e]-t[n][0][i])||t[i]:t[i]}var s,a,c="unknown",l=function(){var t=0;return function(e){return e.__uniqueID||(e.__uniqueID="uniqueID__"+t++)}}();!function(){var t={};s=function(e){return t[e]},a=function(e,i){t[e]=i}}();var h,u,d=t(fabric.document.documentElement,"addEventListener","removeEventListener")&&t(fabric.window,"addEventListener","removeEventListener"),f=t(fabric.document.documentElement,"attachEvent","detachEvent")&&t(fabric.window,"attachEvent","detachEvent"),p={},g={};d?(h=function(t,e,i){t.addEventListener(e,i,!1)},u=function(t,e,i){t.removeEventListener(e,i,!1)}):f?(h=function(t,i,n){var r=l(t);a(r,t),p[r]||(p[r]={}),p[r][i]||(p[r][i]=[]);var o=e(r,n);p[r][i].push(o),t.attachEvent("on"+i,o.wrappedHandler)},u=function(t,e,i){var n,r=l(t);if(p[r]&&p[r][e])for(var o=0,s=p[r][e].length;s>o;o++)n=p[r][e][o],n&&n.handler===i&&(t.detachEvent("on"+e,n.wrappedHandler),p[r][e][o]=null)}):(h=function(t,e,i){var r=l(t);if(g[r]||(g[r]={}),!g[r][e]){g[r][e]=[];var o=t["on"+e];o&&g[r][e].push(o),t["on"+e]=n(r,e)}g[r][e].push(i)},u=function(t,e,i){var n=l(t);if(g[n]&&g[n][e])for(var r=g[n][e],o=0,s=r.length;s>o;o++)r[o]===i&&r.splice(o,1)}),fabric.util.addListener=h,fabric.util.removeListener=u;var m=function(t){return typeof t.clientX!==c?t.clientX:0},y=function(t){return typeof t.clientY!==c?t.clientY:0};fabric.isTouchSupported&&(m=function(t){return o(t,"pageX","clientX")},y=function(t){return o(t,"pageY","clientY")}),fabric.util.getPointer=r,fabric.util.object.extend(fabric.util,fabric.Observable)}(),function(){function t(t,e){var i=t.style;if(!i)return t;if("string"==typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?o(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var n in e)if("opacity"===n)o(t,e[n]);else{var r="float"===n||"cssFloat"===n?"undefined"==typeof i.styleFloat?"cssFloat":"styleFloat":n;i[r]=e[n]}return t}var e=fabric.document.createElement("div"),i="string"==typeof e.style.opacity,n="string"==typeof e.style.filter,r=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,o=function(t){return t};i?o=function(t,e){return t.style.opacity=e,t}:n&&(o=function(t,e){var i=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(i.zoom=1),r.test(i.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",i.filter=i.filter.replace(r,e)):i.filter+=" alpha(opacity="+100*e+")",t}),fabric.util.setStyle=t}(),function(){function t(t){return"string"==typeof t?fabric.document.getElementById(t):t}function e(t,e){var i=fabric.document.createElement(t);for(var n in e)"class"===n?i.className=e[n]:"for"===n?i.htmlFor=e[n]:i.setAttribute(n,e[n]);return i}function i(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)}function n(t,i,n){return"string"==typeof i&&(i=e(i,n)),t.parentNode&&t.parentNode.replaceChild(i,t),i.appendChild(t),i}function r(t,e){var i,n,r=0,o=0,s=fabric.document.documentElement,a=fabric.document.body||{scrollLeft:0,scrollTop:0};for(n=t;t&&t.parentNode&&!i;)t=t.parentNode,1===t.nodeType&&"fixed"===fabric.util.getElementStyle(t,"position")&&(i=t),1===t.nodeType&&n!==e&&"absolute"===fabric.util.getElementStyle(t,"position")?(r=0,o=0):t===fabric.document?(r=a.scrollLeft||s.scrollLeft||0,o=a.scrollTop||s.scrollTop||0):(r+=t.scrollLeft||0,o+=t.scrollTop||0);return{left:r,top:o}}function o(t){var e,i,n=t&&t.ownerDocument,r={left:0,top:0},o={left:0,top:0},s={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!n)return{left:0,top:0};for(var a in s)o[s[a]]+=parseInt(h(t,a),10)||0;return e=n.documentElement,"undefined"!=typeof t.getBoundingClientRect&&(r=t.getBoundingClientRect()),i=fabric.util.getScrollLeftTop(t,null),{left:r.left+i.left-(e.clientLeft||0)+o.left,top:r.top+i.top-(e.clientTop||0)+o.top}}var s,a=Array.prototype.slice,c=function(t){return a.call(t,0)};try{s=c(fabric.document.childNodes)instanceof Array}catch(l){}s||(c=function(t){for(var e=new Array(t.length),i=t.length;i--;)e[i]=t[i];return e});var h;h=fabric.document.defaultView&&fabric.document.defaultView.getComputedStyle?function(t,e){var i=fabric.document.defaultView.getComputedStyle(t,null);return i?i[e]:void 0}:function(t,e){var i=t.style[e];return!i&&t.currentStyle&&(i=t.currentStyle[e]),i},function(){function t(t){return"undefined"!=typeof t.onselectstart&&(t.onselectstart=fabric.util.falseFunction),n?t.style[n]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t}function e(t){return"undefined"!=typeof t.onselectstart&&(t.onselectstart=null),n?t.style[n]="":"string"==typeof t.unselectable&&(t.unselectable=""),t}var i=fabric.document.documentElement.style,n="userSelect"in i?"userSelect":"MozUserSelect"in i?"MozUserSelect":"WebkitUserSelect"in i?"WebkitUserSelect":"KhtmlUserSelect"in i?"KhtmlUserSelect":"";fabric.util.makeElementUnselectable=t,fabric.util.makeElementSelectable=e}(),function(){function t(t,e){var i=fabric.document.getElementsByTagName("head")[0],n=fabric.document.createElement("script"),r=!0;n.onload=n.onreadystatechange=function(t){if(r){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;r=!1,e(t||fabric.window.event),n=n.onload=n.onreadystatechange=null}},n.src=t,i.appendChild(n)}fabric.util.getScript=t}(),fabric.util.getById=t,fabric.util.toArray=c,fabric.util.makeElement=e,fabric.util.addClass=i,fabric.util.wrapElement=n,fabric.util.getScrollLeftTop=r,fabric.util.getElementOffset=o,fabric.util.getElementStyle=h}(),function(){function t(t,e){return t+(/\?/.test(t)?"&":"?")+e}function e(){}function i(i,r){r||(r={});var o,s=r.method?r.method.toUpperCase():"GET",a=r.onComplete||function(){},c=n();return c.onreadystatechange=function(){4===c.readyState&&(a(c),c.onreadystatechange=e)},"GET"===s&&(o=null,"string"==typeof r.parameters&&(i=t(i,r.parameters))),c.open(s,i,!0),"POST"!==s&&"PUT"!==s||c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(o),c}var n=function(){for(var t=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],e=t.length;e--;)try{var i=t[e]();if(i)return t[e]}catch(n){}}();fabric.util.request=i}(),fabric.log=function(){},fabric.warn=function(){},"undefined"!=typeof console&&["log","warn"].forEach(function(t){"undefined"!=typeof console[t]&&console[t].apply&&(fabric[t]=function(){return console[t].apply(console,arguments)})}),function(){function t(t){e(function(i){t||(t={});var n,r=i||+new Date,o=t.duration||500,s=r+o,a=t.onChange||function(){},c=t.abort||function(){return!1},l=t.easing||function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},h="startValue"in t?t.startValue:0,u="endValue"in t?t.endValue:100,d=t.byValue||u-h;t.onStart&&t.onStart(),function f(i){n=i||+new Date;var u=n>s?o:n-r;return c()?void(t.onComplete&&t.onComplete()):(a(l(u,h,d,o)),n>s?void(t.onComplete&&t.onComplete()):void e(f))}(r)})}function e(){return i.apply(fabric.window,arguments)}var i=fabric.window.requestAnimationFrame||fabric.window.webkitRequestAnimationFrame||fabric.window.mozRequestAnimationFrame||fabric.window.oRequestAnimationFrame||fabric.window.msRequestAnimationFrame||function(t){fabric.window.setTimeout(t,1e3/60)};fabric.util.animate=t,fabric.util.requestAnimFrame=e}(),function(){function t(t,e,i,n){return t<Math.abs(e)?(t=e,n=i/4):n=i/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:i,s:n}}function e(t,e,i){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*i-t.s)*(2*Math.PI)/t.p)}function i(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e}function n(t,e,i,n){return t/=n/2,1>t?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}function r(t,e,i,n){return i*(t/=n)*t*t*t+e}function o(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e}function s(t,e,i,n){return t/=n/2,1>t?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e}function a(t,e,i,n){return i*(t/=n)*t*t*t*t+e}function c(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e}function l(t,e,i,n){return t/=n/2,1>t?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e}function h(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e}function u(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e}function d(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e}function f(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e}function p(t,e,i,n){return t===n?e+i:i*(-Math.pow(2,-10*t/n)+1)+e}function g(t,e,i,n){return 0===t?e:t===n?e+i:(t/=n/2,1>t?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e)}function m(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e}function y(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e}function v(t,e,i,n){return t/=n/2,1>t?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e}function b(i,n,r,o){var s=1.70158,a=0,c=r;if(0===i)return n;if(i/=o,1===i)return n+r;a||(a=.3*o);var l=t(c,r,a,s);return-e(l,i,o)+n}function _(e,i,n,r){var o=1.70158,s=0,a=n;if(0===e)return i;if(e/=r,1===e)return i+n;s||(s=.3*r);var c=t(a,n,s,o);return c.a*Math.pow(2,-10*e)*Math.sin((e*r-c.s)*(2*Math.PI)/c.p)+c.c+i}function x(i,n,r,o){var s=1.70158,a=0,c=r;if(0===i)return n;if(i/=o/2,2===i)return n+r;a||(a=o*(.3*1.5));var l=t(c,r,a,s);return 1>i?-.5*e(l,i,o)+n:l.a*Math.pow(2,-10*(i-=1))*Math.sin((i*o-l.s)*(2*Math.PI)/l.p)*.5+l.c+n}function C(t,e,i,n,r){return void 0===r&&(r=1.70158),i*(t/=n)*t*((r+1)*t-r)+e}function E(t,e,i,n,r){return void 0===r&&(r=1.70158),i*((t=t/n-1)*t*((r+1)*t+r)+1)+e}function S(t,e,i,n,r){return void 0===r&&(r=1.70158),t/=n/2,1>t?i/2*(t*t*(((r*=1.525)+1)*t-r))+e:i/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+e}function A(t,e,i,n){return i-w(n-t,0,i,n)+e}function w(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e}function T(t,e,i,n){return n/2>t?.5*A(2*t,0,i,n)+e:.5*w(2*t-n,0,i,n)+.5*i+e}fabric.util.ease={easeInQuad:function(t,e,i,n){return i*(t/=n)*t+e},easeOutQuad:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,i,n){return t/=n/2,1>t?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,n){return i*(t/=n)*t*t+e},easeOutCubic:i,easeInOutCubic:n,easeInQuart:r,easeOutQuart:o,easeInOutQuart:s,easeInQuint:a,easeOutQuint:c,easeInOutQuint:l,easeInSine:h,easeOutSine:u,easeInOutSine:d,easeInExpo:f,easeOutExpo:p,easeInOutExpo:g,easeInCirc:m,easeOutCirc:y,easeInOutCirc:v,easeInElastic:b,easeOutElastic:_,easeInOutElastic:x,easeInBack:C,easeOutBack:E,easeInOutBack:S,easeInBounce:A,easeOutBounce:w,easeInOutBounce:T}}(),function(t){"use strict";function e(t){return t in x?x[t]:t}function i(t,e,i,n){var r,o="[object Array]"===Object.prototype.toString.call(e);return"fill"!==t&&"stroke"!==t||"none"!==e?"strokeDashArray"===t?e=e.replace(/,/g," ").split(/\s+/).map(function(t){return parseFloat(t)}):"transformMatrix"===t?e=i&&i.transformMatrix?_(i.transformMatrix,p.parseTransformAttribute(e)):p.parseTransformAttribute(e):"visible"===t?(e="none"!==e&&"hidden"!==e,i&&i.visible===!1&&(e=!1)):"originX"===t?e="start"===e?"left":"end"===e?"right":"center":r=o?e.map(b):b(e,n):e="",!o&&isNaN(r)?e:r}function n(t){for(var e in C)if(t[e]&&"undefined"!=typeof t[C[e]]&&0!==t[e].indexOf("url(")){var i=new p.Color(t[e]);t[e]=i.setAlpha(v(i.getAlpha()*t[C[e]],2)).toRgba()}return t}function r(t,n){var r,o;t.replace(/;$/,"").split(";").forEach(function(t){var s=t.split(":");r=e(s[0].trim().toLowerCase()),o=i(r,s[1].trim()),n[r]=o})}function o(t,n){var r,o;for(var s in t)"undefined"!=typeof t[s]&&(r=e(s.toLowerCase()),o=i(r,t[s]),n[r]=o)}function s(t,e){var i={};for(var n in p.cssRules[e])if(a(t,n.split(" ")))for(var r in p.cssRules[e][n])i[r]=p.cssRules[e][n][r];return i}function a(t,e){var i,n=!0;return i=l(t,e.pop()),i&&e.length&&(n=c(t,e)),i&&n&&0===e.length}function c(t,e){for(var i,n=!0;t.parentNode&&1===t.parentNode.nodeType&&e.length;)n&&(i=e.pop()),t=t.parentNode,n=l(t,i);return 0===e.length}function l(t,e){var i,n=t.nodeName,r=t.getAttribute("class"),o=t.getAttribute("id");if(i=new RegExp("^"+n,"i"),e=e.replace(i,""),o&&e.length&&(i=new RegExp("#"+o+"(?![a-zA-Z\\-]+)","i"),e=e.replace(i,"")),r&&e.length){r=r.split(" ");for(var s=r.length;s--;)i=new RegExp("\\."+r[s]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(i,"")}return 0===e.length}function h(t){for(var e=t.getElementsByTagName("use");e.length;){for(var i,n=e[0],r=n.getAttribute("xlink:href").substr(1),o=n.getAttribute("x")||0,s=n.getAttribute("y")||0,a=t.getElementById(r).cloneNode(!0),c=(a.getAttribute("transform")||"")+" translate("+o+", "+s+")",l=0,h=n.attributes,u=h.length;u>l;l++){var d=h.item(l);"x"!==d.nodeName&&"y"!==d.nodeName&&"xlink:href"!==d.nodeName&&("transform"===d.nodeName?c=d.nodeValue+" "+c:a.setAttribute(d.nodeName,d.nodeValue))}a.setAttribute("transform",c),a.setAttribute("instantiated_by_use","1"),a.removeAttribute("id"),i=n.parentNode,i.replaceChild(a,n)}}function u(t,e,i){var n,r,o,s,a=new RegExp("^\\s*("+p.reNum+"+)\\s*,?\\s*("+p.reNum+"+)\\s*,?\\s*("+p.reNum+"+)\\s*,?\\s*("+p.reNum+"+)\\s*$"),c=t.getAttribute("viewBox"),l=1,h=1,u=0,d=0;if(c&&(c=c.match(a))&&(u=-parseFloat(c[1]),d=-parseFloat(c[2]),n=parseFloat(c[3]),r=parseFloat(c[4]),e&&e!==n&&(l=e/n),i&&i!==r&&(h=i/r),h=l=l>h?h:l,1!==l||1!==h||0!==u||0!==d)){if(o="matrix("+l+" 0 0 "+h+" "+u*l+" "+d*h+")","svg"===t.tagName){for(s=t.ownerDocument.createElement("g");null!=t.firstChild;)s.appendChild(t.firstChild);t.appendChild(s)}else s=t,o+=s.getAttribute("transform");s.setAttribute("transform",o)}}function d(t){var e=t.objects,i=t.options;return e=e.map(function(t){return p[m(t.type)].fromObject(t)}),{objects:e,options:i}}function f(t,e,i){e[i]&&e[i].toSVG&&t.push('<pattern x="0" y="0" id="',i,'Pattern" ','width="',e[i].source.width,'" height="',e[i].source.height,'" patternUnits="userSpaceOnUse">','<image x="0" y="0" ','width="',e[i].source.width,'" height="',e[i].source.height,'" xlink:href="',e[i].source.src,'"></image></pattern>')}var p=t.fabric||(t.fabric={}),g=p.util.object.extend,m=p.util.string.capitalize,y=p.util.object.clone,v=p.util.toFixed,b=p.util.parseUnit,_=p.util.multiplyTransformMatrices,x={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"originX"},C={stroke:"strokeOpacity",fill:"fillOpacity"};p.cssRules={},p.gradientDefs={},p.parseTransformAttribute=function(){function t(t,e){var i=e[0];t[0]=Math.cos(i),t[1]=Math.sin(i),t[2]=-Math.sin(i),t[3]=Math.cos(i)}function e(t,e){var i=e[0],n=2===e.length?e[1]:e[0];t[0]=i,t[3]=n}function i(t,e){t[2]=Math.tan(p.util.degreesToRadians(e[0]))}function n(t,e){t[1]=Math.tan(p.util.degreesToRadians(e[0]))}function r(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}var o=[1,0,0,1,0,0],s=p.reNum,a="(?:\\s+,?\\s*|,\\s*)",c="(?:(skewX)\\s*\\(\\s*("+s+")\\s*\\))",l="(?:(skewY)\\s*\\(\\s*("+s+")\\s*\\))",h="(?:(rotate)\\s*\\(\\s*("+s+")(?:"+a+"("+s+")"+a+"("+s+"))?\\s*\\))",u="(?:(scale)\\s*\\(\\s*("+s+")(?:"+a+"("+s+"))?\\s*\\))",d="(?:(translate)\\s*\\(\\s*("+s+")(?:"+a+"("+s+"))?\\s*\\))",f="(?:(matrix)\\s*\\(\\s*("+s+")"+a+"("+s+")"+a+"("+s+")"+a+"("+s+")"+a+"("+s+")"+a+"("+s+")\\s*\\))",g="(?:"+f+"|"+d+"|"+u+"|"+h+"|"+c+"|"+l+")",m="(?:"+g+"(?:"+a+g+")*)",y="^\\s*(?:"+m+"?)\\s*$",v=new RegExp(y),b=new RegExp(g,"g");return function(s){var a=o.concat(),c=[];if(!s||s&&!v.test(s))return a;s.replace(b,function(s){var l=new RegExp(g).exec(s).filter(function(t){return""!==t&&null!=t}),h=l[1],u=l.slice(2).map(parseFloat);switch(h){case"translate":r(a,u);break;case"rotate":u[0]=p.util.degreesToRadians(u[0]),t(a,u);break;case"scale":e(a,u);break;case"skewX":i(a,u);break;case"skewY":n(a,u);break;case"matrix":a=u}c.push(a.concat()),a=o.concat()});for(var l=c[0];c.length>1;)c.shift(),l=p.util.multiplyTransformMatrices(l,c[0]);return l}}(),p.parseSVGDocument=function(){function t(t,e){for(;t&&(t=t.parentNode);)if(e.test(t.nodeName)&&!t.getAttribute("instantiated_by_use"))return!0;return!1}var e=/^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/,i=/^(symbol|image|marker|pattern|view)$/;return function(n,r,o){if(n){h(n);var s=new Date,a=p.Object.__uid++,c=b(n.getAttribute("width")||"100%"),l=b(n.getAttribute("height")||"100%");u(n,c,l);var d=p.util.toArray(n.getElementsByTagName("*"));if(0===d.length&&p.isLikelyNode){d=n.selectNodes('//*[name(.)!="svg"]');for(var f=[],g=0,m=d.length;m>g;g++)f[g]=d[g];d=f}var v=d.filter(function(n){return i.test(n.tagName)&&u(n,0,0),e.test(n.tagName)&&!t(n,/^(?:pattern|defs|symbol)$/)});if(!v||v&&!v.length)return void(r&&r([],{}));var _={width:c,height:l,widthAttr:c,heightAttr:l,svgUid:a};p.gradientDefs[a]=p.getGradientDefs(n),p.cssRules[a]=p.getCSSRules(n),p.parseElements(v,function(t){p.documentParsingTime=new Date-s,r&&r(t,_)},y(_),o)}}}();var E={has:function(t,e){e(!1)},get:function(){},set:function(){}};g(p,{parseFontDeclaration:function(t,e){var i="(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+p.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+p.reNum+"))?\\s+(.*)",n=t.match(i);if(n){var r=n[1],o=n[3],s=n[4],a=n[5],c=n[6];r&&(e.fontStyle=r),o&&(e.fontWeight=isNaN(parseFloat(o))?o:parseFloat(o)),s&&(e.fontSize=b(s)),c&&(e.fontFamily=c),a&&(e.lineHeight="normal"===a?1:a)}},getGradientDefs:function(t){var e,i,n,r,o=t.getElementsByTagName("linearGradient"),s=t.getElementsByTagName("radialGradient"),a=0,c=[],l={},h={};for(c.length=o.length+s.length,i=o.length;i--;)c[a++]=o[i];for(i=s.length;i--;)c[a++]=s[i];for(;a--;)e=c[a],r=e.getAttribute("xlink:href"),n=e.getAttribute("id"),r&&(h[n]=r.substr(1)),l[n]=e;for(n in h){var u=l[h[n]].cloneNode(!0);for(e=l[n];u.firstChild;)e.appendChild(u.firstChild)}return l},parseAttributes:function(t,r,o){if(t){var a,c,l={};"undefined"==typeof o&&(o=t.getAttribute("svgUid")),t.parentNode&&/^symbol|[g|a]$/i.test(t.parentNode.nodeName)&&(l=p.parseAttributes(t.parentNode,r,o)),c=l&&l.fontSize||t.getAttribute("font-size")||p.Text.DEFAULT_SVG_FONT_SIZE;var h=r.reduce(function(n,r){return a=t.getAttribute(r),a&&(r=e(r),a=i(r,a,l,c),n[r]=a),n},{});return h=g(h,g(s(t,o),p.parseStyleAttribute(t))),h.font&&p.parseFontDeclaration(h.font,h),n(g(l,h))}},parseElements:function(t,e,i,n){new p.ElementsParser(t,e,i,n).parse()},parseStyleAttribute:function(t){var e={},i=t.getAttribute("style");return i?("string"==typeof i?r(i,e):o(i,e),e):e;
},parsePointsAttribute:function(t){if(!t)return null;t=t.replace(/,/g," ").trim(),t=t.split(/\s+/);var e,i,n=[];for(e=0,i=t.length;i>e;e+=2)n.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return n},getCSSRules:function(t){for(var n,r=t.getElementsByTagName("style"),o={},s=0,a=r.length;a>s;s++){var c=r[s].textContent;c=c.replace(/\/\*[\s\S]*?\*\//g,""),""!==c.trim()&&(n=c.match(/[^{]*\{[\s\S]*?\}/g),n=n.map(function(t){return t.trim()}),n.forEach(function(t){for(var n=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),r={},s=n[2].trim(),a=s.replace(/;$/,"").split(/\s*;\s*/),c=0,l=a.length;l>c;c++){var h=a[c].split(/\s*:\s*/),u=e(h[0]),d=i(u,h[1],h[0]);r[u]=d}t=n[1],t.split(",").forEach(function(t){t=t.replace(/^svg/i,"").trim(),""!==t&&(o[t]=p.util.object.clone(r))})}))}return o},loadSVGFromURL:function(t,e,i){function n(n){var r=n.responseXML;r&&!r.documentElement&&p.window.ActiveXObject&&n.responseText&&(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))),r&&r.documentElement&&p.parseSVGDocument(r.documentElement,function(i,n){E.set(t,{objects:p.util.array.invoke(i,"toObject"),options:n}),e(i,n)},i)}t=t.replace(/^\n\s*/,"").trim(),E.has(t,function(i){i?E.get(t,function(t){var i=d(t);e(i.objects,i.options)}):new p.util.request(t,{method:"get",onComplete:n})})},loadSVGFromString:function(t,e,i){t=t.trim();var n;if("undefined"!=typeof DOMParser){var r=new DOMParser;r&&r.parseFromString&&(n=r.parseFromString(t,"text/xml"))}else p.window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));p.parseSVGDocument(n.documentElement,function(t,i){e(t,i)},i)},createSVGFontFacesMarkup:function(t){for(var e="",i=0,n=t.length;n>i;i++)"text"===t[i].type&&t[i].path&&(e+=["@font-face {","font-family: ",t[i].fontFamily,"; ","src: url('",t[i].path,"')","}"].join(""));return e&&(e=['<style type="text/css">',"<![CDATA[",e,"]]>","</style>"].join("")),e},createSVGRefElementsMarkup:function(t){var e=[];return f(e,t,"backgroundColor"),f(e,t,"overlayColor"),e.join("")}})}("undefined"!=typeof exports?exports:this),fabric.ElementsParser=function(t,e,i,n){this.elements=t,this.callback=e,this.options=i,this.reviver=n,this.svgUid=i&&i.svgUid||0},fabric.ElementsParser.prototype.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},fabric.ElementsParser.prototype.createObjects=function(){for(var t=0,e=this.elements.length;e>t;t++)this.elements[t].setAttribute("svgUid",this.svgUid),function(t,e){setTimeout(function(){t.createObject(t.elements[e],e)},0)}(this,t)},fabric.ElementsParser.prototype.createObject=function(t,e){var i=fabric[fabric.util.string.capitalize(t.tagName)];if(i&&i.fromElement)try{this._createObject(i,t,e)}catch(n){fabric.log(n)}else this.checkIfDone()},fabric.ElementsParser.prototype._createObject=function(t,e,i){if(t.async)t.fromElement(e,this.createCallback(i,e),this.options);else{var n=t.fromElement(e,this.options);this.resolveGradient(n,"fill"),this.resolveGradient(n,"stroke"),this.reviver&&this.reviver(e,n),this.instances[i]=n,this.checkIfDone()}},fabric.ElementsParser.prototype.createCallback=function(t,e){var i=this;return function(n){i.resolveGradient(n,"fill"),i.resolveGradient(n,"stroke"),i.reviver&&i.reviver(e,n),i.instances[t]=n,i.checkIfDone()}},fabric.ElementsParser.prototype.resolveGradient=function(t,e){var i=t.get(e);if(/^url\(/.test(i)){var n=i.slice(5,i.length-1);fabric.gradientDefs[this.svgUid][n]&&t.set(e,fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][n],t))}},fabric.ElementsParser.prototype.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter(function(t){return null!=t}),this.callback(this.instances))},function(t){"use strict";function e(t,e){this.x=t,this.y=e}var i=t.fabric||(t.fabric={});return i.Point?void i.warn("fabric.Point is already defined"):(i.Point=e,void(e.prototype={constructor:e,add:function(t){return new e(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new e(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new e(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new e(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new e(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new e(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,i){return new e(this.x+(t.x-this.x)*i,this.y+(t.y-this.y)*i)},distanceFrom:function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},midPointFrom:function(t){return new e(this.x+(t.x-this.x)/2,this.y+(t.y-this.y)/2)},min:function(t){return new e(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new e(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){this.x=t,this.y=e},setFromPoint:function(t){this.x=t.x,this.y=t.y},swap:function(t){var e=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=i}}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";function e(t){this.status=t,this.points=[]}var i=t.fabric||(t.fabric={});return i.Intersection?void i.warn("fabric.Intersection is already defined"):(i.Intersection=e,i.Intersection.prototype={appendPoint:function(t){this.points.push(t)},appendPoints:function(t){this.points=this.points.concat(t)}},i.Intersection.intersectLineLine=function(t,n,r,o){var s,a=(o.x-r.x)*(t.y-r.y)-(o.y-r.y)*(t.x-r.x),c=(n.x-t.x)*(t.y-r.y)-(n.y-t.y)*(t.x-r.x),l=(o.y-r.y)*(n.x-t.x)-(o.x-r.x)*(n.y-t.y);if(0!==l){var h=a/l,u=c/l;h>=0&&1>=h&&u>=0&&1>=u?(s=new e("Intersection"),s.points.push(new i.Point(t.x+h*(n.x-t.x),t.y+h*(n.y-t.y)))):s=new e}else s=new e(0===a||0===c?"Coincident":"Parallel");return s},i.Intersection.intersectLinePolygon=function(t,i,n){for(var r=new e,o=n.length,s=0;o>s;s++){var a=n[s],c=n[(s+1)%o],l=e.intersectLineLine(t,i,a,c);r.appendPoints(l.points)}return r.points.length>0&&(r.status="Intersection"),r},i.Intersection.intersectPolygonPolygon=function(t,i){for(var n=new e,r=t.length,o=0;r>o;o++){var s=t[o],a=t[(o+1)%r],c=e.intersectLinePolygon(s,a,i);n.appendPoints(c.points)}return n.points.length>0&&(n.status="Intersection"),n},void(i.Intersection.intersectPolygonRectangle=function(t,n,r){var o=n.min(r),s=n.max(r),a=new i.Point(s.x,o.y),c=new i.Point(o.x,s.y),l=e.intersectLinePolygon(o,a,t),h=e.intersectLinePolygon(a,s,t),u=e.intersectLinePolygon(s,c,t),d=e.intersectLinePolygon(c,o,t),f=new e;return f.appendPoints(l.points),f.appendPoints(h.points),f.appendPoints(u.points),f.appendPoints(d.points),f.points.length>0&&(f.status="Intersection"),f}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";function e(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function i(t,e,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?t+6*(e-t)*i:.5>i?e:2/3>i?t+(e-t)*(2/3-i)*6:t}var n=t.fabric||(t.fabric={});return n.Color?void n.warn("fabric.Color is already defined."):(n.Color=e,n.Color.prototype={_tryParsingColor:function(t){var i;return t in e.colorNameMap&&(t=e.colorNameMap[t]),"transparent"===t?void this.setSource([255,255,255,0]):(i=e.sourceFromHex(t),i||(i=e.sourceFromRgb(t)),i||(i=e.sourceFromHsl(t)),void(i&&this.setSource(i)))},_rgbToHsl:function(t,e,i){t/=255,e/=255,i/=255;var r,o,s,a=n.util.array.max([t,e,i]),c=n.util.array.min([t,e,i]);if(s=(a+c)/2,a===c)r=o=0;else{var l=a-c;switch(o=s>.5?l/(2-a-c):l/(a+c),a){case t:r=(e-i)/l+(i>e?6:0);break;case e:r=(i-t)/l+2;break;case i:r=(t-e)/l+4}r/=6}return[Math.round(360*r),Math.round(100*o),Math.round(100*s)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,i,n=this.getSource();return t=n[0].toString(16),t=1===t.length?"0"+t:t,e=n[1].toString(16),e=1===e.length?"0"+e:e,i=n[2].toString(16),i=1===i.length?"0"+i:i,t.toUpperCase()+e.toUpperCase()+i.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),i=t[3];return this.setSource([e,e,e,i]),this},toBlackWhite:function(t){var e=this.getSource(),i=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),n=e[3];return t=t||127,i=Number(i)<Number(t)?0:255,this.setSource([i,i,i,n]),this},overlayWith:function(t){t instanceof e||(t=new e(t));for(var i=[],n=this.getAlpha(),r=.5,o=this.getSource(),s=t.getSource(),a=0;3>a;a++)i.push(Math.round(o[a]*(1-r)+s[a]*r));return i[3]=n,this.setSource(i),this}},n.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,n.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,n.Color.reHex=/^#?([0-9a-f]{6}|[0-9a-f]{3})$/i,n.Color.colorNameMap={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",fuchsia:"#FF00FF",gray:"#808080",green:"#008000",lime:"#00FF00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#FFA500",purple:"#800080",red:"#FF0000",silver:"#C0C0C0",teal:"#008080",white:"#FFFFFF",yellow:"#FFFF00"},n.Color.fromRgb=function(t){return e.fromSource(e.sourceFromRgb(t))},n.Color.sourceFromRgb=function(t){var i=t.match(e.reRGBa);if(i){var n=parseInt(i[1],10)/(/%$/.test(i[1])?100:1)*(/%$/.test(i[1])?255:1),r=parseInt(i[2],10)/(/%$/.test(i[2])?100:1)*(/%$/.test(i[2])?255:1),o=parseInt(i[3],10)/(/%$/.test(i[3])?100:1)*(/%$/.test(i[3])?255:1);return[parseInt(n,10),parseInt(r,10),parseInt(o,10),i[4]?parseFloat(i[4]):1]}},n.Color.fromRgba=e.fromRgb,n.Color.fromHsl=function(t){return e.fromSource(e.sourceFromHsl(t))},n.Color.sourceFromHsl=function(t){var n=t.match(e.reHSLa);if(n){var r,o,s,a=(parseFloat(n[1])%360+360)%360/360,c=parseFloat(n[2])/(/%$/.test(n[2])?100:1),l=parseFloat(n[3])/(/%$/.test(n[3])?100:1);if(0===c)r=o=s=l;else{var h=.5>=l?l*(c+1):l+c-l*c,u=2*l-h;r=i(u,h,a+1/3),o=i(u,h,a),s=i(u,h,a-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*s),n[4]?parseFloat(n[4]):1]}},n.Color.fromHsla=e.fromHsl,n.Color.fromHex=function(t){return e.fromSource(e.sourceFromHex(t))},n.Color.sourceFromHex=function(t){if(t.match(e.reHex)){var i=t.slice(t.indexOf("#")+1),n=3===i.length,r=n?i.charAt(0)+i.charAt(0):i.substring(0,2),o=n?i.charAt(1)+i.charAt(1):i.substring(2,4),s=n?i.charAt(2)+i.charAt(2):i.substring(4,6);return[parseInt(r,16),parseInt(o,16),parseInt(s,16),1]}},void(n.Color.fromSource=function(t){var i=new e;return i.setSource(t),i}))}("undefined"!=typeof exports?exports:this),function(){function t(t){var e,i,n,r=t.getAttribute("style"),o=t.getAttribute("offset");if(o=parseFloat(o)/(/%$/.test(o)?100:1),o=0>o?0:o>1?1:o,r){var s=r.split(/\s*;\s*/);""===s[s.length-1]&&s.pop();for(var a=s.length;a--;){var c=s[a].split(/\s*:\s*/),l=c[0].trim(),h=c[1].trim();"stop-color"===l?e=h:"stop-opacity"===l&&(n=h)}}return e||(e=t.getAttribute("stop-color")||"rgb(0,0,0)"),n||(n=t.getAttribute("stop-opacity")),e=new fabric.Color(e),i=e.getAlpha(),n=isNaN(parseFloat(n))?1:parseFloat(n),n*=i,{offset:o,color:e.toRgb(),opacity:n}}function e(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}function i(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}function n(t,e,i){var n,r=0,o=1,s="";for(var a in e)n=parseFloat(e[a],10),o="string"==typeof e[a]&&/^\d+%$/.test(e[a])?.01:1,"x1"===a||"x2"===a||"r2"===a?(o*="objectBoundingBox"===i?t.width:1,r="objectBoundingBox"===i?t.left||0:0):"y1"!==a&&"y2"!==a||(o*="objectBoundingBox"===i?t.height:1,r="objectBoundingBox"===i?t.top||0:0),e[a]=n*o+r;if("ellipse"===t.type&&null!==e.r2&&"objectBoundingBox"===i&&t.rx!==t.ry){var c=t.ry/t.rx;s=" scale(1, "+c+")",e.y1&&(e.y1/=c),e.y2&&(e.y2/=c)}return s}fabric.Gradient=fabric.util.createClass({offsetX:0,offsetY:0,initialize:function(t){t||(t={});var e={};this.id=fabric.Object.__uid++,this.type=t.type||"linear",e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice(),t.gradientTransform&&(this.gradientTransform=t.gradientTransform),this.offsetX=t.offsetX||this.offsetX,this.offsetY=t.offsetY||this.offsetY},addColorStop:function(t){for(var e in t){var i=new fabric.Color(t[e]);this.colorStops.push({offset:e,color:i.toRgb(),opacity:i.getAlpha()})}return this},toObject:function(){return{type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY}},toSVG:function(t){var e,i,n=fabric.util.object.clone(this.coords);if(this.colorStops.sort(function(t,e){return t.offset-e.offset}),!t.group||"path-group"!==t.group.type)for(var r in n)"x1"===r||"x2"===r||"r2"===r?n[r]+=this.offsetX-t.width/2:"y1"!==r&&"y2"!==r||(n[r]+=this.offsetY-t.height/2);i='id="SVGID_'+this.id+'" gradientUnits="userSpaceOnUse"',this.gradientTransform&&(i+=' gradientTransform="matrix('+this.gradientTransform.join(" ")+')" '),"linear"===this.type?e=["<linearGradient ",i,' x1="',n.x1,'" y1="',n.y1,'" x2="',n.x2,'" y2="',n.y2,'">\n']:"radial"===this.type&&(e=["<radialGradient ",i,' cx="',n.x2,'" cy="',n.y2,'" r="',n.r2,'" fx="',n.x1,'" fy="',n.y1,'">\n']);for(var o=0;o<this.colorStops.length;o++)e.push("<stop ",'offset="',100*this.colorStops[o].offset+"%",'" style="stop-color:',this.colorStops[o].color,null!=this.colorStops[o].opacity?";stop-opacity: "+this.colorStops[o].opacity:";",'"/>\n');return e.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),e.join("")},toLive:function(t,e){var i,n=fabric.util.object.clone(this.coords);if(this.type){if(e.group&&"path-group"===e.group.type)for(var r in n)"x1"===r||"x2"===r?n[r]+=-this.offsetX+e.width/2:"y1"!==r&&"y2"!==r||(n[r]+=-this.offsetY+e.height/2);"linear"===this.type?i=t.createLinearGradient(n.x1,n.y1,n.x2,n.y2):"radial"===this.type&&(i=t.createRadialGradient(n.x1,n.y1,n.r1,n.x2,n.y2,n.r2));for(var o=0,s=this.colorStops.length;s>o;o++){var a=this.colorStops[o].color,c=this.colorStops[o].opacity,l=this.colorStops[o].offset;"undefined"!=typeof c&&(a=new fabric.Color(a).setAlpha(c).toRgba()),i.addColorStop(parseFloat(l),a)}return i}}}),fabric.util.object.extend(fabric.Gradient,{fromElement:function(r,o){var s,a=r.getElementsByTagName("stop"),c="linearGradient"===r.nodeName?"linear":"radial",l=r.getAttribute("gradientUnits")||"objectBoundingBox",h=r.getAttribute("gradientTransform"),u=[],d={};"linear"===c?d=e(r):"radial"===c&&(d=i(r));for(var f=a.length;f--;)u.push(t(a[f]));s=n(o,d,l);var p=new fabric.Gradient({type:c,coords:d,colorStops:u,offsetX:-o.left,offsetY:-o.top});return(h||""!==s)&&(p.gradientTransform=fabric.parseTransformAttribute((h||"")+s)),p},forObject:function(t,e){return e||(e={}),n(t,e.coords,"userSpaceOnUse"),new fabric.Gradient(e)}})}(),fabric.Pattern=fabric.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,initialize:function(t){if(t||(t={}),this.id=fabric.Object.__uid++,t.source)if("string"==typeof t.source)if("undefined"!=typeof fabric.util.getFunctionBody(t.source))this.source=new Function(fabric.util.getFunctionBody(t.source));else{var e=this;this.source=fabric.util.createImage(),fabric.util.loadImage(t.source,function(t){e.source=t})}else this.source=t.source;t.repeat&&(this.repeat=t.repeat),t.offsetX&&(this.offsetX=t.offsetX),t.offsetY&&(this.offsetY=t.offsetY)},toObject:function(){var t;return"function"==typeof this.source?t=String(this.source):"string"==typeof this.source.src&&(t=this.source.src),{source:t,repeat:this.repeat,offsetX:this.offsetX,offsetY:this.offsetY}},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,i=e.width/t.getWidth(),n=e.height/t.getHeight(),r=this.offsetX/t.getWidth(),o=this.offsetY/t.getHeight(),s="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(n=1),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(i=1),e.src?s=e.src:e.toDataURL&&(s=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+o+'" width="'+i+'" height="'+n+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+s+'"></image>\n</pattern>\n'},toLive:function(t){var e="function"==typeof this.source?this.source():this.source;if(!e)return"";if("undefined"!=typeof e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}}),function(t){"use strict";var e=t.fabric||(t.fabric={});return e.Shadow?void e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,initialize:function(t){"string"==typeof t&&(t=this._parseShadow(t));for(var i in t)this[i]=t[i];this.id=e.Object.__uid++},_parseShadow:function(t){var i=t.trim(),n=e.Shadow.reOffsetsAndBlur.exec(i)||[],r=i.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:r.trim(),offsetX:parseInt(n[1],10)||0,offsetY:parseInt(n[2],10)||0,blur:parseInt(n[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var e="SourceAlpha",i=40,n=40;return!t||t.fill!==this.color&&t.stroke!==this.color||(e="SourceGraphic"),t.width&&t.height&&(i=100*Math.abs(this.offsetX/t.getWidth())+20,n=100*Math.abs(this.offsetY/t.getHeight())+20),'<filter id="SVGID_'+this.id+'" y="-'+n+'%" height="'+(100+2*n)+'%" x="-'+i+'%" width="'+(100+2*i)+'%" >\n	<feGaussianBlur in="'+e+'" stdDeviation="'+(this.blur?this.blur/3:0)+'"></feGaussianBlur>\n	<feOffset dx="'+this.offsetX+'" dy="'+this.offsetY+'"></feOffset>\n	<feMerge>\n		<feMergeNode></feMergeNode>\n		<feMergeNode in="SourceGraphic"></feMergeNode>\n	</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY};var t={},i=e.Shadow.prototype;return this.color!==i.color&&(t.color=this.color),this.blur!==i.blur&&(t.blur=this.blur),this.offsetX!==i.offsetX&&(t.offsetX=this.offsetX),this.offsetY!==i.offsetY&&(t.offsetY=this.offsetY),t}}),void(e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/))}("undefined"!=typeof exports?exports:this),function(){"use strict";if(fabric.StaticCanvas)return void fabric.warn("fabric.StaticCanvas is already defined.");var t=fabric.util.object.extend,e=fabric.util.getElementOffset,i=fabric.util.removeFromArray,n=new Error("Could not initialize `canvas` element");fabric.StaticCanvas=fabric.util.createClass({initialize:function(t,e){e||(e={}),this._initStatic(t,e),fabric.StaticCanvas.activeInstance=this},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!0,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,preserveObjectStacking:!1,viewportTransform:[1,0,0,1,0,0],onBeforeScaleRotate:function(){},_initStatic:function(t,e){this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this._setImageSmoothing(),e.overlayImage&&this.setOverlayImage(e.overlayImage,this.renderAll.bind(this)),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,this.renderAll.bind(this)),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,this.renderAll.bind(this)),e.overlayColor&&this.setOverlayColor(e.overlayColor,this.renderAll.bind(this)),this.calcOffset()},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,i){return this.__setBgOverlayImage("overlayImage",t,e,i)},setBackgroundImage:function(t,e,i){return this.__setBgOverlayImage("backgroundImage",t,e,i)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},_setImageSmoothing:function(){var t=this.getContext();t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.webkitImageSmoothingEnabled=this.imageSmoothingEnabled,t.mozImageSmoothingEnabled=this.imageSmoothingEnabled,t.msImageSmoothingEnabled=this.imageSmoothingEnabled,t.oImageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(t,e,i,n){return"string"==typeof e?fabric.util.loadImage(e,function(e){this[t]=new fabric.Image(e,n),i&&i()},this,n&&n.crossOrigin):(this[t]=e,i&&i()),this},__setBgOverlayColor:function(t,e,i){if(e&&e.source){var n=this;fabric.util.loadImage(e.source,function(r){n[t]=new fabric.Pattern({source:r,repeat:e.repeat,offsetX:e.offsetX,offsetY:e.offsetY}),i&&i()})}else this[t]=e,i&&i();return this},_createCanvasElement:function(){var t=fabric.document.createElement("canvas");if(t.style||(t.style={}),!t)throw n;return this._initCanvasElement(t),t},_initCanvasElement:function(t){if(fabric.util.createCanvasElement(t),"undefined"==typeof t.getContext)throw n},_initOptions:function(t){for(var e in t)this[e]=t[e];this.width=this.width||parseInt(this.lowerCanvasEl.width,10)||0,this.height=this.height||parseInt(this.lowerCanvasEl.height,10)||0,this.lowerCanvasEl.style&&(this.lowerCanvasEl.width=this.width,this.lowerCanvasEl.height=this.height,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){this.lowerCanvasEl=fabric.util.getById(t)||this._createCanvasElement(),this._initCanvasElement(this.lowerCanvasEl),fabric.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var i;e=e||{};for(var n in t)i=t[n],e.cssOnly||(this._setBackstoreDimension(n,t[n]),i+="px"),e.backstoreOnly||this._setCssDimension(n,i);return e.cssOnly||this.renderAll(),this.calcOffset(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return Math.sqrt(this.viewportTransform[0]*this.viewportTransform[3])},setViewportTransform:function(t){this.viewportTransform=t,this.renderAll();for(var e=0,i=this._objects.length;i>e;e++)this._objects[e].setCoords();return this},zoomToPoint:function(t,e){var i=t;t=fabric.util.transformPoint(t,fabric.util.invertTransform(this.viewportTransform)),this.viewportTransform[0]=e,this.viewportTransform[3]=e;var n=fabric.util.transformPoint(t,this.viewportTransform);this.viewportTransform[4]+=i.x-n.x,this.viewportTransform[5]+=i.y-n.y,this.renderAll();for(var r=0,o=this._objects.length;o>r;r++)this._objects[r].setCoords();return this},setZoom:function(t){return this.zoomToPoint(new fabric.Point(0,0),t),this},absolutePan:function(t){this.viewportTransform[4]=-t.x,this.viewportTransform[5]=-t.y,this.renderAll();for(var e=0,i=this._objects.length;i>e;e++)this._objects[e].setCoords();return this},relativePan:function(t){return this.absolutePan(new fabric.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},getActiveObject:function(){return null},getActiveGroup:function(){return null},_draw:function(t,e){if(e){t.save();var i=this.viewportTransform;t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._shouldRenderObject(e)&&e.render(t),t.restore(),this.controlsAboveOverlay||e._renderControls(t)}},_shouldRenderObject:function(t){return t?t!==this.getActiveGroup()||!this.preserveObjectStacking:!1},_onObjectAdded:function(t){this.stateful&&t.setupState(),t.canvas=this,t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.getActiveObject()===t&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared")),this.fire("object:removed",{target:t}),t.fire("removed")},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.discardActiveGroup&&this.discardActiveGroup(),this.discardActiveObject&&this.discardActiveObject(),this.clearContext(this.contextContainer),this.contextTop&&this.clearContext(this.contextTop),this.fire("canvas:cleared"),this.renderAll(),this},renderAll:function(t){var e=this[t===!0&&this.interactive?"contextTop":"contextContainer"],i=this.getActiveGroup();return this.contextTop&&this.selection&&!this._groupSelector&&this.clearContext(this.contextTop),t||this.clearContext(e),this.fire("before:render"),this.clipTo&&fabric.util.clipContext(this,e),this._renderBackground(e),this._renderObjects(e,i),this._renderActiveGroup(e,i),this.clipTo&&e.restore(),this._renderOverlay(e),this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.fire("after:render"),this},_renderObjects:function(t,e){var i,n;if(!e||this.preserveObjectStacking)for(i=0,n=this._objects.length;n>i;++i)this._draw(t,this._objects[i]);else for(i=0,n=this._objects.length;n>i;++i)this._objects[i]&&!e.contains(this._objects[i])&&this._draw(t,this._objects[i])},_renderActiveGroup:function(t,e){if(e){var i=[];this.forEachObject(function(t){e.contains(t)&&i.push(t)}),e._set("objects",i),this._draw(t,e)}},_renderBackground:function(t){this.backgroundColor&&(t.fillStyle=this.backgroundColor.toLive?this.backgroundColor.toLive(t):this.backgroundColor,t.fillRect(this.backgroundColor.offsetX||0,this.backgroundColor.offsetY||0,this.width,this.height)),this.backgroundImage&&this._draw(t,this.backgroundImage)},_renderOverlay:function(t){this.overlayColor&&(t.fillStyle=this.overlayColor.toLive?this.overlayColor.toLive(t):this.overlayColor,t.fillRect(this.overlayColor.offsetX||0,this.overlayColor.offsetY||0,this.width,this.height)),this.overlayImage&&this._draw(t,this.overlayImage)},renderTop:function(){var t=this.contextTop||this.contextContainer;this.clearContext(t),this.selection&&this._groupSelector&&this._drawSelection();var e=this.getActiveGroup();return e&&e.render(t),this._renderOverlay(t),this.fire("after:render"),this},getCenter:function(){return{top:this.getHeight()/2,left:this.getWidth()/2}},centerObjectH:function(t){return this._centerObject(t,new fabric.Point(this.getCenter().left,t.getCenterPoint().y)),this.renderAll(),this},centerObjectV:function(t){return this._centerObject(t,new fabric.Point(t.getCenterPoint().x,this.getCenter().top)),this.renderAll(),this},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new fabric.Point(e.left,e.top)),this.renderAll(),this},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,i){var n=this.getActiveGroup();n&&this.discardActiveGroup();var r={objects:this._toObjects(e,i)};return t(r,this.__serializeBgOverlay()),fabric.util.populateWithProperties(this,r,i),n&&(this.setActiveGroup(new fabric.Group(n.getObjects(),{originX:"center",originY:"center"})),n.forEachObject(function(t){t.set("active",!0)}),this._currentTransform&&(this._currentTransform.target=this.getActiveGroup())),r},_toObjects:function(t,e){return this.getObjects().map(function(i){return this._toObject(i,t,e)},this)},_toObject:function(t,e,i){var n;this.includeDefaultValues||(n=t.includeDefaultValues,t.includeDefaultValues=!1);var r=t[e](i);return this.includeDefaultValues||(t.includeDefaultValues=n),r},__serializeBgOverlay:function(){var t={background:this.backgroundColor&&this.backgroundColor.toObject?this.backgroundColor.toObject():this.backgroundColor};return this.overlayColor&&(t.overlay=this.overlayColor.toObject?this.overlayColor.toObject():this.overlayColor),this.backgroundImage&&(t.backgroundImage=this.backgroundImage.toObject()),this.overlayImage&&(t.overlayImage=this.overlayImage.toObject()),t},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={});var i=[];return this._setSVGPreamble(i,t),this._setSVGHeader(i,t),this._setSVGBgOverlayColor(i,"backgroundColor"),this._setSVGBgOverlayImage(i,"backgroundImage"),this._setSVGObjects(i,e),this._setSVGBgOverlayColor(i,"overlayColor"),this._setSVGBgOverlayImage(i,"overlayImage"),i.push("</svg>"),i.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var i,n,r;e.viewBox?(i=e.viewBox.width,n=e.viewBox.height):(i=this.width,n=this.height,this.svgViewportTransformation||(r=this.viewportTransform,i/=r[0],n/=r[3])),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',n,'" ',this.backgroundColor&&!this.backgroundColor.toLive?'style="background-color: '+this.backgroundColor+'" ':null,e.viewBox?'viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':null,'xml:space="preserve">',"<desc>Created with Fabric.js ",fabric.version,"</desc>","<defs>",fabric.createSVGFontFacesMarkup(this.getObjects()),fabric.createSVGRefElementsMarkup(this),"</defs>")},_setSVGObjects:function(t,e){var i=this.getActiveGroup();i&&this.discardActiveGroup();for(var n=0,r=this.getObjects(),o=r.length;o>n;n++)t.push(r[n].toSVG(e));i&&(this.setActiveGroup(new fabric.Group(i.getObjects())),i.forEachObject(function(t){t.set("active",!0)}))},_setSVGBgOverlayImage:function(t,e){this[e]&&this[e].toSVG&&t.push(this[e].toSVG())},_setSVGBgOverlayColor:function(t,e){this[e]&&this[e].source?t.push('<rect x="',this[e].offsetX,'" y="',this[e].offsetY,'" ','width="',"repeat-y"===this[e].repeat||"no-repeat"===this[e].repeat?this[e].source.width:this.width,'" height="',"repeat-x"===this[e].repeat||"no-repeat"===this[e].repeat?this[e].source.height:this.height,'" fill="url(#'+e+'Pattern)"',"></rect>"):this[e]&&"overlayColor"===e&&t.push('<rect x="0" y="0" ','width="',this.width,'" height="',this.height,'" fill="',this[e],'"',"></rect>")},sendToBack:function(t){return i(this._objects,t),this._objects.unshift(t),this.renderAll&&this.renderAll()},bringToFront:function(t){return i(this._objects,t),this._objects.push(t),this.renderAll&&this.renderAll()},sendBackwards:function(t,e){var n=this._objects.indexOf(t);if(0!==n){var r=this._findNewLowerIndex(t,n,e);i(this._objects,t),this._objects.splice(r,0,t),this.renderAll&&this.renderAll()}return this},_findNewLowerIndex:function(t,e,i){var n;if(i){n=e;for(var r=e-1;r>=0;--r){var o=t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t);if(o){n=r;break}}}else n=e-1;return n},bringForward:function(t,e){var n=this._objects.indexOf(t);if(n!==this._objects.length-1){var r=this._findNewUpperIndex(t,n,e);i(this._objects,t),this._objects.splice(r,0,t),this.renderAll&&this.renderAll()}return this},_findNewUpperIndex:function(t,e,i){var n;if(i){n=e;for(var r=e+1;r<this._objects.length;++r){var o=t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t);
if(o){n=r;break}}}else n=e+1;return n},moveTo:function(t,e){return i(this._objects,t),this._objects.splice(e,0,t),this.renderAll&&this.renderAll()},dispose:function(){return this.clear(),this.interactive&&this.removeListeners(),this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }>"}}),t(fabric.StaticCanvas.prototype,fabric.Observable),t(fabric.StaticCanvas.prototype,fabric.Collection),t(fabric.StaticCanvas.prototype,fabric.DataURLExporter),t(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=fabric.util.createCanvasElement();if(!e||!e.getContext)return null;var i=e.getContext("2d");if(!i)return null;switch(t){case"getImageData":return"undefined"!=typeof i.getImageData;case"setLineDash":return"undefined"!=typeof i.setLineDash;case"toDataURL":return"undefined"!=typeof e.toDataURL;case"toDataURLWithQuality":try{return e.toDataURL("image/jpeg",0),!0}catch(n){}return!1;default:return null}}}),fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject}(),fabric.BaseBrush=fabric.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",setShadow:function(t){return this.shadow=new fabric.Shadow(t),this},_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.lineJoin=this.strokeLineJoin},_setShadow:function(){if(this.shadow){var t=this.canvas.contextTop;t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur,t.shadowOffsetX=this.shadow.offsetX,t.shadowOffsetY=this.shadow.offsetY}},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}}),function(){fabric.PencilBrush=fabric.util.createClass(fabric.BaseBrush,{initialize:function(t){this.canvas=t,this._points=[]},onMouseDown:function(t){this._prepareForDrawing(t),this._captureDrawingPath(t),this._render()},onMouseMove:function(t){this._captureDrawingPath(t),this.canvas.clearContext(this.canvas.contextTop),this._render()},onMouseUp:function(){this._finalizeAndAddPath()},_prepareForDrawing:function(t){var e=new fabric.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){this._points.push(t)},_reset:function(){this._points.length=0,this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new fabric.Point(t.x,t.y);this._addPoint(e)},_render:function(){var t=this.canvas.contextTop,e=this.canvas.viewportTransform,i=this._points[0],n=this._points[1];t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.beginPath(),2===this._points.length&&i.x===n.x&&i.y===n.y&&(i.x-=.5,n.x+=.5),t.moveTo(i.x,i.y);for(var r=1,o=this._points.length;o>r;r++){var s=i.midPointFrom(n);t.quadraticCurveTo(i.x,i.y,s.x,s.y),i=this._points[r],n=this._points[r+1]}t.lineTo(i.x,i.y),t.stroke(),t.restore()},convertPointsToSVGPath:function(t){var e=[],i=new fabric.Point(t[0].x,t[0].y),n=new fabric.Point(t[1].x,t[1].y);e.push("M ",t[0].x," ",t[0].y," ");for(var r=1,o=t.length;o>r;r++){var s=i.midPointFrom(n);e.push("Q ",i.x," ",i.y," ",s.x," ",s.y," "),i=new fabric.Point(t[r].x,t[r].y),r+1<t.length&&(n=new fabric.Point(t[r+1].x,t[r+1].y))}return e.push("L ",i.x," ",i.y," "),e},createPath:function(t){var e=new fabric.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,originX:"center",originY:"center"});return this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow)),e},_finalizeAndAddPath:function(){var t=this.canvas.contextTop;t.closePath();var e=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"===e)return void this.canvas.renderAll();var i=this.createPath(e);this.canvas.add(i),i.setCoords(),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderAll(),this.canvas.fire("path:created",{path:i})}})}(),fabric.CircleBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),i=this.canvas.contextTop,n=this.canvas.viewportTransform;i.save(),i.transform(n[0],n[1],n[2],n[3],n[4],n[5]),i.fillStyle=e.fill,i.beginPath(),i.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),i.closePath(),i.fill(),i.restore()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},onMouseMove:function(t){this.drawDot(t)},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],i=0,n=this.points.length;n>i;i++){var r=this.points[i],o=new fabric.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&o.setShadow(this.shadow),e.push(o)}var s=new fabric.Group(e,{originX:"center",originY:"center"});s.canvas=this.canvas,this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.renderAll()},addPoint:function(t){var e=new fabric.Point(t.x,t.y),i=fabric.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,n=new fabric.Color(this.color).setAlpha(fabric.util.getRandomInt(0,100)/100).toRgba();return e.radius=i,e.fill=n,this.points.push(e),e}}),fabric.SprayBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render()},onMouseMove:function(t){this.addSprayChunk(t),this.render()},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],i=0,n=this.sprayChunks.length;n>i;i++)for(var r=this.sprayChunks[i],o=0,s=r.length;s>o;o++){var a=new fabric.Rect({width:r[o].width,height:r[o].width,left:r[o].x+1,top:r[o].y+1,originX:"center",originY:"center",fill:this.color});this.shadow&&a.setShadow(this.shadow),e.push(a)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var c=new fabric.Group(e,{originX:"center",originY:"center"});c.canvas=this.canvas,this.canvas.add(c),this.canvas.fire("path:created",{path:c}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.renderAll()},_getOptimizedRects:function(t){for(var e,i={},n=0,r=t.length;r>n;n++)e=t[n].left+""+t[n].top,i[e]||(i[e]=t[n]);var o=[];for(e in i)o.push(i[e]);return o},render:function(){var t=this.canvas.contextTop;t.fillStyle=this.color;var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]);for(var i=0,n=this.sprayChunkPoints.length;n>i;i++){var r=this.sprayChunkPoints[i];"undefined"!=typeof r.opacity&&(t.globalAlpha=r.opacity),t.fillRect(r.x,r.y,r.width,r.width)}t.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];for(var e,i,n,r=this.width/2,o=0;o<this.density;o++){e=fabric.util.getRandomInt(t.x-r,t.x+r),i=fabric.util.getRandomInt(t.y-r,t.y+r),n=this.dotWidthVariance?fabric.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var s=new fabric.Point(e,i);s.width=n,this.randomOpacity&&(s.opacity=fabric.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),fabric.PatternBrush=fabric.util.createClass(fabric.PencilBrush,{getPatternSrc:function(){var t=20,e=5,i=fabric.document.createElement("canvas"),n=i.getContext("2d");return i.width=i.height=t+e,n.fillStyle=this.color,n.beginPath(),n.arc(t/2,t/2,t/2,0,2*Math.PI,!1),n.closePath(),n.fill(),i},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t);return e.stroke=new fabric.Pattern({source:this.source||this.getPatternSrcFunction()}),e}}),function(){var t=fabric.util.getPointer,e=fabric.util.degreesToRadians,i=fabric.util.radiansToDegrees,n=Math.atan2,r=Math.abs,o=.5;fabric.Canvas=fabric.util.createClass(fabric.StaticCanvas,{initialize:function(t,e){e||(e={}),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas(),fabric.Canvas.activeInstance=this},uniScaleTransform:!1,centeredScaling:!1,centeredRotation:!1,interactive:!0,selection:!0,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this.freeDrawingBrush=fabric.PencilBrush&&new fabric.PencilBrush(this),this.calcOffset()},_resetCurrentTransform:function(t){var e=this._currentTransform;e.target.set({scaleX:e.original.scaleX,scaleY:e.original.scaleY,left:e.original.left,top:e.original.top}),this._shouldCenterTransform(t,e.target)?"rotate"===e.action?this._setOriginToCenter(e.target):("center"!==e.originX&&("right"===e.originX?e.mouseXSign=-1:e.mouseXSign=1),"center"!==e.originY&&("bottom"===e.originY?e.mouseYSign=-1:e.mouseYSign=1),e.originX="center",e.originY="center"):(e.originX=e.original.originX,e.originY=e.original.originY)},containsPoint:function(t,e){var i=this.getPointer(t,!0),n=this._normalizePointer(e,i);return e.containsPoint(n)||e._findTargetCorner(i)},_normalizePointer:function(t,e){var i,n=this.getActiveGroup(),r=e.x,o=e.y,s=n&&"group"!==t.type&&n.contains(t);return s&&(i=new fabric.Point(n.left,n.top),i=fabric.util.transformPoint(i,this.viewportTransform,!0),r-=i.x,o-=i.y),{x:r,y:o}},isTargetTransparent:function(t,e,i){var n=t.hasBorders,r=t.transparentCorners;t.hasBorders=t.transparentCorners=!1,this._draw(this.contextCache,t),t.hasBorders=n,t.transparentCorners=r;var o=fabric.util.isTransparent(this.contextCache,e,i,this.targetFindTolerance);return this.clearContext(this.contextCache),o},_shouldClearSelection:function(t,e){var i=this.getActiveGroup(),n=this.getActiveObject();return!e||e&&i&&!i.contains(e)&&i!==e&&!t.shiftKey||e&&!e.evented||e&&!e.selectable&&n&&n!==e},_shouldCenterTransform:function(t,e){if(e){var i,n=this._currentTransform;return"scale"===n.action||"scaleX"===n.action||"scaleY"===n.action?i=this.centeredScaling||e.centeredScaling:"rotate"===n.action&&(i=this.centeredRotation||e.centeredRotation),i?!t.altKey:t.altKey}},_getOriginFromCorner:function(t,e){var i={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?i.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(i.x="left"),"tl"===e||"mt"===e||"tr"===e?i.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(i.y="top"),i},_getActionFromCorner:function(t,e){var i="drag";return e&&(i="ml"===e||"mr"===e?"scaleX":"mt"===e||"mb"===e?"scaleY":"mtr"===e?"rotate":"scale"),i},_setupCurrentTransform:function(t,i){if(i){var n=this.getPointer(t),r=i._findTargetCorner(this.getPointer(t,!0)),o=this._getActionFromCorner(i,r),s=this._getOriginFromCorner(i,r);this._currentTransform={target:i,action:o,scaleX:i.scaleX,scaleY:i.scaleY,offsetX:n.x-i.left,offsetY:n.y-i.top,originX:s.x,originY:s.y,ex:n.x,ey:n.y,left:i.left,top:i.top,theta:e(i.angle),width:i.width*i.scaleX,mouseXSign:1,mouseYSign:1},this._currentTransform.original={left:i.left,top:i.top,scaleX:i.scaleX,scaleY:i.scaleY,originX:s.x,originY:s.y},this._resetCurrentTransform(t)}},_translateObject:function(t,e){var i=this._currentTransform.target;i.get("lockMovementX")||i.set("left",t-this._currentTransform.offsetX),i.get("lockMovementY")||i.set("top",e-this._currentTransform.offsetY)},_scaleObject:function(t,e,i){var n=this._currentTransform,r=n.target,o=r.get("lockScalingX"),s=r.get("lockScalingY"),a=r.get("lockScalingFlip");if(!o||!s){var c=r.translateToOriginPoint(r.getCenterPoint(),n.originX,n.originY),l=r.toLocalPoint(new fabric.Point(t,e),n.originX,n.originY);this._setLocalMouse(l,n),this._setObjectScale(l,n,o,s,i,a),r.setPositionByOrigin(c,n.originX,n.originY)}},_setObjectScale:function(t,e,i,n,r,o){var s=e.target,a=!1,c=!1,l=s.stroke?s.strokeWidth:0;e.newScaleX=t.x/(s.width+l/2),e.newScaleY=t.y/(s.height+l/2),o&&e.newScaleX<=0&&e.newScaleX<s.scaleX&&(a=!0),o&&e.newScaleY<=0&&e.newScaleY<s.scaleY&&(c=!0),"equally"!==r||i||n?r?"x"!==r||s.get("lockUniScaling")?"y"!==r||s.get("lockUniScaling")||c||n||s.set("scaleY",e.newScaleY):a||i||s.set("scaleX",e.newScaleX):(a||i||s.set("scaleX",e.newScaleX),c||n||s.set("scaleY",e.newScaleY)):a||c||this._scaleObjectEqually(t,s,e),a||c||this._flipObject(e,r)},_scaleObjectEqually:function(t,e,i){var n=t.y+t.x,r=e.stroke?e.strokeWidth:0,o=(e.height+r/2)*i.original.scaleY+(e.width+r/2)*i.original.scaleX;i.newScaleX=i.original.scaleX*n/o,i.newScaleY=i.original.scaleY*n/o,e.set("scaleX",i.newScaleX),e.set("scaleY",i.newScaleY)},_flipObject:function(t,e){t.newScaleX<0&&"y"!==e&&("left"===t.originX?t.originX="right":"right"===t.originX&&(t.originX="left")),t.newScaleY<0&&"x"!==e&&("top"===t.originY?t.originY="bottom":"bottom"===t.originY&&(t.originY="top"))},_setLocalMouse:function(t,e){var i=e.target;"right"===e.originX?t.x*=-1:"center"===e.originX&&(t.x*=2*e.mouseXSign,t.x<0&&(e.mouseXSign=-e.mouseXSign)),"bottom"===e.originY?t.y*=-1:"center"===e.originY&&(t.y*=2*e.mouseYSign,t.y<0&&(e.mouseYSign=-e.mouseYSign)),r(t.x)>i.padding?t.x<0?t.x+=i.padding:t.x-=i.padding:t.x=0,r(t.y)>i.padding?t.y<0?t.y+=i.padding:t.y-=i.padding:t.y=0},_rotateObject:function(t,e){var r=this._currentTransform;if(!r.target.get("lockRotation")){var o=n(r.ey-r.top,r.ex-r.left),s=n(e-r.top,t-r.left),a=i(s-o+r.theta);0>a&&(a=360+a),r.target.angle=a%360}},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.setAngle(0)},_drawSelection:function(){var t=this.contextTop,e=this._groupSelector,i=e.left,n=e.top,s=r(i),a=r(n);if(t.fillStyle=this.selectionColor,t.fillRect(e.ex-(i>0?0:-i),e.ey-(n>0?0:-n),s,a),t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1){var c=e.ex+o-(i>0?0:s),l=e.ey+o-(n>0?0:a);t.beginPath(),fabric.util.drawDashedLine(t,c,l,c+s,l,this.selectionDashArray),fabric.util.drawDashedLine(t,c,l+a-1,c+s,l+a-1,this.selectionDashArray),fabric.util.drawDashedLine(t,c,l,c,l+a,this.selectionDashArray),fabric.util.drawDashedLine(t,c+s-1,l,c+s-1,l+a,this.selectionDashArray),t.closePath(),t.stroke()}else t.strokeRect(e.ex+o-(i>0?0:s),e.ey+o-(n>0?0:a),s,a)},_isLastRenderedObject:function(t){return this.controlsAboveOverlay&&this.lastRenderedObjectWithControlsAboveOverlay&&this.lastRenderedObjectWithControlsAboveOverlay.visible&&this.containsPoint(t,this.lastRenderedObjectWithControlsAboveOverlay)&&this.lastRenderedObjectWithControlsAboveOverlay._findTargetCorner(this.getPointer(t,!0))},findTarget:function(t,e){if(!this.skipTargetFind){if(this._isLastRenderedObject(t))return this.lastRenderedObjectWithControlsAboveOverlay;var i=this.getActiveGroup();if(i&&!e&&this.containsPoint(t,i))return i;var n=this._searchPossibleTargets(t);return this._fireOverOutEvents(n),n}},_fireOverOutEvents:function(t){t?this._hoveredTarget!==t&&(this.fire("mouse:over",{target:t}),t.fire("mouseover"),this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget}),this._hoveredTarget.fire("mouseout")),this._hoveredTarget=t):this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget}),this._hoveredTarget.fire("mouseout"),this._hoveredTarget=null)},_checkTarget:function(t,e,i){if(e&&e.visible&&e.evented&&this.containsPoint(t,e)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;var n=this.isTargetTransparent(e,i.x,i.y);if(!n)return!0}},_searchPossibleTargets:function(t){for(var e,i=this.getPointer(t,!0),n=this._objects.length;n--;)if(this._checkTarget(t,this._objects[n],i)){this.relatedTarget=this._objects[n],e=this._objects[n];break}return e},getPointer:function(e,i,n){n||(n=this.upperCanvasEl);var r,o=t(e,n),s=n.getBoundingClientRect(),a=s.width||0,c=s.height||0;return a&&c||("top"in s&&"bottom"in s&&(c=Math.abs(s.top-s.bottom)),"right"in s&&"left"in s&&(a=Math.abs(s.right-s.left))),this.calcOffset(),o.x=o.x-this._offset.left,o.y=o.y-this._offset.top,i||(o=fabric.util.transformPoint(o,fabric.util.invertTransform(this.viewportTransform))),r=0===a||0===c?{width:1,height:1}:{width:n.width/a,height:n.height/c},{x:o.x*r.width,y:o.y*r.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl=this._createCanvasElement(),fabric.util.addClass(this.upperCanvasEl,"upper-canvas "+t),this.wrapperEl.appendChild(this.upperCanvasEl),this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=fabric.util.wrapElement(this.lowerCanvasEl,"div",{"class":this.containerClass}),fabric.util.setStyle(this.wrapperEl,{width:this.getWidth()+"px",height:this.getHeight()+"px",position:"relative"}),fabric.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.getWidth()||t.width,i=this.getHeight()||t.height;fabric.util.setStyle(t,{position:"absolute",width:e+"px",height:i+"px",left:0,top:0}),t.width=e,t.height=i,fabric.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},_setActiveObject:function(t){this._activeObject&&this._activeObject.set("active",!1),this._activeObject=t,t.set("active",!0)},setActiveObject:function(t,e){return this._setActiveObject(t),this.renderAll(),this.fire("object:selected",{target:t,e:e}),t.fire("selected",{e:e}),this},getActiveObject:function(){return this._activeObject},_discardActiveObject:function(){this._activeObject&&this._activeObject.set("active",!1),this._activeObject=null},discardActiveObject:function(t){return this._discardActiveObject(),this.renderAll(),this.fire("selection:cleared",{e:t}),this},_setActiveGroup:function(t){this._activeGroup=t,t&&t.set("active",!0)},setActiveGroup:function(t,e){return this._setActiveGroup(t),t&&(this.fire("object:selected",{target:t,e:e}),t.fire("selected",{e:e})),this},getActiveGroup:function(){return this._activeGroup},_discardActiveGroup:function(){var t=this.getActiveGroup();t&&t.destroy(),this.setActiveGroup(null)},discardActiveGroup:function(t){return this._discardActiveGroup(),this.fire("selection:cleared",{e:t}),this},deactivateAll:function(){for(var t=this.getObjects(),e=0,i=t.length;i>e;e++)t[e].set("active",!1);return this._discardActiveGroup(),this._discardActiveObject(),this},deactivateAllWithDispatch:function(t){var e=this.getActiveGroup()||this.getActiveObject();return e&&this.fire("before:selection:cleared",{target:e,e:t}),this.deactivateAll(),e&&this.fire("selection:cleared",{e:t}),this},drawControls:function(t){var e=this.getActiveGroup();e?this._drawGroupControls(t,e):this._drawObjectsControls(t)},_drawGroupControls:function(t,e){e._renderControls(t)},_drawObjectsControls:function(t){for(var e=0,i=this._objects.length;i>e;++e)this._objects[e]&&this._objects[e].active&&(this._objects[e]._renderControls(t),this.lastRenderedObjectWithControlsAboveOverlay=this._objects[e])}});for(var s in fabric.StaticCanvas)"prototype"!==s&&(fabric.Canvas[s]=fabric.StaticCanvas[s]);fabric.isTouchSupported&&(fabric.Canvas.prototype._setCursorFromEvent=function(){}),fabric.Element=fabric.Canvas}(),function(){var t={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},e=fabric.util.addListener,i=fabric.util.removeListener;fabric.util.object.extend(fabric.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],_initEventListeners:function(){this._bindEvents(),e(fabric.window,"resize",this._onResize),e(this.upperCanvasEl,"mousedown",this._onMouseDown),e(this.upperCanvasEl,"mousemove",this._onMouseMove),e(this.upperCanvasEl,"mousewheel",this._onMouseWheel),e(this.upperCanvasEl,"touchstart",this._onMouseDown),e(this.upperCanvasEl,"touchmove",this._onMouseMove),"undefined"!=typeof Event&&"add"in Event&&(Event.add(this.upperCanvasEl,"gesture",this._onGesture),Event.add(this.upperCanvasEl,"drag",this._onDrag),Event.add(this.upperCanvasEl,"orientation",this._onOrientationChange),Event.add(this.upperCanvasEl,"shake",this._onShake),Event.add(this.upperCanvasEl,"longpress",this._onLongPress))},_bindEvents:function(){this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this)},removeListeners:function(){i(fabric.window,"resize",this._onResize),i(this.upperCanvasEl,"mousedown",this._onMouseDown),i(this.upperCanvasEl,"mousemove",this._onMouseMove),i(this.upperCanvasEl,"mousewheel",this._onMouseWheel),i(this.upperCanvasEl,"touchstart",this._onMouseDown),i(this.upperCanvasEl,"touchmove",this._onMouseMove),"undefined"!=typeof Event&&"remove"in Event&&(Event.remove(this.upperCanvasEl,"gesture",this._onGesture),Event.remove(this.upperCanvasEl,"drag",this._onDrag),Event.remove(this.upperCanvasEl,"orientation",this._onOrientationChange),Event.remove(this.upperCanvasEl,"shake",this._onShake),Event.remove(this.upperCanvasEl,"longpress",this._onLongPress))},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t,e){this.__onMouseWheel&&this.__onMouseWheel(t,e)},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onMouseDown:function(t){this.__onMouseDown(t),e(fabric.document,"touchend",this._onMouseUp),e(fabric.document,"touchmove",this._onMouseMove),i(this.upperCanvasEl,"mousemove",this._onMouseMove),i(this.upperCanvasEl,"touchmove",this._onMouseMove),"touchstart"===t.type?i(this.upperCanvasEl,"mousedown",this._onMouseDown):(e(fabric.document,"mouseup",this._onMouseUp),e(fabric.document,"mousemove",this._onMouseMove))},_onMouseUp:function(t){if(this.__onMouseUp(t),i(fabric.document,"mouseup",this._onMouseUp),i(fabric.document,"touchend",this._onMouseUp),i(fabric.document,"mousemove",this._onMouseMove),i(fabric.document,"touchmove",this._onMouseMove),e(this.upperCanvasEl,"mousemove",this._onMouseMove),e(this.upperCanvasEl,"touchmove",this._onMouseMove),"touchend"===t.type){var n=this;setTimeout(function(){e(n.upperCanvasEl,"mousedown",n._onMouseDown)},400)}},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t,e){var i=this.getActiveGroup()||this.getActiveObject();return!!(t&&(t.isMoving||t!==i)||!t&&i||!t&&!i&&!this._groupSelector||e&&this._previousPointer&&this.selection&&(e.x!==this._previousPointer.x||e.y!==this._previousPointer.y))},__onMouseUp:function(t){var e;if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);this._currentTransform?(this._finalizeCurrentTransform(),e=this._currentTransform.target):e=this.findTarget(t,!0);var i=this._shouldRender(e,this.getPointer(t));this._maybeGroupObjects(t),e&&(e.isMoving=!1),i&&this.renderAll(),this._handleCursorAndEvent(t,e)},_handleCursorAndEvent:function(t,e){this._setCursorFromEvent(t,e);var i=this;setTimeout(function(){i._setCursorFromEvent(t,e)},50),this.fire("mouse:up",{target:e,e:t}),e&&e.fire("mouseup",{e:t})},_finalizeCurrentTransform:function(){var t=this._currentTransform,e=t.target;e._scaling&&(e._scaling=!1),e.setCoords(),this.stateful&&e.hasStateChanged()&&(this.fire("object:modified",{target:e}),e.fire("modified")),this._restoreOriginXY(e)},_restoreOriginXY:function(t){if(this._previousOriginX&&this._previousOriginY){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null}},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.discardActiveObject(t).renderAll(),this.clipTo&&fabric.util.clipContext(this,this.contextTop);var e=fabric.util.invertTransform(this.viewportTransform),i=fabric.util.transformPoint(this.getPointer(t,!0),e);this.freeDrawingBrush.onMouseDown(i),this.fire("mouse:down",{e:t});var n=this.findTarget(t);"undefined"!=typeof n&&n.fire("mousedown",{e:t,target:n})},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=fabric.util.invertTransform(this.viewportTransform),i=fabric.util.transformPoint(this.getPointer(t,!0),e);this.freeDrawingBrush.onMouseMove(i)}this.setCursor(this.freeDrawingCursor),this.fire("mouse:move",{e:t});var n=this.findTarget(t);"undefined"!=typeof n&&n.fire("mousemove",{e:t,target:n})},_onMouseUpInDrawingMode:function(t){this._isCurrentlyDrawing=!1,this.clipTo&&this.contextTop.restore(),this.freeDrawingBrush.onMouseUp(),this.fire("mouse:up",{e:t});var e=this.findTarget(t);"undefined"!=typeof e&&e.fire("mouseup",{e:t,target:e})},__onMouseDown:function(t){var e="which"in t?1===t.which:1===t.button;if(e||fabric.isTouchSupported){if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._currentTransform){var i=this.findTarget(t),n=this.getPointer(t,!0);this._previousPointer=n;var r=this._shouldRender(i,n),o=this._shouldGroup(t,i);this._shouldClearSelection(t,i)?this._clearSelection(t,i,n):o&&(this._handleGrouping(t,i),i=this.getActiveGroup()),i&&i.selectable&&!o&&(this._beforeTransform(t,i),this._setupCurrentTransform(t,i)),r&&this.renderAll(),this.fire("mouse:down",{target:i,e:t}),i&&i.fire("mousedown",{e:t})}}},_beforeTransform:function(t,e){var i;this.stateful&&e.saveState(),(i=e._findTargetCorner(this.getPointer(t)))&&this.onBeforeScaleRotate(e),e!==this.getActiveGroup()&&e!==this.getActiveObject()&&(this.deactivateAll(),this.setActiveObject(e,t))},_clearSelection:function(t,e,i){this.deactivateAllWithDispatch(t),e&&e.selectable?this.setActiveObject(e,t):this.selection&&(this._groupSelector={ex:i.x,ey:i.y,top:0,left:0})},_setOriginToCenter:function(t){this._previousOriginX=this._currentTransform.target.originX,this._previousOriginY=this._currentTransform.target.originY;var e=t.getCenterPoint();t.originX="center",t.originY="center",t.left=e.x,t.top=e.y,this._currentTransform.left=t.left,this._currentTransform.top=t.top},_setCenterToOrigin:function(t){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null},__onMouseMove:function(t){var e,i;if(this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!("undefined"!=typeof t.touches&&t.touches.length>1)){var n=this._groupSelector;n?(i=this.getPointer(t,!0),n.left=i.x-n.ex,n.top=i.y-n.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t),!e||e&&!e.selectable?this.setCursor(this.defaultCursor):this._setCursorFromEvent(t,e)),this.fire("mouse:move",{target:e,e:t}),e&&e.fire("mousemove",{e:t})}},_transformObject:function(t){var e=this.getPointer(t),i=this._currentTransform;i.reset=!1,i.target.isMoving=!0,this._beforeScaleTransform(t,i),this._performTransformAction(t,i,e),this.renderAll()},_performTransformAction:function(t,e,i){var n=i.x,r=i.y,o=e.target,s=e.action;"rotate"===s?(this._rotateObject(n,r),this._fire("rotating",o,t)):"scale"===s?(this._onScale(t,e,n,r),this._fire("scaling",o,t)):"scaleX"===s?(this._scaleObject(n,r,"x"),this._fire("scaling",o,t)):"scaleY"===s?(this._scaleObject(n,r,"y"),this._fire("scaling",o,t)):(this._translateObject(n,r),this._fire("moving",o,t),this.setCursor(this.moveCursor))},_fire:function(t,e,i){this.fire("object:"+t,{target:e,e:i}),e.fire(t,{e:i})},_beforeScaleTransform:function(t,e){if("scale"===e.action||"scaleX"===e.action||"scaleY"===e.action){var i=this._shouldCenterTransform(t,e.target);(i&&("center"!==e.originX||"center"!==e.originY)||!i&&"center"===e.originX&&"center"===e.originY)&&(this._resetCurrentTransform(t),e.reset=!0)}},_onScale:function(t,e,i,n){!t.shiftKey&&!this.uniScaleTransform||e.target.get("lockUniScaling")?(e.reset||"scale"!==e.currentAction||this._resetCurrentTransform(t,e.target),e.currentAction="scaleEqually",this._scaleObject(i,n,"equally")):(e.currentAction="scale",this._scaleObject(i,n))},_setCursorFromEvent:function(t,e){if(!e||!e.selectable)return this.setCursor(this.defaultCursor),!1;var i=this.getActiveGroup(),n=e._findTargetCorner&&(!i||!i.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));return n?this._setCornerCursor(n,e):this.setCursor(e.hoverCursor||this.hoverCursor),!0},_setCornerCursor:function(e,i){if(e in t)this.setCursor(this._getRotatedCornerCursor(e,i));else{if("mtr"!==e||!i.hasRotatingPoint)return this.setCursor(this.defaultCursor),!1;this.setCursor(this.rotationCursor)}},_getRotatedCornerCursor:function(e,i){var n=Math.round(i.getAngle()%360/45);return 0>n&&(n+=8),n+=t[e],n%=8,this.cursorMap[n]}})}(),function(){var t=Math.min,e=Math.max;fabric.util.object.extend(fabric.Canvas.prototype,{_shouldGroup:function(t,e){var i=this.getActiveObject();return t.shiftKey&&(this.getActiveGroup()||i&&i!==e)&&this.selection},_handleGrouping:function(t,e){e===this.getActiveGroup()&&(e=this.findTarget(t,!0),!e||e.isType("group"))||(this.getActiveGroup()?this._updateActiveGroup(e,t):this._createActiveGroup(e,t),this._activeGroup&&this._activeGroup.saveCoords())},_updateActiveGroup:function(t,e){var i=this.getActiveGroup();if(i.contains(t)){if(i.removeWithUpdate(t),this._resetObjectTransform(i),t.set("active",!1),1===i.size())return this.discardActiveGroup(e),void this.setActiveObject(i.item(0))}else i.addWithUpdate(t),this._resetObjectTransform(i);this.fire("selection:created",{target:i,e:e}),i.set("active",!0)},_createActiveGroup:function(t,e){if(this._activeObject&&t!==this._activeObject){var i=this._createGroup(t);i.addWithUpdate(),this.setActiveGroup(i),this._activeObject=null,this.fire("selection:created",{target:i,e:e})}t.set("active",!0)},_createGroup:function(t){var e=this.getObjects(),i=e.indexOf(this._activeObject)<e.indexOf(t),n=i?[this._activeObject,t]:[t,this._activeObject];return new fabric.Group(n,{canvas:this})},_groupSelectedObjects:function(t){var e=this._collectObjects();1===e.length?this.setActiveObject(e[0],t):e.length>1&&(e=new fabric.Group(e.reverse(),{canvas:this}),e.addWithUpdate(),this.setActiveGroup(e,t),e.saveCoords(),this.fire("selection:created",{target:e}),this.renderAll())},_collectObjects:function(){for(var i,n=[],r=this._groupSelector.ex,o=this._groupSelector.ey,s=r+this._groupSelector.left,a=o+this._groupSelector.top,c=new fabric.Point(t(r,s),t(o,a)),l=new fabric.Point(e(r,s),e(o,a)),h=r===s&&o===a,u=this._objects.length;u--&&(i=this._objects[u],!(i&&i.selectable&&i.visible&&(i.intersectsWithRect(c,l)||i.isContainedWithinRect(c,l)||i.containsPoint(c)||i.containsPoint(l))&&(i.set("active",!0),n.push(i),h))););return n},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t);var e=this.getActiveGroup();e&&(e.setObjectsCoords().setCoords(),e.isMoving=!1,this.setCursor(this.defaultCursor)),this._groupSelector=null,this._currentTransform=null}})}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",i=t.quality||1,n=t.multiplier||1,r={
left:t.left,top:t.top,width:t.width,height:t.height};return 1!==n?this.__toDataURLWithMultiplier(e,i,r,n):this.__toDataURL(e,i,r)},__toDataURL:function(t,e,i){this.renderAll(!0);var n=this.upperCanvasEl||this.lowerCanvasEl,r=this.__getCroppedCanvas(n,i);"jpg"===t&&(t="jpeg");var o=fabric.StaticCanvas.supports("toDataURLWithQuality")?(r||n).toDataURL("image/"+t,e):(r||n).toDataURL("image/"+t);return this.contextTop&&this.clearContext(this.contextTop),this.renderAll(),r&&(r=null),o},__getCroppedCanvas:function(t,e){var i,n,r="left"in e||"top"in e||"width"in e||"height"in e;return r&&(i=fabric.util.createCanvasElement(),n=i.getContext("2d"),i.width=e.width||this.width,i.height=e.height||this.height,n.drawImage(t,-e.left||0,-e.top||0)),i},__toDataURLWithMultiplier:function(t,e,i,n){var r=this.getWidth(),o=this.getHeight(),s=r*n,a=o*n,c=this.getActiveObject(),l=this.getActiveGroup(),h=this.contextTop||this.contextContainer;n>1&&this.setWidth(s).setHeight(a),h.scale(n,n),i.left&&(i.left*=n),i.top&&(i.top*=n),i.width?i.width*=n:1>n&&(i.width=s),i.height?i.height*=n:1>n&&(i.height=a),l?this._tempRemoveBordersControlsFromGroup(l):c&&this.deactivateAll&&this.deactivateAll(),this.renderAll(!0);var u=this.__toDataURL(t,e,i);return this.width=r,this.height=o,h.scale(1/n,1/n),this.setWidth(r).setHeight(o),l?this._restoreBordersControlsOnGroup(l):c&&this.setActiveObject&&this.setActiveObject(c),this.contextTop&&this.clearContext(this.contextTop),this.renderAll(),u},toDataURLWithMultiplier:function(t,e,i){return this.toDataURL({format:t,multiplier:e,quality:i})},_tempRemoveBordersControlsFromGroup:function(t){t.origHasControls=t.hasControls,t.origBorderColor=t.borderColor,t.hasControls=!0,t.borderColor="rgba(0,0,0,0)",t.forEachObject(function(t){t.origBorderColor=t.borderColor,t.borderColor="rgba(0,0,0,0)"})},_restoreBordersControlsOnGroup:function(t){t.hideControls=t.origHideControls,t.borderColor=t.origBorderColor,t.forEachObject(function(t){t.borderColor=t.origBorderColor,delete t.origBorderColor})}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(t,e,i){return this.loadFromJSON(t,e,i)},loadFromJSON:function(t,e,i){if(t){var n="string"==typeof t?JSON.parse(t):t;this.clear();var r=this;return this._enlivenObjects(n.objects,function(){r._setBgOverlay(n,e)},i),this}},_setBgOverlay:function(t,e){var i=this,n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!(t.backgroundImage||t.overlayImage||t.background||t.overlay))return void(e&&e());var r=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&(i.renderAll(),e&&e())};this.__setBgOverlay("backgroundImage",t.backgroundImage,n,r),this.__setBgOverlay("overlayImage",t.overlayImage,n,r),this.__setBgOverlay("backgroundColor",t.background,n,r),this.__setBgOverlay("overlayColor",t.overlay,n,r),r()},__setBgOverlay:function(t,e,i,n){var r=this;return e?void("backgroundImage"===t||"overlayImage"===t?fabric.Image.fromObject(e,function(e){r[t]=e,i[t]=!0,n&&n()}):this["set"+fabric.util.string.capitalize(t,!0)](e,function(){i[t]=!0,n&&n()})):void(i[t]=!0)},_enlivenObjects:function(t,e,i){var n=this;if(!t||0===t.length)return void(e&&e());var r=this.renderOnAddRemove;this.renderOnAddRemove=!1,fabric.util.enlivenObjects(t,function(t){t.forEach(function(t,e){n.insertAt(t,e,!0)}),n.renderOnAddRemove=r,e&&e()},null,i)},_toDataURL:function(t,e){this.clone(function(i){e(i.toDataURL(t))})},_toDataURLWithMultiplier:function(t,e,i){this.clone(function(n){i(n.toDataURLWithMultiplier(t,e))})},clone:function(t,e){var i=JSON.stringify(this.toJSON(e));this.cloneWithoutData(function(e){e.loadFromJSON(i,function(){t&&t(e)})})},cloneWithoutData:function(t){var e=fabric.document.createElement("canvas");e.width=this.getWidth(),e.height=this.getHeight();var i=new fabric.Canvas(e);i.clipTo=this.clipTo,this.backgroundImage?(i.setBackgroundImage(this.backgroundImage.src,function(){i.renderAll(),t&&t(i)}),i.backgroundImageOpacity=this.backgroundImageOpacity,i.backgroundImageStretch=this.backgroundImageStretch):t&&t(i)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.toFixed,r=e.util.string.capitalize,o=e.util.degreesToRadians,s=e.StaticCanvas.supports("setLineDash");e.Object||(e.Object=e.util.createClass({type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,cornerSize:12,transparentCorners:!0,hoverCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",cornerColor:"rgba(102,153,255,0.5)",centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:.01,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockScalingFlip:!1,stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill fillRule globalCompositeOperation shadow clipTo visible backgroundColor".split(" "),initialize:function(t){t&&this.setOptions(t)},_initGradient:function(t){!t.fill||!t.fill.colorStops||t.fill instanceof e.Gradient||this.set("fill",new e.Gradient(t.fill))},_initPattern:function(t){!t.fill||!t.fill.source||t.fill instanceof e.Pattern||this.set("fill",new e.Pattern(t.fill)),!t.stroke||!t.stroke.source||t.stroke instanceof e.Pattern||this.set("stroke",new e.Pattern(t.stroke))},_initClipping:function(t){if(t.clipTo&&"string"==typeof t.clipTo){var i=e.util.getFunctionBody(t.clipTo);"undefined"!=typeof i&&(this.clipTo=new Function("ctx",i))}},setOptions:function(t){for(var e in t)this.set(e,t[e]);this._initGradient(t),this._initPattern(t),this._initClipping(t)},transform:function(t,e){this.group&&this.group.transform(t,e);var i=e?this._getLeftTopCoords():this.getCenterPoint();t.translate(i.x,i.y),t.rotate(o(this.angle)),t.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1))},toObject:function(t){var i=e.Object.NUM_FRACTION_DIGITS,r={type:this.type,originX:this.originX,originY:this.originY,left:n(this.left,i),top:n(this.top,i),width:n(this.width,i),height:n(this.height,i),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:n(this.strokeWidth,i),strokeDashArray:this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:n(this.strokeMiterLimit,i),scaleX:n(this.scaleX,i),scaleY:n(this.scaleY,i),angle:n(this.getAngle(),i),flipX:this.flipX,flipY:this.flipY,opacity:n(this.opacity,i),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,globalCompositeOperation:this.globalCompositeOperation};return this.includeDefaultValues||(r=this._removeDefaultValues(r)),e.util.populateWithProperties(this,r,t),r},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var i=e.util.getKlass(t.type).prototype,n=i.stateProperties;return n.forEach(function(e){t[e]===i[e]&&delete t[e]}),t},toString:function(){return"#<fabric."+r(this.type)+">"},get:function(t){return this[t]},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"==typeof t?this._setObject(t):"function"==typeof e&&"clipTo"!==t?this._set(t,e(this.get(t))):this._set(t,e),this},_set:function(t,i){var r="scaleX"===t||"scaleY"===t;return r&&(i=this._constrainScale(i)),"scaleX"===t&&0>i?(this.flipX=!this.flipX,i*=-1):"scaleY"===t&&0>i?(this.flipY=!this.flipY,i*=-1):"width"===t||"height"===t?this.minScaleLimit=n(Math.min(.1,1/Math.max(this.width,this.height)),2):"shadow"!==t||!i||i instanceof e.Shadow||(i=new e.Shadow(i)),this[t]=i,this},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},setSourcePath:function(t){return this.sourcePath=t,this},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:[1,0,0,1,0,0]},render:function(t,i){0===this.width&&0===this.height||!this.visible||(t.save(),this._setupCompositeOperation(t),i||this.transform(t),this._setStrokeStyles(t),this._setFillStyles(t),this.group&&"path-group"===this.group.type&&t.translate(-this.group.width/2,-this.group.height/2),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this._setOpacity(t),this._setShadow(t),this.clipTo&&e.util.clipContext(this,t),this._render(t,i),this.clipTo&&t.restore(),this._removeShadow(t),this._restoreCompositeOperation(t),t.restore())},_setOpacity:function(t){this.group&&this.group._setOpacity(t),t.globalAlpha*=this.opacity},_setStrokeStyles:function(t){this.stroke&&(t.lineWidth=this.strokeWidth,t.lineCap=this.strokeLineCap,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,t.strokeStyle=this.stroke.toLive?this.stroke.toLive(t,this):this.stroke)},_setFillStyles:function(t){this.fill&&(t.fillStyle=this.fill.toLive?this.fill.toLive(t,this):this.fill)},_renderControls:function(t,i){var n=this.getViewportTransform();if(t.save(),this.active&&!i){var r;this.group&&(r=e.util.transformPoint(this.group.getCenterPoint(),n),t.translate(r.x,r.y),t.rotate(o(this.group.angle))),r=e.util.transformPoint(this.getCenterPoint(),n,null!=this.group),this.group&&(r.x*=this.group.scaleX,r.y*=this.group.scaleY),t.translate(r.x,r.y),t.rotate(o(this.angle)),this.drawBorders(t),this.drawControls(t)}t.restore()},_setShadow:function(t){if(this.shadow){var e=this.canvas&&this.canvas._currentMultiplier||1;t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*e*(this.scaleX+this.scaleY)/2,t.shadowOffsetX=this.shadow.offsetX*e*this.scaleX,t.shadowOffsetY=this.shadow.offsetY*e*this.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_renderFill:function(t){if(this.fill){if(t.save(),this.fill.gradientTransform){var e=this.fill.gradientTransform;t.transform.apply(t,e)}this.fill.toLive&&t.translate(-this.width/2+this.fill.offsetX||0,-this.height/2+this.fill.offsetY||0),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore(),this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t)}},_renderStroke:function(t){if(this.stroke&&0!==this.strokeWidth){if(t.save(),this.strokeDashArray)1&this.strokeDashArray.length&&this.strokeDashArray.push.apply(this.strokeDashArray,this.strokeDashArray),s?(t.setLineDash(this.strokeDashArray),this._stroke&&this._stroke(t)):this._renderDashedStroke&&this._renderDashedStroke(t),t.stroke();else{if(this.stroke.gradientTransform){var e=this.stroke.gradientTransform;t.transform.apply(t,e)}this._stroke?this._stroke(t):t.stroke()}this._removeShadow(t),t.restore()}},clone:function(t,i){return this.constructor.fromObject?this.constructor.fromObject(this.toObject(i),t):new e.Object(this.toObject(i))},cloneAsImage:function(t){var i=this.toDataURL();return e.util.loadImage(i,function(i){t&&t(new e.Image(i))}),this},toDataURL:function(t){t||(t={});var i=e.util.createCanvasElement(),n=this.getBoundingRect();i.width=n.width,i.height=n.height,e.util.wrapElement(i,"div");var r=new e.Canvas(i);"jpg"===t.format&&(t.format="jpeg"),"jpeg"===t.format&&(r.backgroundColor="#fff");var o={active:this.get("active"),left:this.getLeft(),top:this.getTop()};this.set("active",!1),this.setPositionByOrigin(new e.Point(i.width/2,i.height/2),"center","center");var s=this.canvas;r.add(this);var a=r.toDataURL(t);return this.set(o).setCoords(),this.canvas=s,r.dispose(),r=null,a},isType:function(t){return this.type===t},complexity:function(){return 0},toJSON:function(t){return this.toObject(t)},setGradient:function(t,i){i||(i={});var n={colorStops:[]};n.type=i.type||(i.r1||i.r2?"radial":"linear"),n.coords={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},(i.r1||i.r2)&&(n.coords.r1=i.r1,n.coords.r2=i.r2);for(var r in i.colorStops){var o=new e.Color(i.colorStops[r]);n.colorStops.push({offset:r,color:o.toRgb(),opacity:o.getAlpha()})}return this.set(t,e.Gradient.forObject(this,n))},setPatternFill:function(t){return this.set("fill",new e.Pattern(t))},setShadow:function(t){return this.set("shadow",t?new e.Shadow(t):null)},setColor:function(t){return this.set("fill",t),this},setAngle:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas.centerObjectH(this),this},centerV:function(){return this.canvas.centerObjectV(this),this},center:function(){return this.canvas.centerObject(this),this},remove:function(){return this.canvas.remove(this),this},getLocalPointer:function(t,e){e=e||this.canvas.getPointer(t);var i=this.translateToOriginPoint(this.getCenterPoint(),"left","top");return{x:e.x-i.x,y:e.y-i.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(this._prevGlobalCompositeOperation=t.globalCompositeOperation,t.globalCompositeOperation=this.globalCompositeOperation)},_restoreCompositeOperation:function(t){this.globalCompositeOperation&&this._prevGlobalCompositeOperation&&(t.globalCompositeOperation=this._prevGlobalCompositeOperation)}}),e.util.createAccessors(e.Object),e.Object.prototype.rotate=e.Object.prototype.setAngle,i(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object.__uid=0)}("undefined"!=typeof exports?exports:this),function(){var t=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{translateToCenterPoint:function(e,i,n){var r=e.x,o=e.y,s=this.stroke?this.strokeWidth:0;return"left"===i?r=e.x+(this.getWidth()+s*this.scaleX)/2:"right"===i&&(r=e.x-(this.getWidth()+s*this.scaleX)/2),"top"===n?o=e.y+(this.getHeight()+s*this.scaleY)/2:"bottom"===n&&(o=e.y-(this.getHeight()+s*this.scaleY)/2),fabric.util.rotatePoint(new fabric.Point(r,o),e,t(this.angle))},translateToOriginPoint:function(e,i,n){var r=e.x,o=e.y,s=this.stroke?this.strokeWidth:0;return"left"===i?r=e.x-(this.getWidth()+s*this.scaleX)/2:"right"===i&&(r=e.x+(this.getWidth()+s*this.scaleX)/2),"top"===n?o=e.y-(this.getHeight()+s*this.scaleY)/2:"bottom"===n&&(o=e.y+(this.getHeight()+s*this.scaleY)/2),fabric.util.rotatePoint(new fabric.Point(r,o),e,t(this.angle))},getCenterPoint:function(){var t=new fabric.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var i=this.getCenterPoint();return this.translateToOriginPoint(i,t,e)},toLocalPoint:function(e,i,n){var r,o,s=this.getCenterPoint(),a=this.stroke?this.strokeWidth:0;return i&&n?(r="left"===i?s.x-(this.getWidth()+a*this.scaleX)/2:"right"===i?s.x+(this.getWidth()+a*this.scaleX)/2:s.x,o="top"===n?s.y-(this.getHeight()+a*this.scaleY)/2:"bottom"===n?s.y+(this.getHeight()+a*this.scaleY)/2:s.y):(r=this.left,o=this.top),fabric.util.rotatePoint(new fabric.Point(e.x,e.y),s,-t(this.angle)).subtractEquals(new fabric.Point(r,o))},setPositionByOrigin:function(t,e,i){var n=this.translateToCenterPoint(t,e,i),r=this.translateToOriginPoint(n,this.originX,this.originY);this.set("left",r.x),this.set("top",r.y)},adjustPosition:function(e){var i=t(this.angle),n=this.getWidth()/2,r=Math.cos(i)*n,o=Math.sin(i)*n,s=this.getWidth(),a=Math.cos(i)*s,c=Math.sin(i)*s;"center"===this.originX&&"left"===e||"right"===this.originX&&"center"===e?(this.left-=r,this.top-=o):"left"===this.originX&&"center"===e||"center"===this.originX&&"right"===e?(this.left+=r,this.top+=o):"left"===this.originX&&"right"===e?(this.left+=a,this.top+=c):"right"===this.originX&&"left"===e&&(this.left-=a,this.top-=c),this.setCoords(),this.originX=e},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","center")}})}(),function(){var t=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{oCoords:null,intersectsWithRect:function(t,e){var i=this.oCoords,n=new fabric.Point(i.tl.x,i.tl.y),r=new fabric.Point(i.tr.x,i.tr.y),o=new fabric.Point(i.bl.x,i.bl.y),s=new fabric.Point(i.br.x,i.br.y),a=fabric.Intersection.intersectPolygonRectangle([n,r,s,o],t,e);return"Intersection"===a.status},intersectsWithObject:function(t){function e(t){return{tl:new fabric.Point(t.tl.x,t.tl.y),tr:new fabric.Point(t.tr.x,t.tr.y),bl:new fabric.Point(t.bl.x,t.bl.y),br:new fabric.Point(t.br.x,t.br.y)}}var i=e(this.oCoords),n=e(t.oCoords),r=fabric.Intersection.intersectPolygonPolygon([i.tl,i.tr,i.br,i.bl],[n.tl,n.tr,n.br,n.bl]);return"Intersection"===r.status},isContainedWithinObject:function(t){var e=t.getBoundingRect(),i=new fabric.Point(e.left,e.top),n=new fabric.Point(e.left+e.width,e.top+e.height);return this.isContainedWithinRect(i,n)},isContainedWithinRect:function(t,e){var i=this.getBoundingRect();return i.left>=t.x&&i.left+i.width<=e.x&&i.top>=t.y&&i.top+i.height<=e.y},containsPoint:function(t){var e=this._getImageLines(this.oCoords),i=this._findCrossPoints(t,e);return 0!==i&&i%2===1},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var i,n,r,o,s,a,c,l=0;for(var h in e)if(c=e[h],!(c.o.y<t.y&&c.d.y<t.y||c.o.y>=t.y&&c.d.y>=t.y||(c.o.x===c.d.x&&c.o.x>=t.x?(s=c.o.x,a=t.y):(i=0,n=(c.d.y-c.o.y)/(c.d.x-c.o.x),r=t.y-i*t.x,o=c.o.y-n*c.o.x,s=-(r-o)/(i-n),a=r+i*s),s>=t.x&&(l+=1),2!==l)))break;return l},getBoundingRectWidth:function(){return this.getBoundingRect().width},getBoundingRectHeight:function(){return this.getBoundingRect().height},getBoundingRect:function(){this.oCoords||this.setCoords();var t=[this.oCoords.tl.x,this.oCoords.tr.x,this.oCoords.br.x,this.oCoords.bl.x],e=fabric.util.array.min(t),i=fabric.util.array.max(t),n=Math.abs(e-i),r=[this.oCoords.tl.y,this.oCoords.tr.y,this.oCoords.br.y,this.oCoords.bl.y],o=fabric.util.array.min(r),s=fabric.util.array.max(r),a=Math.abs(o-s);return{left:e,top:o,width:n,height:a}},getWidth:function(){return this.width*this.scaleX},getHeight:function(){return this.height*this.scaleY},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?0>t?-this.minScaleLimit:this.minScaleLimit:t},scale:function(t){return t=this._constrainScale(t),0>t&&(this.flipX=!this.flipX,this.flipY=!this.flipY,t*=-1),this.scaleX=t,this.scaleY=t,this.setCoords(),this},scaleToWidth:function(t){var e=this.getBoundingRectWidth()/this.getWidth();return this.scale(t/this.width/e)},scaleToHeight:function(t){var e=this.getBoundingRectHeight()/this.getHeight();return this.scale(t/this.height/e)},setCoords:function(){var e=this.strokeWidth,i=t(this.angle),n=this.getViewportTransform(),r=function(t){return fabric.util.transformPoint(t,n)},o=this.width,s=this.height,a="round"===this.strokeLineCap||"square"===this.strokeLineCap,c="line"===this.type&&0===this.width,l="line"===this.type&&0===this.height,h=c||l,u=a&&l||!h,d=a&&c||!h;c?o=e:l&&(s=e),u&&(o+=o>0?e:-e),d&&(s+=s>0?e:-e),this.currentWidth=o*this.scaleX,this.currentHeight=s*this.scaleY,this.currentWidth<0&&(this.currentWidth=Math.abs(this.currentWidth));var f=Math.sqrt(Math.pow(this.currentWidth/2,2)+Math.pow(this.currentHeight/2,2)),p=Math.atan(isFinite(this.currentHeight/this.currentWidth)?this.currentHeight/this.currentWidth:0),g=Math.cos(p+i)*f,m=Math.sin(p+i)*f,y=Math.sin(i),v=Math.cos(i),b=this.getCenterPoint(),_=new fabric.Point(this.currentWidth,this.currentHeight),x=new fabric.Point(b.x-g,b.y-m),C=new fabric.Point(x.x+_.x*v,x.y+_.x*y),E=new fabric.Point(x.x-_.y*y,x.y+_.y*v),S=new fabric.Point(x.x+_.x/2*v,x.y+_.x/2*y),A=r(x),w=r(C),T=r(new fabric.Point(C.x-_.y*y,C.y+_.y*v)),O=r(E),F=r(new fabric.Point(x.x-_.y/2*y,x.y+_.y/2*v)),I=r(S),k=r(new fabric.Point(C.x-_.y/2*y,C.y+_.y/2*v)),L=r(new fabric.Point(E.x+_.x/2*v,E.y+_.x/2*y)),R=r(new fabric.Point(S.x,S.y)),N=Math.cos(p+i)*this.padding*Math.sqrt(2),D=Math.sin(p+i)*this.padding*Math.sqrt(2);return A=A.add(new fabric.Point(-N,-D)),w=w.add(new fabric.Point(D,-N)),T=T.add(new fabric.Point(N,D)),O=O.add(new fabric.Point(-D,N)),F=F.add(new fabric.Point((-N-D)/2,(-D+N)/2)),I=I.add(new fabric.Point((D-N)/2,-(D+N)/2)),k=k.add(new fabric.Point((D+N)/2,(D-N)/2)),L=L.add(new fabric.Point((N-D)/2,(N+D)/2)),R=R.add(new fabric.Point((D-N)/2,-(D+N)/2)),this.oCoords={tl:A,tr:w,br:T,bl:O,ml:F,mt:I,mr:k,mb:L,mtr:R},this._setCornerCoords&&this._setCornerCoords(),this}})}(),fabric.util.object.extend(fabric.Object.prototype,{sendToBack:function(){return this.group?fabric.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?fabric.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?fabric.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?fabric.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group?fabric.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas.moveTo(this,t),this}}),fabric.util.object.extend(fabric.Object.prototype,{getSvgStyles:function(){var t=this.fill?this.fill.toLive?"url(#SVGID_"+this.fill.id+")":this.fill:"none",e=this.fillRule,i=this.stroke?this.stroke.toLive?"url(#SVGID_"+this.stroke.id+")":this.stroke:"none",n=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):"",o=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",a=this.strokeMiterLimit?this.strokeMiterLimit:"4",c="undefined"!=typeof this.opacity?this.opacity:"1",l=this.visible?"":" visibility: hidden;",h=this.shadow&&"text"!==this.type?"filter: url(#SVGID_"+this.shadow.id+");":"";return["stroke: ",i,"; ","stroke-width: ",n,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",o,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",a,"; ","fill: ",t,"; ","fill-rule: ",e,"; ","opacity: ",c,";",h,l].join("")},getSvgTransform:function(){if(this.group&&"path-group"===this.group.type)return"";var t=fabric.util.toFixed,e=this.getAngle(),i=!this.canvas||this.canvas.svgViewportTransformation?this.getViewportTransform():[1,0,0,1,0,0],n=fabric.util.transformPoint(this.getCenterPoint(),i),r=fabric.Object.NUM_FRACTION_DIGITS,o="path-group"===this.type?"":"translate("+t(n.x,r)+" "+t(n.y,r)+")",s=0!==e?" rotate("+t(e,r)+")":"",a=1===this.scaleX&&1===this.scaleY&&1===i[0]&&1===i[3]?"":" scale("+t(this.scaleX*i[0],r)+" "+t(this.scaleY*i[3],r)+")",c="path-group"===this.type?this.width*i[0]:0,l=this.flipX?" matrix(-1 0 0 1 "+c+" 0) ":"",h="path-group"===this.type?this.height*i[3]:0,u=this.flipY?" matrix(1 0 0 -1 0 "+h+")":"";return[o,s,a,l,u].join("")},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+")":""},_createBaseSVGMarkup:function(){var t=[];return this.fill&&this.fill.toLive&&t.push(this.fill.toSVG(this,!1)),this.stroke&&this.stroke.toLive&&t.push(this.stroke.toSVG(this,!1)),this.shadow&&t.push(this.shadow.toSVG(this)),t}}),fabric.util.object.extend(fabric.Object.prototype,{hasStateChanged:function(){return this.stateProperties.some(function(t){return this.get(t)!==this.originalState[t]},this)},saveState:function(t){return this.stateProperties.forEach(function(t){this.originalState[t]=this.get(t)},this),t&&t.stateProperties&&t.stateProperties.forEach(function(t){this.originalState[t]=this.get(t)},this),this},setupState:function(){return this.originalState={},this.saveState(),this}}),function(){var t=fabric.util.degreesToRadians,e=function(){return"undefined"!=typeof G_vmlCanvasManager};fabric.util.object.extend(fabric.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(t){if(!this.hasControls||!this.active)return!1;var e,i,n=t.x,r=t.y;for(var o in this.oCoords)if(this.isControlVisible(o)&&("mtr"!==o||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==o&&"mr"!==o&&"mb"!==o&&"ml"!==o)&&(i=this._getImageLines(this.oCoords[o].corner),e=this._findCrossPoints({x:n,y:r},i),0!==e&&e%2===1))return this.__corner=o,o;return!1},_setCornerCoords:function(){var e=this.oCoords,i=t(this.angle),n=t(45-this.angle),r=Math.sqrt(2*Math.pow(this.cornerSize,2))/2,o=r*Math.cos(n),s=r*Math.sin(n),a=Math.sin(i),c=Math.cos(i);e.tl.corner={tl:{x:e.tl.x-s,y:e.tl.y-o},tr:{x:e.tl.x+o,y:e.tl.y-s},bl:{x:e.tl.x-o,y:e.tl.y+s},br:{x:e.tl.x+s,y:e.tl.y+o}},e.tr.corner={tl:{x:e.tr.x-s,y:e.tr.y-o},tr:{x:e.tr.x+o,y:e.tr.y-s},br:{x:e.tr.x+s,y:e.tr.y+o},bl:{x:e.tr.x-o,y:e.tr.y+s}},e.bl.corner={tl:{x:e.bl.x-s,y:e.bl.y-o},bl:{x:e.bl.x-o,y:e.bl.y+s},br:{x:e.bl.x+s,y:e.bl.y+o},tr:{x:e.bl.x+o,y:e.bl.y-s}},e.br.corner={tr:{x:e.br.x+o,y:e.br.y-s},bl:{x:e.br.x-o,y:e.br.y+s},br:{x:e.br.x+s,y:e.br.y+o},tl:{x:e.br.x-s,y:e.br.y-o}},e.ml.corner={tl:{x:e.ml.x-s,y:e.ml.y-o},tr:{x:e.ml.x+o,y:e.ml.y-s},bl:{x:e.ml.x-o,y:e.ml.y+s},br:{x:e.ml.x+s,y:e.ml.y+o}},e.mt.corner={tl:{x:e.mt.x-s,y:e.mt.y-o},tr:{x:e.mt.x+o,y:e.mt.y-s},bl:{x:e.mt.x-o,y:e.mt.y+s},br:{x:e.mt.x+s,y:e.mt.y+o}},e.mr.corner={tl:{x:e.mr.x-s,y:e.mr.y-o},tr:{x:e.mr.x+o,y:e.mr.y-s},bl:{x:e.mr.x-o,y:e.mr.y+s},br:{x:e.mr.x+s,y:e.mr.y+o}},e.mb.corner={tl:{x:e.mb.x-s,y:e.mb.y-o},tr:{x:e.mb.x+o,y:e.mb.y-s},bl:{x:e.mb.x-o,y:e.mb.y+s},br:{x:e.mb.x+s,y:e.mb.y+o}},e.mtr.corner={tl:{x:e.mtr.x-s+a*this.rotatingPointOffset,y:e.mtr.y-o-c*this.rotatingPointOffset},tr:{x:e.mtr.x+o+a*this.rotatingPointOffset,y:e.mtr.y-s-c*this.rotatingPointOffset},bl:{x:e.mtr.x-o+a*this.rotatingPointOffset,y:e.mtr.y+s-c*this.rotatingPointOffset},br:{x:e.mtr.x+s+a*this.rotatingPointOffset,y:e.mtr.y+o-c*this.rotatingPointOffset}}},drawBorders:function(t){if(!this.hasBorders)return this;var e=this.padding,i=2*e,n=this.getViewportTransform();t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,t.strokeStyle=this.borderColor;var r=1/this._constrainScale(this.scaleX),o=1/this._constrainScale(this.scaleY);t.lineWidth=1/this.borderScaleFactor;var s=this.getWidth(),a=this.getHeight(),c=this.strokeWidth,l="round"===this.strokeLineCap||"square"===this.strokeLineCap,h="line"===this.type&&0===this.width,u="line"===this.type&&0===this.height,d=h||u,f=l&&u||!d,p=l&&h||!d;h?s=c/r:u&&(a=c/o),f&&(s+=c/r),p&&(a+=c/o);var g=fabric.util.transformPoint(new fabric.Point(s,a),n,!0),m=g.x,y=g.y;if(this.group&&(m*=this.group.scaleX,y*=this.group.scaleY),t.strokeRect(~~(-(m/2)-e)-.5,~~(-(y/2)-e)-.5,~~(m+i)+1,~~(y+i)+1),this.hasRotatingPoint&&this.isControlVisible("mtr")&&!this.get("lockRotation")&&this.hasControls){var v=(-y-2*e)/2;t.beginPath(),t.moveTo(0,v),t.lineTo(0,v-this.rotatingPointOffset),t.closePath(),t.stroke()}return t.restore(),this},drawControls:function(t){if(!this.hasControls)return this;var e=this.cornerSize,i=e/2,n=this.getViewportTransform(),r=this.strokeWidth,o=this.width,s=this.height,a="round"===this.strokeLineCap||"square"===this.strokeLineCap,c="line"===this.type&&0===this.width,l="line"===this.type&&0===this.height,h=c||l,u=a&&l||!h,d=a&&c||!h;c?o=r:l&&(s=r),u&&(o+=r),d&&(s+=r),o*=this.scaleX,s*=this.scaleY;var f=fabric.util.transformPoint(new fabric.Point(o,s),n,!0),p=f.x,g=f.y,m=-(p/2),y=-(g/2),v=this.padding,b=i,_=i-e,x=this.transparentCorners?"strokeRect":"fillRect";return t.save(),t.lineWidth=1,t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,t.strokeStyle=t.fillStyle=this.cornerColor,this._drawControl("tl",t,x,m-b-v,y-b-v),this._drawControl("tr",t,x,m+p-b+v,y-b-v),this._drawControl("bl",t,x,m-b-v,y+g+_+v),this._drawControl("br",t,x,m+p+_+v,y+g+_+v),this.get("lockUniScaling")||(this._drawControl("mt",t,x,m+p/2-b,y-b-v),this._drawControl("mb",t,x,m+p/2-b,y+g+_+v),this._drawControl("mr",t,x,m+p+_+v,y+g/2-b),this._drawControl("ml",t,x,m-b-v,y+g/2-b)),this.hasRotatingPoint&&this._drawControl("mtr",t,x,m+p/2-b,y-this.rotatingPointOffset-this.cornerSize/2-v),t.restore(),this},_drawControl:function(t,i,n,r,o){var s=this.cornerSize;this.isControlVisible(t)&&(e()||this.transparentCorners||i.clearRect(r,o,s,s),i[n](r,o,s,s))},isControlVisible:function(t){return this._getControlsVisibility()[t]},setControlVisible:function(t,e){return this._getControlsVisibility()[t]=e,this},setControlsVisibility:function(t){t||(t={});for(var e in t)this.setControlVisible(e,t[e]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility}})}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){e=e||{};var i=function(){},n=e.onComplete||i,r=e.onChange||i,o=this;return fabric.util.animate({startValue:t.get("left"),endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),o.renderAll(),r()},onComplete:function(){t.setCoords(),n()}}),this},fxCenterObjectV:function(t,e){e=e||{};var i=function(){},n=e.onComplete||i,r=e.onChange||i,o=this;return fabric.util.animate({startValue:t.get("top"),endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),o.renderAll(),r()},onComplete:function(){t.setCoords(),n()}}),this},fxRemove:function(t,e){e=e||{};var i=function(){},n=e.onComplete||i,r=e.onChange||i,o=this;return fabric.util.animate({startValue:t.get("opacity"),endValue:0,duration:this.FX_DURATION,onStart:function(){t.set("active",!1)},onChange:function(e){t.set("opacity",e),o.renderAll(),r()},onComplete:function(){o.remove(t),n()}}),this}}),fabric.util.object.extend(fabric.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var t,e,i=[];for(t in arguments[0])i.push(t);for(var n=0,r=i.length;r>n;n++)t=i[n],e=n!==r-1,this._animate(t,arguments[0][t],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,i,n){var r,o=this;e=e.toString(),i=i?fabric.util.object.clone(i):{},~t.indexOf(".")&&(r=t.split("."));var s=r?this.get(r[0])[r[1]]:this.get(t);"from"in i||(i.from=s),e=~e.indexOf("=")?s+parseFloat(e.replace("=","")):parseFloat(e),fabric.util.animate({startValue:i.from,endValue:e,byValue:i.by,easing:i.easing,duration:i.duration,abort:i.abort&&function(){return i.abort.call(o)},onChange:function(e){r?o[r[0]][r[1]]=e:o.set(t,e),n||i.onChange&&i.onChange()},onComplete:function(){n||(o.setCoords(),i.onComplete&&i.onComplete())}})}}),function(t){"use strict";function e(t,e){var i=t.origin,n=t.axis1,r=t.axis2,o=t.dimension,s=e.nearest,a=e.center,c=e.farthest;return function(){switch(this.get(i)){case s:return Math.min(this.get(n),this.get(r));case a:return Math.min(this.get(n),this.get(r))+.5*this.get(o);case c:return Math.max(this.get(n),this.get(r))}}}var i=t.fabric||(t.fabric={}),n=i.util.object.extend,r={x1:1,x2:1,y1:1,y2:1},o=i.StaticCanvas.supports("setLineDash");return i.Line?void i.warn("fabric.Line is already defined"):(i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,initialize:function(t,e){e=e||{},t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),"undefined"!=typeof r[t]&&this._setWidthHeight(),this},_getLeftToOriginX:e({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:e({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t,e){if(t.beginPath(),e){var i=this.getCenterPoint();t.translate(i.x-this.strokeWidth/2,i.y-this.strokeWidth/2)}if(!this.strokeDashArray||this.strokeDashArray&&o){var n=this.calcLinePoints();
t.moveTo(n.x1,n.y1),t.lineTo(n.x2,n.y2)}t.lineWidth=this.strokeWidth;var r=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=r},_renderDashedStroke:function(t){var e=this.calcLinePoints();t.beginPath(),i.util.drawDashedLine(t,e.x1,e.y1,e.x2,e.y2,this.strokeDashArray),t.closePath()},toObject:function(t){return n(this.callSuper("toObject",t),this.calcLinePoints())},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,i=t*this.width*.5,n=e*this.height*.5,r=t*this.width*-.5,o=e*this.height*-.5;return{x1:i,x2:r,y1:n,y2:o}},toSVG:function(t){var e=this._createBaseSVGMarkup(),i={x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2};return this.group&&"path-group"===this.group.type||(i=this.calcLinePoints()),e.push("<line ",'x1="',i.x1,'" y1="',i.y1,'" x2="',i.x2,'" y2="',i.y2,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},complexity:function(){return 1}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(t,e){var r=i.parseAttributes(t,i.Line.ATTRIBUTE_NAMES),o=[r.x1||0,r.y1||0,r.x2||0,r.y2||0];return new i.Line(o,n(r,e))},void(i.Line.fromObject=function(t){var e=[t.x1,t.y1,t.x2,t.y2];return new i.Line(e,t)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";function e(t){return"radius"in t&&t.radius>0}var i=t.fabric||(t.fabric={}),n=Math.PI,r=i.util.object.extend;return i.Circle?void i.warn("fabric.Circle is already defined."):(i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*n,initialize:function(t){t=t||{},this.callSuper("initialize",t),this.set("radius",t.radius||0),this.startAngle=t.startAngle||this.startAngle,this.endAngle=t.endAngle||this.endAngle},_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return r(this.callSuper("toObject",t),{radius:this.get("radius"),startAngle:this.startAngle,endAngle:this.endAngle})},toSVG:function(t){var e=this._createBaseSVGMarkup(),i=0,r=0,o=(this.endAngle-this.startAngle)%(2*n);if(0===o)this.group&&"path-group"===this.group.type&&(i=this.left+this.radius,r=this.top+this.radius),e.push("<circle ",'cx="'+i+'" cy="'+r+'" ','r="',this.radius,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n');else{var s=Math.cos(this.startAngle)*this.radius,a=Math.sin(this.startAngle)*this.radius,c=Math.cos(this.endAngle)*this.radius,l=Math.sin(this.endAngle)*this.radius,h=o>n?"1":"0";e.push('<path d="M '+s+" "+a," A "+this.radius+" "+this.radius," 0 ",+h+" 1"," "+c+" "+l,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n')}return t?t(e.join("")):e.join("")},_render:function(t,e){t.beginPath(),t.arc(e?this.left+this.radius:0,e?this.top+this.radius:0,this.radius,this.startAngle,this.endAngle,!1),this._renderFill(t),this._renderStroke(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){this.radius=t,this.set("width",2*t).set("height",2*t)},complexity:function(){return 1}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(t,n){n||(n={});var o=i.parseAttributes(t,i.Circle.ATTRIBUTE_NAMES);if(!e(o))throw new Error("value of `r` attribute is required and can not be negative");o.left=o.left||0,o.top=o.top||0;var s=new i.Circle(r(o,n));return s.left-=s.radius,s.top-=s.radius,s},void(i.Circle.fromObject=function(t){return new i.Circle(t)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});return e.Triangle?void e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",initialize:function(t){t=t||{},this.callSuper("initialize",t),this.set("width",t.width||100).set("height",t.height||100)},_render:function(t){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,i),t.lineTo(0,-i),t.lineTo(e,i),t.closePath(),this._renderFill(t),this._renderStroke(t)},_renderDashedStroke:function(t){var i=this.width/2,n=this.height/2;t.beginPath(),e.util.drawDashedLine(t,-i,n,0,-n,this.strokeDashArray),e.util.drawDashedLine(t,0,-n,i,n,this.strokeDashArray),e.util.drawDashedLine(t,i,n,-i,n,this.strokeDashArray),t.closePath()},toSVG:function(t){var e=this._createBaseSVGMarkup(),i=this.width/2,n=this.height/2,r=[-i+" "+n,"0 "+-n,i+" "+n].join(",");return e.push("<polygon ",'points="',r,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>'),t?t(e.join("")):e.join("")},complexity:function(){return 1}}),void(e.Triangle.fromObject=function(t){return new e.Triangle(t)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=2*Math.PI,n=e.util.object.extend;return e.Ellipse?void e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,initialize:function(t){t=t||{},this.callSuper("initialize",t),this.set("rx",t.rx||0),this.set("ry",t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return n(this.callSuper("toObject",t),{rx:this.get("rx"),ry:this.get("ry")})},toSVG:function(t){var e=this._createBaseSVGMarkup(),i=0,n=0;return this.group&&"path-group"===this.group.type&&(i=this.left+this.rx,n=this.top+this.ry),e.push("<ellipse ",'cx="',i,'" cy="',n,'" ','rx="',this.rx,'" ry="',this.ry,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},_render:function(t,e){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(e?this.left+this.rx:0,e?(this.top+this.ry)*this.rx/this.ry:0,this.rx,0,i,!1),t.restore(),this._renderFill(t),this._renderStroke(t)},complexity:function(){return 1}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,i){i||(i={});var r=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);r.left=r.left||0,r.top=r.top||0;var o=new e.Ellipse(n(r,i));return o.top-=o.ry,o.left-=o.rx,o},void(e.Ellipse.fromObject=function(t){return new e.Ellipse(t)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;if(e.Rect)return void console.warn("fabric.Rect is already defined");var n=e.Object.prototype.stateProperties.concat();n.push("rx","ry","x","y"),e.Rect=e.util.createClass(e.Object,{stateProperties:n,type:"rect",rx:0,ry:0,strokeDashArray:null,initialize:function(t){t=t||{},this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t,e){if(1===this.width&&1===this.height)return void t.fillRect(0,0,1,1);var i=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,o=this.height,s=e?this.left:-this.width/2,a=e?this.top:-this.height/2,c=0!==i||0!==n,l=.4477152502;t.beginPath(),t.moveTo(s+i,a),t.lineTo(s+r-i,a),c&&t.bezierCurveTo(s+r-l*i,a,s+r,a+l*n,s+r,a+n),t.lineTo(s+r,a+o-n),c&&t.bezierCurveTo(s+r,a+o-l*n,s+r-l*i,a+o,s+r-i,a+o),t.lineTo(s+i,a+o),c&&t.bezierCurveTo(s+l*i,a+o,s,a+o-l*n,s,a+o-n),t.lineTo(s,a+n),c&&t.bezierCurveTo(s,a+l*n,s+l*i,a,s+i,a),t.closePath(),this._renderFill(t),this._renderStroke(t)},_renderDashedStroke:function(t){var i=-this.width/2,n=-this.height/2,r=this.width,o=this.height;t.beginPath(),e.util.drawDashedLine(t,i,n,i+r,n,this.strokeDashArray),e.util.drawDashedLine(t,i+r,n,i+r,n+o,this.strokeDashArray),e.util.drawDashedLine(t,i+r,n+o,i,n+o,this.strokeDashArray),e.util.drawDashedLine(t,i,n+o,i,n,this.strokeDashArray),t.closePath()},toObject:function(t){var e=i(this.callSuper("toObject",t),{rx:this.get("rx")||0,ry:this.get("ry")||0});return this.includeDefaultValues||this._removeDefaultValues(e),e},toSVG:function(t){var e=this._createBaseSVGMarkup(),i=this.left,n=this.top;return this.group&&"path-group"===this.group.type||(i=-this.width/2,n=-this.height/2),e.push("<rect ",'x="',i,'" y="',n,'" rx="',this.get("rx"),'" ry="',this.get("ry"),'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},complexity:function(){return 1}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,n){if(!t)return null;n=n||{};var r=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);return r.left=r.left||0,r.top=r.top||0,new e.Rect(i(n?e.util.object.clone(n):{},r))},e.Rect.fromObject=function(t){return new e.Rect(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});return e.Polyline?void e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,minX:0,minY:0,initialize:function(t,i){return e.Polygon.prototype.initialize.call(this,t,i)},_calcDimensions:function(){return e.Polygon.prototype._calcDimensions.call(this)},_applyPointOffset:function(){return e.Polygon.prototype._applyPointOffset.call(this)},toObject:function(t){return e.Polygon.prototype.toObject.call(this,t)},toSVG:function(t){return e.Polygon.prototype.toSVG.call(this,t)},_render:function(t){e.Polygon.prototype.commonRender.call(this,t),this._renderFill(t),this._renderStroke(t)},_renderDashedStroke:function(t){var i,n;t.beginPath();for(var r=0,o=this.points.length;o>r;r++)i=this.points[r],n=this.points[r+1]||i,e.util.drawDashedLine(t,i.x,i.y,n.x,n.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElement=function(t,i){if(!t)return null;i||(i={});var n=e.parsePointsAttribute(t.getAttribute("points")),r=e.parseAttributes(t,e.Polyline.ATTRIBUTE_NAMES);return null===n?null:new e.Polyline(n,e.util.object.extend(r,i))},void(e.Polyline.fromObject=function(t){var i=t.points;return new e.Polyline(i,t,!0)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.array.min,r=e.util.array.max,o=e.util.toFixed;return e.Polygon?void e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Object,{type:"polygon",points:null,minX:0,minY:0,initialize:function(t,e){e=e||{},this.points=t,this.callSuper("initialize",e),this._calcDimensions(),"top"in e||(this.top=this.minY),"left"in e||(this.left=this.minX)},_calcDimensions:function(){var t=this.points,e=n(t,"x"),i=n(t,"y"),o=r(t,"x"),s=r(t,"y");this.width=o-e||1,this.height=s-i||1,this.minX=e,this.minY=i},_applyPointOffset:function(){this.points.forEach(function(t){t.x-=this.minX+this.width/2,t.y-=this.minY+this.height/2},this)},toObject:function(t){return i(this.callSuper("toObject",t),{points:this.points.concat()})},toSVG:function(t){for(var e=[],i=this._createBaseSVGMarkup(),n=0,r=this.points.length;r>n;n++)e.push(o(this.points[n].x,2),",",o(this.points[n].y,2)," ");return i.push("<",this.type," ",'points="',e.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n'),t?t(i.join("")):i.join("")},_render:function(t){this.commonRender(t),this._renderFill(t),(this.stroke||this.strokeDashArray)&&(t.closePath(),this._renderStroke(t))},commonRender:function(t){var e;t.beginPath(),this._applyPointOffset&&(this.group&&"path-group"===this.group.type||this._applyPointOffset(),this._applyPointOffset=null),t.moveTo(this.points[0].x,this.points[0].y);for(var i=0,n=this.points.length;n>i;i++)e=this.points[i],t.lineTo(e.x,e.y)},_renderDashedStroke:function(t){e.Polyline.prototype._renderDashedStroke.call(this,t),t.closePath()},complexity:function(){return this.points.length}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=function(t,n){if(!t)return null;n||(n={});var r=e.parsePointsAttribute(t.getAttribute("points")),o=e.parseAttributes(t,e.Polygon.ATTRIBUTE_NAMES);return null===r?null:new e.Polygon(r,i(o,n))},void(e.Polygon.fromObject=function(t){return new e.Polygon(t.points,t,!0)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.array.min,n=e.util.array.max,r=e.util.object.extend,o=Object.prototype.toString,s=e.util.drawArc,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};return e.Path?void e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,minX:0,minY:0,initialize:function(t,e){if(e=e||{},this.setOptions(e),!t)throw new Error("`path` argument is required");var i="[object Array]"===o.call(t);if(this.path=i?t:t.match&&t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path){i||(this.path=this._parsePath());var n=this._parseDimensions();this.minX=n.left,this.minY=n.top,this.width=n.width,this.height=n.height,n.left+="center"===this.originX?this.width/2:"right"===this.originX?this.width:0,n.top+="center"===this.originY?this.height/2:"bottom"===this.originY?this.height:0,this.top=this.top||n.top,this.left=this.left||n.left,this.pathOffset=this.pathOffset||{x:this.minX+this.width/2,y:this.minY+this.height/2},e.sourcePath&&this.setSourcePath(e.sourcePath)}},_render:function(t){var e,i,n,r,o,a=null,c=0,l=0,h=0,u=0,d=0,f=0,p=-this.pathOffset.x,g=-this.pathOffset.y;this.group&&"path-group"===this.group.type&&(p=0,g=0),t.beginPath();for(var m=0,y=this.path.length;y>m;++m){switch(e=this.path[m],e[0]){case"l":h+=e[1],u+=e[2],t.lineTo(h+p,u+g);break;case"L":h=e[1],u=e[2],t.lineTo(h+p,u+g);break;case"h":h+=e[1],t.lineTo(h+p,u+g);break;case"H":h=e[1],t.lineTo(h+p,u+g);break;case"v":u+=e[1],t.lineTo(h+p,u+g);break;case"V":u=e[1],t.lineTo(h+p,u+g);break;case"m":h+=e[1],u+=e[2],c=h,l=u,t.moveTo(h+p,u+g);break;case"M":h=e[1],u=e[2],c=h,l=u,t.moveTo(h+p,u+g);break;case"c":i=h+e[5],n=u+e[6],d=h+e[3],f=u+e[4],t.bezierCurveTo(h+e[1]+p,u+e[2]+g,d+p,f+g,i+p,n+g),h=i,u=n;break;case"C":h=e[5],u=e[6],d=e[3],f=e[4],t.bezierCurveTo(e[1]+p,e[2]+g,d+p,f+g,h+p,u+g);break;case"s":i=h+e[3],n=u+e[4],d=d?2*h-d:h,f=f?2*u-f:u,t.bezierCurveTo(d+p,f+g,h+e[1]+p,u+e[2]+g,i+p,n+g),d=h+e[1],f=u+e[2],h=i,u=n;break;case"S":i=e[3],n=e[4],d=2*h-d,f=2*u-f,t.bezierCurveTo(d+p,f+g,e[1]+p,e[2]+g,i+p,n+g),h=i,u=n,d=e[1],f=e[2];break;case"q":i=h+e[3],n=u+e[4],d=h+e[1],f=u+e[2],t.quadraticCurveTo(d+p,f+g,i+p,n+g),h=i,u=n;break;case"Q":i=e[3],n=e[4],t.quadraticCurveTo(e[1]+p,e[2]+g,i+p,n+g),h=i,u=n,d=e[1],f=e[2];break;case"t":i=h+e[1],n=u+e[2],null===a[0].match(/[QqTt]/)?(d=h,f=u):"t"===a[0]?(d=2*h-r,f=2*u-o):"q"===a[0]&&(d=2*h-d,f=2*u-f),r=d,o=f,t.quadraticCurveTo(d+p,f+g,i+p,n+g),h=i,u=n,d=h+e[1],f=u+e[2];break;case"T":i=e[1],n=e[2],d=2*h-d,f=2*u-f,t.quadraticCurveTo(d+p,f+g,i+p,n+g),h=i,u=n;break;case"a":s(t,h+p,u+g,[e[1],e[2],e[3],e[4],e[5],e[6]+h+p,e[7]+u+g]),h+=e[6],u+=e[7];break;case"A":s(t,h+p,u+g,[e[1],e[2],e[3],e[4],e[5],e[6]+p,e[7]+g]),h=e[6],u=e[7];break;case"z":case"Z":h=c,u=l,t.closePath()}a=e}this._renderFill(t),this._renderStroke(t)},render:function(t,i){this.visible&&(t.save(),this._setupCompositeOperation(t),i||this.transform(t),this._setStrokeStyles(t),this._setFillStyles(t),this.group&&"path-group"===this.group.type&&t.translate(-this.group.width/2,-this.group.height/2),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this._setOpacity(t),this._setShadow(t),this.clipTo&&e.util.clipContext(this,t),this._render(t,i),this.clipTo&&t.restore(),this._removeShadow(t),this._restoreCompositeOperation(t),t.restore())},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){var e=r(this.callSuper("toObject",t),{path:this.path.map(function(t){return t.slice()}),pathOffset:this.pathOffset});return this.sourcePath&&(e.sourcePath=this.sourcePath),this.transformMatrix&&(e.transformMatrix=this.transformMatrix),e},toDatalessObject:function(t){var e=this.toObject(t);return this.sourcePath&&(e.path=this.sourcePath),delete e.sourcePath,e},toSVG:function(t){for(var e=[],i=this._createBaseSVGMarkup(),n="",r=0,o=this.path.length;o>r;r++)e.push(this.path[r].join(" "));var s=e.join(" ");return this.group&&"path-group"===this.group.type||(n="translate("+-this.pathOffset.x+", "+-this.pathOffset.y+")"),i.push("<path ",'d="',s,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),n,this.getSvgTransformMatrix(),'" stroke-linecap="round" ',"/>\n"),t?t(i.join("")):i.join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var t,e,i,n,r,o=[],s=[],l=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,h=0,u=this.path.length;u>h;h++){for(t=this.path[h],n=t.slice(1).trim(),s.length=0;i=l.exec(n);)s.push(i[0]);r=[t.charAt(0)];for(var d=0,f=s.length;f>d;d++)e=parseFloat(s[d]),isNaN(e)||r.push(e);var p=r[0],g=a[p.toLowerCase()],m=c[p]||p;if(r.length-1>g)for(var y=1,v=r.length;v>y;y+=g)o.push([p].concat(r.slice(y,y+g))),p=m;else o.push(r)}return o},_parseDimensions:function(){for(var t,r,o,s,a,c,l=[],h=[],u=null,d=0,f=0,p=0,g=0,m=0,y=0,v=0,b=this.path.length;b>v;++v){switch(t=this.path[v],t[0]){case"l":p+=t[1],g+=t[2],c=[];break;case"L":p=t[1],g=t[2],c=[];break;case"h":p+=t[1],c=[];break;case"H":p=t[1],c=[];break;case"v":g+=t[1],c=[];break;case"V":g=t[1],c=[];break;case"m":p+=t[1],g+=t[2],d=p,f=g,c=[];break;case"M":p=t[1],g=t[2],d=p,f=g,c=[];break;case"c":r=p+t[5],o=g+t[6],m=p+t[3],y=g+t[4],c=e.util.getBoundsOfCurve(p,g,p+t[1],g+t[2],m,y,r,o),p=r,g=o;break;case"C":p=t[5],g=t[6],m=t[3],y=t[4],c=e.util.getBoundsOfCurve(p,g,t[1],t[2],m,y,p,g);break;case"s":r=p+t[3],o=g+t[4],m=m?2*p-m:p,y=y?2*g-y:g,c=e.util.getBoundsOfCurve(p,g,m,y,p+t[1],g+t[2],r,o),m=p+t[1],y=g+t[2],p=r,g=o;break;case"S":r=t[3],o=t[4],m=2*p-m,y=2*g-y,c=e.util.getBoundsOfCurve(p,g,m,y,t[1],t[2],r,o),p=r,g=o,m=t[1],y=t[2];break;case"q":r=p+t[3],o=g+t[4],m=p+t[1],y=g+t[2],c=e.util.getBoundsOfCurve(p,g,m,y,m,y,r,o),p=r,g=o;break;case"Q":m=t[1],y=t[2],c=e.util.getBoundsOfCurve(p,g,m,y,m,y,t[3],t[4]),p=t[3],g=t[4];break;case"t":r=p+t[1],o=g+t[2],null===u[0].match(/[QqTt]/)?(m=p,y=g):"t"===u[0]?(m=2*p-s,y=2*g-a):"q"===u[0]&&(m=2*p-m,y=2*g-y),s=m,a=y,c=e.util.getBoundsOfCurve(p,g,m,y,m,y,r,o),p=r,g=o,m=p+t[1],y=g+t[2];break;case"T":r=t[1],o=t[2],m=2*p-m,y=2*g-y,c=e.util.getBoundsOfCurve(p,g,m,y,m,y,r,o),p=r,g=o;break;case"a":c=e.util.getBoundsOfArc(p,g,t[1],t[2],t[3],t[4],t[5],t[6]+p,t[7]+g),p+=t[6],g+=t[7];break;case"A":c=e.util.getBoundsOfArc(p,g,t[1],t[2],t[3],t[4],t[5],t[6],t[7]),p=t[6],g=t[7];break;case"z":case"Z":p=d,g=f}u=t,c.forEach(function(t){l.push(t.x),h.push(t.y)}),l.push(p),h.push(g)}var _=i(l),x=i(h),C=n(l),E=n(h),S=C-_,A=E-x,w={left:_,top:x,width:S,height:A};return w}}),e.Path.fromObject=function(t,i){"string"==typeof t.path?e.loadSVGFromURL(t.path,function(n){var r=n[0],o=t.path;delete t.path,e.util.object.extend(r,t),r.setSourcePath(o),i(r)}):i(new e.Path(t.path,t))},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,i,n){var o=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);i&&i(new e.Path(o.d,r(o,n)))},void(e.Path.async=!0))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.array.invoke,r=e.Object.prototype.toObject;return e.PathGroup?void e.warn("fabric.PathGroup is already defined"):(e.PathGroup=e.util.createClass(e.Path,{type:"path-group",fill:"",initialize:function(t,e){e=e||{},this.paths=t||[];for(var i=this.paths.length;i--;)this.paths[i].group=this;this.setOptions(e),e.widthAttr&&(this.scaleX=e.widthAttr/e.width),e.heightAttr&&(this.scaleY=e.heightAttr/e.height),this.setCoords(),e.sourcePath&&this.setSourcePath(e.sourcePath)},render:function(t){if(this.visible){t.save();var i=this.transformMatrix;i&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this.transform(t),this._setShadow(t),this.clipTo&&e.util.clipContext(this,t);for(var n=0,r=this.paths.length;r>n;++n)this.paths[n].render(t,!0);this.clipTo&&t.restore(),this._removeShadow(t),t.restore()}},_set:function(t,e){if("fill"===t&&e&&this.isSameColor())for(var i=this.paths.length;i--;)this.paths[i]._set(t,e);return this.callSuper("_set",t,e)},toObject:function(t){var e=i(r.call(this,t),{paths:n(this.getObjects(),"toObject",t)});return this.sourcePath&&(e.sourcePath=this.sourcePath),e},toDatalessObject:function(t){var e=this.toObject(t);return this.sourcePath&&(e.paths=this.sourcePath),e},toSVG:function(t){for(var e=this.getObjects(),i="translate("+this.left+" "+this.top+")",n=["<g ",'style="',this.getSvgStyles(),'" ','transform="',i,this.getSvgTransform(),'" ',">\n"],r=0,o=e.length;o>r;r++)n.push(e[r].toSVG(t));return n.push("</g>\n"),t?t(n.join("")):n.join("")},toString:function(){return"#<fabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }>"},isSameColor:function(){var t=(this.getObjects()[0].get("fill")||"").toLowerCase();return this.getObjects().every(function(e){return(e.get("fill")||"").toLowerCase()===t})},complexity:function(){return this.paths.reduce(function(t,e){return t+(e&&e.complexity?e.complexity():0)},0)},getObjects:function(){return this.paths}}),e.PathGroup.fromObject=function(t,i){"string"==typeof t.paths?e.loadSVGFromURL(t.paths,function(n){var r=t.paths;delete t.paths;var o=e.util.groupSVGElements(n,t,r);i(o)}):e.util.enlivenObjects(t.paths,function(n){delete t.paths,i(new e.PathGroup(n,t))})},void(e.PathGroup.async=!0))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.array.min,r=e.util.array.max,o=e.util.array.invoke;if(!e.Group){var s={lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0};e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",initialize:function(t,e){e=e||{},this._objects=t||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;this.originalState={},this.callSuper("initialize"),e.originX&&(this.originX=e.originX),e.originY&&(this.originY=e.originY),this._calcBounds(),this._updateObjectsCoords(),e&&i(this,e),this.setCoords(),this.saveCoords()},_updateObjectsCoords:function(){this.forEachObject(this._updateObjectCoords,this)},_updateObjectCoords:function(t){var e=t.getLeft(),i=t.getTop(),n=this.getCenterPoint();t.set({originalLeft:e,originalTop:i,left:e-n.x,top:i-n.y}),t.setCoords(),t.__origHasControls=t.hasControls,t.hasControls=!1},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){return this._restoreObjectsState(),t&&(this._objects.push(t),t.group=this),this.forEachObject(this._setObjectActive,this),this._calcBounds(),this._updateObjectsCoords(),this},_setObjectActive:function(t){t.set("active",!0),t.group=this},removeWithUpdate:function(t){return this._moveFlippedObject(t),this._restoreObjectsState(),this.forEachObject(this._setObjectActive,this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this},_onObjectAdded:function(t){t.group=this},_onObjectRemoved:function(t){delete t.group,t.set("active",!1)},delegatedProperties:{fill:!0,opacity:!0,fontFamily:!0,fontWeight:!0,fontSize:!0,fontStyle:!0,lineHeight:!0,textDecoration:!0,textAlign:!0,backgroundColor:!0},_set:function(t,e){if(t in this.delegatedProperties){var i=this._objects.length;for(this[t]=e;i--;)this._objects[i].set(t,e)}else this[t]=e},toObject:function(t){return i(this.callSuper("toObject",t),{objects:o(this._objects,"toObject",t)})},render:function(t){if(this.visible){t.save(),this.clipTo&&e.util.clipContext(this,t);for(var i=0,n=this._objects.length;n>i;i++)this._renderObject(this._objects[i],t);this.clipTo&&t.restore(),t.restore()}},_renderControls:function(t,e){this.callSuper("_renderControls",t,e);for(var i=0,n=this._objects.length;n>i;i++)this._objects[i]._renderControls(t)},_renderObject:function(t,e){var i=t.hasRotatingPoint;t.visible&&(t.hasRotatingPoint=!1,t.render(e),t.hasRotatingPoint=i)},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},_moveFlippedObject:function(t){var e=t.get("originX"),i=t.get("originY"),n=t.getCenterPoint();t.set({originX:"center",originY:"center",left:n.x,top:n.y}),this._toggleFlipping(t);var r=t.getPointByOrigin(e,i);return t.set({originX:e,originY:i,left:r.x,top:r.y}),this},_toggleFlipping:function(t){this.flipX&&(t.toggle("flipX"),t.set("left",-t.get("left")),t.setAngle(-t.getAngle())),this.flipY&&(t.toggle("flipY"),t.set("top",-t.get("top")),t.setAngle(-t.getAngle()))},_restoreObjectState:function(t){return this._setObjectPosition(t),t.setCoords(),t.hasControls=t.__origHasControls,delete t.__origHasControls,t.set("active",!1),t.setCoords(),delete t.group,this},_setObjectPosition:function(t){var e=this.getCenterPoint(),i=this._getRotatedLeftTop(t);t.set({angle:t.getAngle()+this.getAngle(),left:e.x+i.left,top:e.y+i.top,scaleX:t.get("scaleX")*this.get("scaleX"),scaleY:t.get("scaleY")*this.get("scaleY")})},_getRotatedLeftTop:function(t){var e=this.getAngle()*(Math.PI/180);return{left:-Math.sin(e)*t.getTop()*this.get("scaleY")+Math.cos(e)*t.getLeft()*this.get("scaleX"),top:Math.cos(e)*t.getTop()*this.get("scaleY")+Math.sin(e)*t.getLeft()*this.get("scaleX")}},destroy:function(){return this._objects.forEach(this._moveFlippedObject,this),this._restoreObjectsState()},saveCoords:function(){return this._originalLeft=this.get("left"),this._originalTop=this.get("top"),this},hasMoved:function(){return this._originalLeft!==this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){return this.forEachObject(function(t){t.setCoords()}),this},_calcBounds:function(t){for(var e,i=[],n=[],r=0,o=this._objects.length;o>r;++r){e=this._objects[r],e.setCoords();for(var s in e.oCoords)i.push(e.oCoords[s].x),n.push(e.oCoords[s].y)}this.set(this._getBounds(i,n,t))},_getBounds:function(t,i,o){var s=e.util.invertTransform(this.getViewportTransform()),a=e.util.transformPoint(new e.Point(n(t),n(i)),s),c=e.util.transformPoint(new e.Point(r(t),r(i)),s),l={width:c.x-a.x||0,height:c.y-a.y||0};return o||(l.left=a.x||0,l.top=a.y||0,"center"===this.originX&&(l.left+=l.width/2),"right"===this.originX&&(l.left+=l.width),"center"===this.originY&&(l.top+=l.height/2),"bottom"===this.originY&&(l.top+=l.height)),l},toSVG:function(t){for(var e=["<g ",'transform="',this.getSvgTransform(),'">\n'],i=0,n=this._objects.length;n>i;i++)e.push(this._objects[i].toSVG(t));return e.push("</g>\n"),t?t(e.join("")):e.join("")},get:function(t){if(t in s){if(this[t])return this[t];for(var e=0,i=this._objects.length;i>e;e++)if(this._objects[e][t])return!0;return!1}return t in this.delegatedProperties?this._objects[0]&&this._objects[0].get(t):this[t]}}),e.Group.fromObject=function(t,i){e.util.enlivenObjects(t.objects,function(n){delete t.objects,i&&i(new e.Group(n,t))})},e.Group.async=!0}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=fabric.util.object.extend;return t.fabric||(t.fabric={}),t.fabric.Image?void fabric.warn("fabric.Image is already defined."):(fabric.Image=fabric.util.createClass(fabric.Object,{type:"image",crossOrigin:"",alignX:"none",alignY:"none",meetOrSlice:"meet",_lastScaleX:1,_lastScaleY:1,initialize:function(t,e){e||(e={}),this.filters=[],this.resizeFilters=[],this.callSuper("initialize",e),this._initElement(t,e),this._initConfig(e),e.filters&&(this.filters=e.filters,this.applyFilters())},getElement:function(){return this._element},setElement:function(t,e,i){return this._element=t,this._originalElement=t,this._initConfig(i),0!==this.filters.length?this.applyFilters(e):e&&e(),this},setCrossOrigin:function(t){return this.crossOrigin=t,this._element.crossOrigin=t,this},getOriginalSize:function(){var t=this.getElement();return{width:t.width,height:t.height}},_stroke:function(t){t.save(),this._setStrokeStyles(t),t.beginPath(),t.strokeRect(-this.width/2,-this.height/2,this.width,this.height),t.closePath(),t.restore()},_renderDashedStroke:function(t){var e=-this.width/2,i=-this.height/2,n=this.width,r=this.height;t.save(),this._setStrokeStyles(t),t.beginPath(),fabric.util.drawDashedLine(t,e,i,e+n,i,this.strokeDashArray),fabric.util.drawDashedLine(t,e+n,i,e+n,i+r,this.strokeDashArray),fabric.util.drawDashedLine(t,e+n,i+r,e,i+r,this.strokeDashArray),fabric.util.drawDashedLine(t,e,i+r,e,i,this.strokeDashArray),t.closePath(),t.restore()},toObject:function(t){return e(this.callSuper("toObject",t),{src:this._originalElement.src||this._originalElement._src,filters:this.filters.map(function(t){return t&&t.toObject()}),crossOrigin:this.crossOrigin,alignX:this.alignX,alignY:this.alignY,meetOrSlice:this.meetOrSlice})},toSVG:function(t){var e=[],i=-this.width/2,n=-this.height/2,r="none";if(this.group&&"path-group"===this.group.type&&(i=this.left,n=this.top),"none"!==this.alignX&&"none"!==this.alignY&&(r="x"+this.alignX+"Y"+this.alignY+" "+this.meetOrSlice),e.push('<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'">\n','<image xlink:href="',this.getSvgSrc(),'" x="',i,'" y="',n,'" style="',this.getSvgStyles(),'" width="',this.width,'" height="',this.height,'" preserveAspectRatio="',r,'"',"></image>\n"),this.stroke||this.strokeDashArray){var o=this.fill;this.fill=null,e.push("<rect ",'x="',i,'" y="',n,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'),this.fill=o}return e.push("</g>\n"),t?t(e.join("")):e.join("")},getSrc:function(){return this.getElement()?this.getElement().src||this.getElement()._src:void 0},setSrc:function(t,e,i){fabric.util.loadImage(t,function(t){return this.setElement(t,e,i)},this,i&&i.crossOrigin)},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},clone:function(t,e){this.constructor.fromObject(this.toObject(e),t)},applyFilters:function(t,e,i,n){if(e=e||this.filters,i=i||this._originalElement){var r=i,o=fabric.util.createCanvasElement(),s=fabric.util.createImage(),a=this;return o.width=r.width,o.height=r.height,o.getContext("2d").drawImage(r,0,0,r.width,r.height),0===e.length?(this._element=i,t&&t(),o):(e.forEach(function(t){t&&t.applyTo(o,t.scaleX||a.scaleX,t.scaleY||a.scaleY),n||"Resize"!==t.type||(a.width*=t.scaleX,a.height*=t.scaleY)}),s.width=o.width,s.height=o.height,fabric.isLikelyNode?(s.src=o.toBuffer(void 0,fabric.Image.pngCompression),a._element=s,!n&&(a._filteredEl=s),t&&t()):(s.onload=function(){a._element=s,!n&&(a._filteredEl=s),t&&t(),s.onload=o=r=null},s.src=o.toDataURL("image/png")),o)}},_render:function(t,e){var i,n,r,o=this._findMargins();i=e?this.left:-this.width/2,n=e?this.top:-this.height/2,"slice"===this.meetOrSlice&&(t.beginPath(),t.rect(i,n,this.width,this.height),t.clip()),this.isMoving===!1&&this.resizeFilters.length&&this._needsResize()?(this._lastScaleX=this.scaleX,this._lastScaleY=this.scaleY,r=this.applyFilters(null,this.resizeFilters,this._filteredEl||this._originalElement,!1)):r=this._element,r&&t.drawImage(r,i+o.marginX,n+o.marginY,o.width,o.height),this._renderStroke(t)},_needsResize:function(){return this.scaleX!==this._lastScaleX||this.scaleY!==this._lastScaleY},_findMargins:function(){var t,e,i=this.width,n=this.height,r=0,o=0;return"none"===this.alignX&&"none"===this.alignY||(t=[this.width/this._element.width,this.height/this._element.height],e="meet"===this.meetOrSlice?Math.min.apply(null,t):Math.max.apply(null,t),i=this._element.width*e,n=this._element.height*e,"Mid"===this.alignX&&(r=(this.width-i)/2),"Max"===this.alignX&&(r=this.width-i),"Mid"===this.alignY&&(o=(this.height-n)/2),"Max"===this.alignY&&(o=this.height-n)),{width:i,height:n,marginX:r,marginY:o}},_resetWidthHeight:function(){var t=this.getElement();this.set("width",t.width),this.set("height",t.height)},_initElement:function(t){this.setElement(fabric.util.getById(t)),fabric.util.addClass(this.getElement(),fabric.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(t,e){t.filters&&t.filters.length?fabric.util.enlivenObjects(t.filters,function(t){e&&e(t)},"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){this.width="width"in t?t.width:this.getElement()?this.getElement().width||0:0,this.height="height"in t?t.height:this.getElement()?this.getElement().height||0:0},complexity:function(){return 1}}),fabric.Image.CSS_CANVAS="canvas-img",
fabric.Image.prototype.getSvgSrc=fabric.Image.prototype.getSrc,fabric.Image.fromObject=function(t,e){fabric.util.loadImage(t.src,function(i){fabric.Image.prototype._initFilters.call(t,t,function(n){t.filters=n||[];var r=new fabric.Image(i,t);e&&e(r)})},null,t.crossOrigin)},fabric.Image.fromURL=function(t,e,i){fabric.util.loadImage(t,function(t){e(new fabric.Image(t,i))},null,i&&i.crossOrigin)},fabric.Image.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href".split(" ")),fabric.Image.fromElement=function(t,i,n){var r,o,s,a=fabric.parseAttributes(t,fabric.Image.ATTRIBUTE_NAMES),c="xMidYMid",l="meet";a.preserveAspectRatio&&(s=a.preserveAspectRatio.split(" ")),s&&s.length&&(l=s.pop(),"meet"!==l&&"slice"!==l?(c=l,l="meet"):s.length&&(c=s.pop())),r="none"!==c?c.slice(1,4):"none",o="none"!==c?c.slice(5,8):"none",a.alignX=r,a.alignY=o,a.meetOrSlice=l,fabric.Image.fromURL(a["xlink:href"],i,e(n?fabric.util.object.clone(n):{},a))},fabric.Image.async=!0,void(fabric.Image.pngCompression=1))}("undefined"!=typeof exports?exports:this),fabric.util.object.extend(fabric.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.getAngle()%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.setAngle(this._getAngleValueForStraighten()),this},fxStraighten:function(t){t=t||{};var e=function(){},i=t.onComplete||e,n=t.onChange||e,r=this;return fabric.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){r.setAngle(t),n()},onComplete:function(){r.setCoords(),i()},onStart:function(){r.set("active",!1)}}),this}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.renderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.renderAll.bind(this)}),this}}),fabric.Image.filters=fabric.Image.filters||{},fabric.Image.filters.BaseFilter=fabric.util.createClass({type:"BaseFilter",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},toObject:function(){return{type:this.type}},toJSON:function(){return this.toObject()}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;e.Image.filters.Brightness=e.util.createClass(e.Image.filters.BaseFilter,{type:"Brightness",initialize:function(t){t=t||{},this.brightness=t.brightness||0},applyTo:function(t){for(var e=t.getContext("2d"),i=e.getImageData(0,0,t.width,t.height),n=i.data,r=this.brightness,o=0,s=n.length;s>o;o+=4)n[o]+=r,n[o+1]+=r,n[o+2]+=r;e.putImageData(i,0,0)},toObject:function(){return i(this.callSuper("toObject"),{brightness:this.brightness})}}),e.Image.filters.Brightness.fromObject=function(t){return new e.Image.filters.Brightness(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;e.Image.filters.Convolute=e.util.createClass(e.Image.filters.BaseFilter,{type:"Convolute",initialize:function(t){t=t||{},this.opaque=t.opaque,this.matrix=t.matrix||[0,0,0,0,1,0,0,0,0];var i=e.util.createCanvasElement();this.tmpCtx=i.getContext("2d")},_createImageData:function(t,e){return this.tmpCtx.createImageData(t,e)},applyTo:function(t){for(var e=this.matrix,i=t.getContext("2d"),n=i.getImageData(0,0,t.width,t.height),r=Math.round(Math.sqrt(e.length)),o=Math.floor(r/2),s=n.data,a=n.width,c=n.height,l=a,h=c,u=this._createImageData(l,h),d=u.data,f=this.opaque?1:0,p=0;h>p;p++)for(var g=0;l>g;g++){for(var m=p,y=g,v=4*(p*l+g),b=0,_=0,x=0,C=0,E=0;r>E;E++)for(var S=0;r>S;S++){var A=m+E-o,w=y+S-o;if(!(0>A||A>c||0>w||w>a)){var T=4*(A*a+w),O=e[E*r+S];b+=s[T]*O,_+=s[T+1]*O,x+=s[T+2]*O,C+=s[T+3]*O}}d[v]=b,d[v+1]=_,d[v+2]=x,d[v+3]=C+f*(255-C)}i.putImageData(u,0,0)},toObject:function(){return i(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=function(t){return new e.Image.filters.Convolute(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;e.Image.filters.GradientTransparency=e.util.createClass(e.Image.filters.BaseFilter,{type:"GradientTransparency",initialize:function(t){t=t||{},this.threshold=t.threshold||100},applyTo:function(t){for(var e=t.getContext("2d"),i=e.getImageData(0,0,t.width,t.height),n=i.data,r=this.threshold,o=n.length,s=0,a=n.length;a>s;s+=4)n[s+3]=r+255*(o-s)/o;e.putImageData(i,0,0)},toObject:function(){return i(this.callSuper("toObject"),{threshold:this.threshold})}}),e.Image.filters.GradientTransparency.fromObject=function(t){return new e.Image.filters.GradientTransparency(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Image.filters.Grayscale=e.util.createClass(e.Image.filters.BaseFilter,{type:"Grayscale",applyTo:function(t){for(var e,i=t.getContext("2d"),n=i.getImageData(0,0,t.width,t.height),r=n.data,o=n.width*n.height*4,s=0;o>s;)e=(r[s]+r[s+1]+r[s+2])/3,r[s]=e,r[s+1]=e,r[s+2]=e,s+=4;i.putImageData(n,0,0)}}),e.Image.filters.Grayscale.fromObject=function(){return new e.Image.filters.Grayscale}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Image.filters.Invert=e.util.createClass(e.Image.filters.BaseFilter,{type:"Invert",applyTo:function(t){var e,i=t.getContext("2d"),n=i.getImageData(0,0,t.width,t.height),r=n.data,o=r.length;for(e=0;o>e;e+=4)r[e]=255-r[e],r[e+1]=255-r[e+1],r[e+2]=255-r[e+2];i.putImageData(n,0,0)}}),e.Image.filters.Invert.fromObject=function(){return new e.Image.filters.Invert}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;e.Image.filters.Mask=e.util.createClass(e.Image.filters.BaseFilter,{type:"Mask",initialize:function(t){t=t||{},this.mask=t.mask,this.channel=[0,1,2,3].indexOf(t.channel)>-1?t.channel:0},applyTo:function(t){if(this.mask){var i,n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height),o=r.data,s=this.mask.getElement(),a=e.util.createCanvasElement(),c=this.channel,l=r.width*r.height*4;a.width=s.width,a.height=s.height,a.getContext("2d").drawImage(s,0,0,s.width,s.height);var h=a.getContext("2d").getImageData(0,0,s.width,s.height),u=h.data;for(i=0;l>i;i+=4)o[i+3]=u[i+c];n.putImageData(r,0,0)}},toObject:function(){return i(this.callSuper("toObject"),{mask:this.mask.toObject(),channel:this.channel})}}),e.Image.filters.Mask.fromObject=function(t,i){e.util.loadImage(t.mask.src,function(n){t.mask=new e.Image(n,t.mask),i&&i(new e.Image.filters.Mask(t))})},e.Image.filters.Mask.async=!0}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;e.Image.filters.Noise=e.util.createClass(e.Image.filters.BaseFilter,{type:"Noise",initialize:function(t){t=t||{},this.noise=t.noise||0},applyTo:function(t){for(var e,i=t.getContext("2d"),n=i.getImageData(0,0,t.width,t.height),r=n.data,o=this.noise,s=0,a=r.length;a>s;s+=4)e=(.5-Math.random())*o,r[s]+=e,r[s+1]+=e,r[s+2]+=e;i.putImageData(n,0,0)},toObject:function(){return i(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=function(t){return new e.Image.filters.Noise(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;e.Image.filters.Pixelate=e.util.createClass(e.Image.filters.BaseFilter,{type:"Pixelate",initialize:function(t){t=t||{},this.blocksize=t.blocksize||4},applyTo:function(t){var e,i,n,r,o,s,a,c=t.getContext("2d"),l=c.getImageData(0,0,t.width,t.height),h=l.data,u=l.height,d=l.width;for(i=0;u>i;i+=this.blocksize)for(n=0;d>n;n+=this.blocksize){e=4*i*d+4*n,r=h[e],o=h[e+1],s=h[e+2],a=h[e+3];for(var f=i,p=i+this.blocksize;p>f;f++)for(var g=n,m=n+this.blocksize;m>g;g++)e=4*f*d+4*g,h[e]=r,h[e+1]=o,h[e+2]=s,h[e+3]=a}c.putImageData(l,0,0)},toObject:function(){return i(this.callSuper("toObject"),{blocksize:this.blocksize})}}),e.Image.filters.Pixelate.fromObject=function(t){return new e.Image.filters.Pixelate(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;e.Image.filters.RemoveWhite=e.util.createClass(e.Image.filters.BaseFilter,{type:"RemoveWhite",initialize:function(t){t=t||{},this.threshold=t.threshold||30,this.distance=t.distance||20},applyTo:function(t){for(var e,i,n,r=t.getContext("2d"),o=r.getImageData(0,0,t.width,t.height),s=o.data,a=this.threshold,c=this.distance,l=255-a,h=Math.abs,u=0,d=s.length;d>u;u+=4)e=s[u],i=s[u+1],n=s[u+2],e>l&&i>l&&n>l&&h(e-i)<c&&h(e-n)<c&&h(i-n)<c&&(s[u+3]=1);r.putImageData(o,0,0)},toObject:function(){return i(this.callSuper("toObject"),{threshold:this.threshold,distance:this.distance})}}),e.Image.filters.RemoveWhite.fromObject=function(t){return new e.Image.filters.RemoveWhite(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Image.filters.Sepia=e.util.createClass(e.Image.filters.BaseFilter,{type:"Sepia",applyTo:function(t){var e,i,n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height),o=r.data,s=o.length;for(e=0;s>e;e+=4)i=.3*o[e]+.59*o[e+1]+.11*o[e+2],o[e]=i+100,o[e+1]=i+50,o[e+2]=i+255;n.putImageData(r,0,0)}}),e.Image.filters.Sepia.fromObject=function(){return new e.Image.filters.Sepia}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Image.filters.Sepia2=e.util.createClass(e.Image.filters.BaseFilter,{type:"Sepia2",applyTo:function(t){var e,i,n,r,o=t.getContext("2d"),s=o.getImageData(0,0,t.width,t.height),a=s.data,c=a.length;for(e=0;c>e;e+=4)i=a[e],n=a[e+1],r=a[e+2],a[e]=(.393*i+.769*n+.189*r)/1.351,a[e+1]=(.349*i+.686*n+.168*r)/1.203,a[e+2]=(.272*i+.534*n+.131*r)/2.14;o.putImageData(s,0,0)}}),e.Image.filters.Sepia2.fromObject=function(){return new e.Image.filters.Sepia2}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;e.Image.filters.Tint=e.util.createClass(e.Image.filters.BaseFilter,{type:"Tint",initialize:function(t){t=t||{},this.color=t.color||"#000000",this.opacity="undefined"!=typeof t.opacity?t.opacity:new e.Color(this.color).getAlpha()},applyTo:function(t){var i,n,r,o,s,a,c,l,h,u=t.getContext("2d"),d=u.getImageData(0,0,t.width,t.height),f=d.data,p=f.length;for(h=new e.Color(this.color).getSource(),n=h[0]*this.opacity,r=h[1]*this.opacity,o=h[2]*this.opacity,l=1-this.opacity,i=0;p>i;i+=4)s=f[i],a=f[i+1],c=f[i+2],f[i]=n+s*l,f[i+1]=r+a*l,f[i+2]=o+c*l;u.putImageData(d,0,0)},toObject:function(){return i(this.callSuper("toObject"),{color:this.color,opacity:this.opacity})}}),e.Image.filters.Tint.fromObject=function(t){return new e.Image.filters.Tint(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;e.Image.filters.Multiply=e.util.createClass(e.Image.filters.BaseFilter,{type:"Multiply",initialize:function(t){t=t||{},this.color=t.color||"#000000"},applyTo:function(t){var i,n,r=t.getContext("2d"),o=r.getImageData(0,0,t.width,t.height),s=o.data,a=s.length;for(n=new e.Color(this.color).getSource(),i=0;a>i;i+=4)s[i]*=n[0]/255,s[i+1]*=n[1]/255,s[i+2]*=n[2]/255;r.putImageData(o,0,0)},toObject:function(){return i(this.callSuper("toObject"),{color:this.color})}}),e.Image.filters.Multiply.fromObject=function(t){return new e.Image.filters.Multiply(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric;e.Image.filters.Blend=e.util.createClass({type:"Blend",initialize:function(t){t=t||{},this.color=t.color||"#000",this.image=t.image||!1,this.mode=t.mode||"multiply",this.alpha=t.alpha||1},applyTo:function(t){var i,n,r,o,s,a,c,l=t.getContext("2d"),h=l.getImageData(0,0,t.width,t.height),u=h.data,d=!1;if(this.image){d=!0;var f=e.util.createCanvasElement();f.width=this.image.width,f.height=this.image.height;var p=new e.StaticCanvas(f);p.add(this.image);var g=p.getContext("2d");c=g.getImageData(0,0,p.width,p.height).data}else c=new e.Color(this.color).getSource(),i=c[0]*this.alpha,n=c[1]*this.alpha,r=c[2]*this.alpha;for(var m=0,y=u.length;y>m;m+=4)switch(o=u[m],s=u[m+1],a=u[m+2],d&&(i=c[m]*this.alpha,n=c[m+1]*this.alpha,r=c[m+2]*this.alpha),this.mode){case"multiply":u[m]=o*i/255,u[m+1]=s*n/255,u[m+2]=a*r/255;break;case"screen":u[m]=1-(1-o)*(1-i),u[m+1]=1-(1-s)*(1-n),u[m+2]=1-(1-a)*(1-r);break;case"add":u[m]=Math.min(255,o+i),u[m+1]=Math.min(255,s+n),u[m+2]=Math.min(255,a+r);break;case"diff":case"difference":u[m]=Math.abs(o-i),u[m+1]=Math.abs(s-n),u[m+2]=Math.abs(a-r);break;case"subtract":var v=o-i,b=s-n,_=a-r;u[m]=0>v?0:v,u[m+1]=0>b?0:b,u[m+2]=0>_?0:_;break;case"darken":u[m]=Math.min(o,i),u[m+1]=Math.min(s,n),u[m+2]=Math.min(a,r);break;case"lighten":u[m]=Math.max(o,i),u[m+1]=Math.max(s,n),u[m+2]=Math.max(a,r)}l.putImageData(h,0,0)},toObject:function(){return{color:this.color,image:this.image,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.Blend.fromObject=function(t){return new e.Image.filters.Blend(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=Math.pow,n=Math.floor,r=Math.sqrt,o=Math.abs,s=Math.max,a=Math.round,c=Math.sin,l=Math.ceil;e.Image.filters.Resize=e.util.createClass(e.Image.filters.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:0,scaleY:0,lanczosLobes:3,applyTo:function(t,e,i){this.rcpScaleX=1/e,this.rcpScaleY=1/i;var n,r=t.width,o=t.height,s=a(r*e),c=a(o*i);"sliceHack"===this.resizeType&&(n=this.sliceByTwo(t,r,o,s,c)),"hermite"===this.resizeType&&(n=this.hermiteFastResize(t,r,o,s,c)),"bilinear"===this.resizeType&&(n=this.bilinearFiltering(t,r,o,s,c)),"lanczos"===this.resizeType&&(n=this.lanczosResize(t,r,o,s,c)),t.width=s,t.height=c,t.getContext("2d").putImageData(n,0,0)},sliceByTwo:function(t,i,r,o,a){var c,l=t.getContext("2d"),h=.5,u=.5,d=1,f=1,p=!1,g=!1,m=i,y=r,v=e.util.createCanvasElement(),b=v.getContext("2d");for(o=n(o),a=n(a),v.width=s(o,i),v.height=s(a,r),o>i&&(h=2,d=-1),a>r&&(u=2,f=-1),c=l.getImageData(0,0,i,r),t.width=s(o,i),t.height=s(a,r),l.putImageData(c,0,0);!p||!g;)i=m,r=y,o*d<n(m*h*d)?m=n(m*h):(m=o,p=!0),a*f<n(y*u*f)?y=n(y*u):(y=a,g=!0),c=l.getImageData(0,0,i,r),b.putImageData(c,0,0),l.clearRect(0,0,m,y),l.drawImage(v,0,0,i,r,0,0,m,y);return l.getImageData(0,0,o,a)},lanczosResize:function(t,e,s,a,h){function u(t){return function(e){if(e>t)return 0;if(e*=Math.PI,o(e)<1e-16)return 1;var i=e/t;return c(e)*c(i)/e/i}}function d(t){var c,l,u,f,p,O,F,I,k,L,R;for(w.x=(t+.5)*b,T.x=n(w.x),c=0;h>c;c++){for(w.y=(c+.5)*_,T.y=n(w.y),p=0,O=0,F=0,I=0,k=0,l=T.x-E;l<=T.x+E;l++)if(!(0>l||l>=e)){L=n(1e3*o(l-w.x)),A[L]||(A[L]={});for(var N=T.y-S;N<=T.y+S;N++)0>N||N>=s||(R=n(1e3*o(N-w.y)),A[L][R]||(A[L][R]=v(r(i(L*x,2)+i(R*C,2))/1e3)),u=A[L][R],u>0&&(f=4*(N*e+l),p+=u,O+=u*m[f],F+=u*m[f+1],I+=u*m[f+2],k+=u*m[f+3]))}f=4*(c*a+t),y[f]=O/p,y[f+1]=F/p,y[f+2]=I/p,y[f+3]=k/p}return++t<a?d(t):g}var f=t.getContext("2d"),p=f.getImageData(0,0,e,s),g=f.getImageData(0,0,a,h),m=p.data,y=g.data,v=u(this.lanczosLobes),b=this.rcpScaleX,_=this.rcpScaleY,x=2/this.rcpScaleX,C=2/this.rcpScaleY,E=l(b*this.lanczosLobes/2),S=l(_*this.lanczosLobes/2),A={},w={},T={};return d(0)},bilinearFiltering:function(t,e,i,r,o){var s,a,c,l,h,u,d,f,p,g,m,y,v,b=0,_=this.rcpScaleX,x=this.rcpScaleY,C=t.getContext("2d"),E=4*(e-1),S=C.getImageData(0,0,e,i),A=S.data,w=C.getImageData(0,0,r,o),T=w.data;for(d=0;o>d;d++)for(f=0;r>f;f++)for(h=n(_*f),u=n(x*d),p=_*f-h,g=x*d-u,v=4*(u*e+h),m=0;4>m;m++)s=A[v+m],a=A[v+4+m],c=A[v+E+m],l=A[v+E+4+m],y=s*(1-p)*(1-g)+a*p*(1-g)+c*g*(1-p)+l*p*g,T[b++]=y;return w},hermiteFastResize:function(t,e,i,s,a){for(var c=this.rcpScaleX,h=this.rcpScaleY,u=l(c/2),d=l(h/2),f=t.getContext("2d"),p=f.getImageData(0,0,e,i),g=p.data,m=f.getImageData(0,0,s,a),y=m.data,v=0;a>v;v++)for(var b=0;s>b;b++){for(var _=4*(b+v*s),x=0,C=0,E=0,S=0,A=0,w=0,T=0,O=(v+.5)*h,F=n(v*h);(v+1)*h>F;F++)for(var I=o(O-(F+.5))/d,k=(b+.5)*c,L=I*I,R=n(b*c);(b+1)*c>R;R++){var N=o(k-(R+.5))/u,D=r(L+N*N);D>1&&-1>D||(x=2*D*D*D-3*D*D+1,x>0&&(N=4*(R+F*e),T+=x*g[N+3],E+=x,g[N+3]<255&&(x=x*g[N+3]/250),S+=x*g[N],A+=x*g[N+1],w+=x*g[N+2],C+=x))}y[_]=S/C,y[_+1]=A/C,y[_+2]=w/C,y[_+3]=T/E}return m}}),e.Image.filters.Resize.fromObject=function(){return new e.Image.filters.Resize}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.object.clone,r=e.util.toFixed,o=e.StaticCanvas.supports("setLineDash");if(e.Text)return void e.warn("fabric.Text is already defined");var s=e.Object.prototype.stateProperties.concat();s.push("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor","useNative","path"),e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:{fontSize:!0,fontWeight:!0,fontFamily:!0,textDecoration:!0,fontStyle:!0,lineHeight:!0,stroke:!0,strokeWidth:!0,text:!0},_reNewline:/\r?\n/,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",textDecoration:"",textAlign:"left",fontStyle:"",lineHeight:1.3,textBackgroundColor:"",path:null,useNative:!0,stateProperties:s,stroke:null,shadow:null,initialize:function(t,e){e=e||{},this.text=t,this.__skipDimension=!0,this.setOptions(e),this.__skipDimension=!1,this._initDimensions()},_initDimensions:function(){if(!this.__skipDimension){var t=e.util.createCanvasElement();this._render(t.getContext("2d"))}},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_render:function(t){"undefined"==typeof Cufon||this.useNative===!0?this._renderViaNative(t):this._renderViaCufon(t)},_renderViaNative:function(t){var i=this.text.split(this._reNewline);this._setTextStyles(t),this.width=this._getTextWidth(t,i),this.height=this._getTextHeight(t,i),this.clipTo&&e.util.clipContext(this,t),this._renderTextBackground(t,i),this._translateForTextAlign(t),this._renderText(t,i),"left"!==this.textAlign&&"justify"!==this.textAlign&&t.restore(),this._renderTextDecoration(t,i),this.clipTo&&t.restore(),this._setBoundaries(t,i),this._totalLineHeight=0},_renderText:function(t,e){t.save(),this._setOpacity(t),this._setShadow(t),this._setupCompositeOperation(t),this._renderTextFill(t,e),this._renderTextStroke(t,e),this._restoreCompositeOperation(t),this._removeShadow(t),t.restore()},_translateForTextAlign:function(t){"left"!==this.textAlign&&"justify"!==this.textAlign&&(t.save(),t.translate("center"===this.textAlign?this.width/2:this.width,0))},_setBoundaries:function(t,e){this._boundaries=[];for(var i=0,n=e.length;n>i;i++){var r=this._getLineWidth(t,e[i]),o=this._getLineLeftOffset(r);this._boundaries.push({height:this.fontSize*this.lineHeight,width:r,left:o})}},_setTextStyles:function(t){this._setFillStyles(t),this._setStrokeStyles(t),t.textBaseline="alphabetic",this.skipTextAlign||(t.textAlign=this.textAlign),t.font=this._getFontDeclaration()},_getTextHeight:function(t,e){return this.fontSize*e.length*this.lineHeight},_getTextWidth:function(t,e){for(var i=t.measureText(e[0]||"|").width,n=1,r=e.length;r>n;n++){var o=t.measureText(e[n]).width;o>i&&(i=o)}return i},_renderChars:function(t,e,i,n,r){e[t](i,n,r)},_renderTextLine:function(t,e,i,n,r,o){if(r-=this.fontSize/4,"justify"!==this.textAlign)return void this._renderChars(t,e,i,n,r,o);var s=e.measureText(i).width,a=this.width;if(a>s)for(var c=i.split(/\s+/),l=e.measureText(i.replace(/\s+/g,"")).width,h=a-l,u=c.length-1,d=h/u,f=0,p=0,g=c.length;g>p;p++)this._renderChars(t,e,c[p],n+f,r,o),f+=e.measureText(c[p]).width+d;else this._renderChars(t,e,i,n,r,o)},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextFill:function(t,e){if(this.fill||this._skipFillStrokeCheck){this._boundaries=[];for(var i=0,n=0,r=e.length;r>n;n++){var o=this._getHeightOfLine(t,n,e);i+=o,this._renderTextLine("fillText",t,e[n],this._getLeftOffset(),this._getTopOffset()+i,n)}this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t)}},_renderTextStroke:function(t,e){if(this.stroke&&0!==this.strokeWidth||this._skipFillStrokeCheck){var i=0;t.save(),this.strokeDashArray&&(1&this.strokeDashArray.length&&this.strokeDashArray.push.apply(this.strokeDashArray,this.strokeDashArray),o&&t.setLineDash(this.strokeDashArray)),t.beginPath();for(var n=0,r=e.length;r>n;n++){var s=this._getHeightOfLine(t,n,e);i+=s,this._renderTextLine("strokeText",t,e[n],this._getLeftOffset(),this._getTopOffset()+i,n)}t.closePath(),t.restore()}},_getHeightOfLine:function(){return this.fontSize*this.lineHeight},_renderTextBackground:function(t,e){this._renderTextBoxBackground(t),this._renderTextLinesBackground(t,e)},_renderTextBoxBackground:function(t){this.backgroundColor&&(t.save(),t.fillStyle=this.backgroundColor,t.fillRect(this._getLeftOffset(),this._getTopOffset(),this.width,this.height),t.restore())},_renderTextLinesBackground:function(t,e){if(this.textBackgroundColor){t.save(),t.fillStyle=this.textBackgroundColor;for(var i=0,n=e.length;n>i;i++)if(""!==e[i]){var r=this._getLineWidth(t,e[i]),o=this._getLineLeftOffset(r);t.fillRect(this._getLeftOffset()+o,this._getTopOffset()+i*this.fontSize*this.lineHeight,r,this.fontSize*this.lineHeight)}t.restore()}},_getLineLeftOffset:function(t){return"center"===this.textAlign?(this.width-t)/2:"right"===this.textAlign?this.width-t:0},_getLineWidth:function(t,e){return"justify"===this.textAlign?this.width:t.measureText(e).width},_renderTextDecoration:function(t,e){function i(i){for(var o=0,s=e.length;s>o;o++){var a=r._getLineWidth(t,e[o]),c=r._getLineLeftOffset(a);t.fillRect(r._getLeftOffset()+c,~~(i+o*r._getHeightOfLine(t,o,e)-n),a,1)}}if(this.textDecoration){var n=this._getTextHeight(t,e)/2,r=this;this.textDecoration.indexOf("underline")>-1&&i(this.fontSize*this.lineHeight),this.textDecoration.indexOf("line-through")>-1&&i(this.fontSize*this.lineHeight-this.fontSize/2),this.textDecoration.indexOf("overline")>-1&&i(this.fontSize*this.lineHeight-this.fontSize)}},_getFontDeclaration:function(){return[e.isLikelyNode?this.fontWeight:this.fontStyle,e.isLikelyNode?this.fontStyle:this.fontWeight,this.fontSize+"px",e.isLikelyNode?'"'+this.fontFamily+'"':this.fontFamily].join(" ")},render:function(t,e){if(this.visible){t.save(),e||this.transform(t);var i=this.group&&"path-group"===this.group.type;i&&t.translate(-this.group.width/2,-this.group.height/2),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),i&&t.translate(this.left,this.top),this._render(t),t.restore()}},toObject:function(t){var e=i(this.callSuper("toObject",t),{text:this.text,fontSize:this.fontSize,fontWeight:this.fontWeight,fontFamily:this.fontFamily,fontStyle:this.fontStyle,lineHeight:this.lineHeight,textDecoration:this.textDecoration,textAlign:this.textAlign,path:this.path,textBackgroundColor:this.textBackgroundColor,useNative:this.useNative});return this.includeDefaultValues||this._removeDefaultValues(e),e},toSVG:function(t){var e=[],i=this.text.split(this._reNewline),n=this._getSVGLeftTopOffsets(i),r=this._getSVGTextAndBg(n.lineTop,n.textLeft,i),o=this._getSVGShadows(n.lineTop,i);return n.textTop+=this._fontAscent?this._fontAscent/5*this.lineHeight:0,this._wrapSVGTextAndBg(e,r,o,n),t?t(e.join("")):e.join("")},_getSVGLeftTopOffsets:function(t){var e=this.useNative?this.fontSize*this.lineHeight:-this._fontAscent-this._fontAscent/5*this.lineHeight,i=-(this.width/2),n=this.useNative?this.fontSize*this.lineHeight-.25*this.fontSize:this.height/2-t.length*this.fontSize-this._totalLineHeight;return{textLeft:i+(this.group&&"path-group"===this.group.type?this.left:0),textTop:n+(this.group&&"path-group"===this.group.type?this.top:0),lineTop:e}},_wrapSVGTextAndBg:function(t,e,i,n){t.push('<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'">\n',e.textBgRects.join(""),"<text ",this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",this.textDecoration?'text-decoration="'+this.textDecoration+'" ':"",'style="',this.getSvgStyles(),'" ','transform="translate(',r(n.textLeft,2)," ",r(n.textTop,2),')">',i.join(""),e.textSpans.join(""),"</text>\n","</g>\n")},_getSVGShadows:function(t,i){var n,o,s=[],a=1;if(!this.shadow||!this._boundaries)return s;for(n=0,o=i.length;o>n;n++)if(""!==i[n]){var c=this._boundaries&&this._boundaries[n]?this._boundaries[n].left:0;s.push('<tspan x="',r(c+a+this.shadow.offsetX,2),0===n||this.useNative?'" y':'" dy','="',r(this.useNative?t*n-this.height/2+this.shadow.offsetY:t+(0===n?this.shadow.offsetY:0),2),'" ',this._getFillAttributes(this.shadow.color),">",e.util.string.escapeXml(i[n]),"</tspan>"),a=1}else a++;return s},_getSVGTextAndBg:function(t,e,i){var n=[],r=[],o=1;this._setSVGBg(r);for(var s=0,a=i.length;a>s;s++)""!==i[s]?(this._setSVGTextLineText(i[s],s,n,t,o,r),o=1):o++,this.textBackgroundColor&&this._boundaries&&this._setSVGTextLineBg(r,s,e,t);return{textSpans:n,textBgRects:r}},_setSVGTextLineText:function(t,i,n,o,s){var a=this._boundaries&&this._boundaries[i]?r(this._boundaries[i].left,2):0;n.push('<tspan x="',a,'" ',0===i||this.useNative?"y":"dy",'="',r(this.useNative?o*i-this.height/2:o*s,2),'" ',this._getFillAttributes(this.fill),">",e.util.string.escapeXml(t),"</tspan>")},_setSVGTextLineBg:function(t,e,i,n){t.push("<rect ",this._getFillAttributes(this.textBackgroundColor),' x="',r(i+this._boundaries[e].left,2),'" y="',r(n*e-this.height/2,2),'" width="',r(this._boundaries[e].width,2),'" height="',r(this._boundaries[e].height,2),'"></rect>\n')},_setSVGBg:function(t){this.backgroundColor&&this._boundaries&&t.push("<rect ",this._getFillAttributes(this.backgroundColor),' x="',r(-this.width/2,2),'" y="',r(-this.height/2,2),'" width="',r(this.width,2),'" height="',r(this.height,2),'"></rect>')},_getFillAttributes:function(t){var i=t&&"string"==typeof t?new e.Color(t):"";return i&&i.getSource()&&1!==i.getAlpha()?'opacity="'+i.getAlpha()+'" fill="'+i.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_set:function(t,e){"fontFamily"===t&&this.path&&(this.path=this.path.replace(/(.*?)([^\/]*)(\.font\.js)/,"$1"+e+"$3")),this.callSuper("_set",t,e),t in this._dimensionAffectingProps&&(this._initDimensions(),this.setCoords())},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,i){if(!t)return null;var n=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES);i=e.util.object.extend(i?e.util.object.clone(i):{},n),i.top=i.top||0,i.left=i.left||0,"dx"in n&&(i.left+=n.dx),"dy"in n&&(i.top+=n.dy),"fontSize"in i||(i.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE),i.originX||(i.originX="left"),i.top+=i.fontSize/4;var r=new e.Text(t.textContent,i),o=0;return"left"===r.originX&&(o=r.getWidth()/2),"right"===r.originX&&(o=-r.getWidth()/2),r.set({left:r.getLeft()+o,top:r.getTop()-r.getHeight()/2}),r},e.Text.fromObject=function(t){return new e.Text(t.text,n(t))},e.util.createAccessors(e.Text)}("undefined"!=typeof exports?exports:this),function(){var t=fabric.util.object.clone;fabric.IText=fabric.util.createClass(fabric.Text,fabric.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,styles:null,caching:!0,_skipFillStrokeCheck:!0,_reSpace:/\s|\n/,_fontSizeFraction:4,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,_charWidthsCache:{},initialize:function(t,e){this.styles=e?e.styles||{}:{},this.callSuper("initialize",t,e),this.initBehavior(),fabric.IText.instances.push(this),this.__lineWidths={},this.__lineHeights={},this.__lineOffsets={}},isEmptyStyles:function(){if(!this.styles)return!0;var t=this.styles;for(var e in t)for(var i in t[e])for(var n in t[e][i])return!1;return!0},setSelectionStart:function(t){this.selectionStart!==t&&(this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})),this.selectionStart=t,this.hiddenTextarea&&(this.hiddenTextarea.selectionStart=t)},setSelectionEnd:function(t){this.selectionEnd!==t&&(this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})),this.selectionEnd=t,this.hiddenTextarea&&(this.hiddenTextarea.selectionEnd=t)},getSelectionStyles:function(t,e){if(2===arguments.length){for(var i=[],n=t;e>n;n++)i.push(this.getSelectionStyles(n));return i}var r=this.get2DCursorLocation(t);return this.styles[r.lineIndex]?this.styles[r.lineIndex][r.charIndex]||{}:{}},setSelectionStyles:function(t){if(this.selectionStart===this.selectionEnd)this._extendStyles(this.selectionStart,t);else for(var e=this.selectionStart;e<this.selectionEnd;e++)this._extendStyles(e,t);return this},_extendStyles:function(t,e){var i=this.get2DCursorLocation(t);this.styles[i.lineIndex]||(this.styles[i.lineIndex]={}),this.styles[i.lineIndex][i.charIndex]||(this.styles[i.lineIndex][i.charIndex]={}),fabric.util.object.extend(this.styles[i.lineIndex][i.charIndex],e)},_render:function(t){this.callSuper("_render",t),this.ctx=t,this.isEditing&&this.renderCursorOrSelection()},renderCursorOrSelection:function(){if(this.active){var t,e=this.text.split("");this.selectionStart===this.selectionEnd?(t=this._getCursorBoundaries(e,"cursor"),this.renderCursor(t)):(t=this._getCursorBoundaries(e,"selection"),this.renderSelection(e,t))}},get2DCursorLocation:function(t){"undefined"==typeof t&&(t=this.selectionStart);var e=this.text.slice(0,t),i=e.split(this._reNewline);return{lineIndex:i.length-1,charIndex:i[i.length-1].length}},getCurrentCharStyle:function(t,e){var i=this.styles[t]&&this.styles[t][0===e?0:e-1];return{fontSize:i&&i.fontSize||this.fontSize,fill:i&&i.fill||this.fill,textBackgroundColor:i&&i.textBackgroundColor||this.textBackgroundColor,textDecoration:i&&i.textDecoration||this.textDecoration,fontFamily:i&&i.fontFamily||this.fontFamily,fontWeight:i&&i.fontWeight||this.fontWeight,fontStyle:i&&i.fontStyle||this.fontStyle,stroke:i&&i.stroke||this.stroke,strokeWidth:i&&i.strokeWidth||this.strokeWidth}},getCurrentCharFontSize:function(t,e){return this.styles[t]&&this.styles[t][0===e?0:e-1]&&this.styles[t][0===e?0:e-1].fontSize||this.fontSize},getCurrentCharColor:function(t,e){return this.styles[t]&&this.styles[t][0===e?0:e-1]&&this.styles[t][0===e?0:e-1].fill||this.cursorColor},_getCursorBoundaries:function(t,e){var i=this.get2DCursorLocation(),n=this.text.split(this._reNewline),r=Math.round(this._getLeftOffset()),o=this._getTopOffset(),s=this._getCursorBoundariesOffsets(t,e,i,n);return{left:r,top:o,leftOffset:s.left+s.lineLeft,topOffset:s.top}},_getCursorBoundariesOffsets:function(t,e,i,n){for(var r=0,o=0,s=0,a=0,c="cursor"===e?this._getHeightOfLine(this.ctx,0)-this.getCurrentCharFontSize(i.lineIndex,i.charIndex):0,l=0;l<this.selectionStart;l++){if("\n"===t[l]){a=0;var h=o+("cursor"===e?1:0);c+=this._getCachedLineHeight(h),o++,s=0}else a+=this._getWidthOfChar(this.ctx,t[l],o,s),s++;r=this._getCachedLineOffset(o,n)}return this._clearCache(),{top:c,left:a,lineLeft:r}},_clearCache:function(){this.__lineWidths={},this.__lineHeights={},this.__lineOffsets={}},_getCachedLineHeight:function(t){return this.__lineHeights[t]||(this.__lineHeights[t]=this._getHeightOfLine(this.ctx,t))},_getCachedLineWidth:function(t,e){return this.__lineWidths[t]||(this.__lineWidths[t]=this._getWidthOfLine(this.ctx,t,e))},_getCachedLineOffset:function(t,e){var i=this._getCachedLineWidth(t,e);return this.__lineOffsets[t]||(this.__lineOffsets[t]=this._getLineLeftOffset(i))},renderCursor:function(t){var e=this.ctx;e.save();var i=this.get2DCursorLocation(),n=i.lineIndex,r=i.charIndex,o=this.getCurrentCharFontSize(n,r),s=0===n&&0===r?this._getCachedLineOffset(n,this.text.split(this._reNewline)):t.leftOffset;e.fillStyle=this.getCurrentCharColor(n,r),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+s,t.top+t.topOffset,this.cursorWidth/this.scaleX,o),e.restore()},renderSelection:function(t,e){var i=this.ctx;i.save(),i.fillStyle=this.selectionColor;for(var n=this.get2DCursorLocation(this.selectionStart),r=this.get2DCursorLocation(this.selectionEnd),o=n.lineIndex,s=r.lineIndex,a=this.text.split(this._reNewline),c=o;s>=c;c++){var l=this._getCachedLineOffset(c,a)||0,h=this._getCachedLineHeight(c),u=0;if(c===o)for(var d=0,f=a[c].length;f>d;d++)d>=n.charIndex&&(c!==s||d<r.charIndex)&&(u+=this._getWidthOfChar(i,a[c][d],c,d)),d<n.charIndex&&(l+=this._getWidthOfChar(i,a[c][d],c,d));else if(c>o&&s>c)u+=this._getCachedLineWidth(c,a)||5;else if(c===s)for(var p=0,g=r.charIndex;g>p;p++)u+=this._getWidthOfChar(i,a[c][p],c,p);
i.fillRect(e.left+l,e.top+e.topOffset,u,h),e.topOffset+=h}i.restore()},_renderChars:function(t,e,i,n,r,o){if(this.isEmptyStyles())return this._renderCharsFast(t,e,i,n,r);this.skipTextAlign=!0,n-="center"===this.textAlign?this.width/2:"right"===this.textAlign?this.width:0;var s,a=this.text.split(this._reNewline),c=this._getWidthOfLine(e,o,a),l=this._getHeightOfLine(e,o,a),h=this._getLineLeftOffset(c),u=i.split(""),d="";n+=h||0,e.save();for(var f=0,p=u.length;p>=f;f++){s=s||this.getCurrentCharStyle(o,f);var g=this.getCurrentCharStyle(o,f+1);(this._hasStyleChanged(s,g)||f===p)&&(this._renderChar(t,e,o,f-1,d,n,r,l),d="",s=g),d+=u[f]}e.restore()},_renderCharsFast:function(t,e,i,n,r){this.skipTextAlign=!1,"fillText"===t&&this.fill&&this.callSuper("_renderChars",t,e,i,n,r),"strokeText"===t&&this.stroke&&this.callSuper("_renderChars",t,e,i,n,r)},_renderChar:function(t,e,i,n,r,o,s,a){var c,l,h;if(this.styles&&this.styles[i]&&(c=this.styles[i][n])){var u=c.stroke||this.stroke,d=c.fill||this.fill;e.save(),l=this._applyCharStylesGetWidth(e,r,i,n,c),h=this._getHeightOfChar(e,r,i,n),d&&e.fillText(r,o,s),u&&e.strokeText(r,o,s),this._renderCharDecoration(e,c,o,s,l,a,h),e.restore(),e.translate(l,0)}else"strokeText"===t&&this.stroke&&e[t](r,o,s),"fillText"===t&&this.fill&&e[t](r,o,s),l=this._applyCharStylesGetWidth(e,r,i,n),this._renderCharDecoration(e,null,o,s,l,a),e.translate(e.measureText(r).width,0)},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.fontSize!==e.fontSize||t.textBackgroundColor!==e.textBackgroundColor||t.textDecoration!==e.textDecoration||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth},_renderCharDecoration:function(t,e,i,n,r,o,s){var a=e?e.textDecoration||this.textDecoration:this.textDecoration,c=(e?e.fontSize:null)||this.fontSize;a&&(a.indexOf("underline")>-1&&this._renderCharDecorationAtOffset(t,i,n+this.fontSize/this._fontSizeFraction,r,0,this.fontSize/20),a.indexOf("line-through")>-1&&this._renderCharDecorationAtOffset(t,i,n+this.fontSize/this._fontSizeFraction,r,s/2,c/20),a.indexOf("overline")>-1&&this._renderCharDecorationAtOffset(t,i,n,r,o-this.fontSize/this._fontSizeFraction,this.fontSize/20))},_renderCharDecorationAtOffset:function(t,e,i,n,r,o){t.fillRect(e,i-r,n,o)},_renderTextLine:function(t,e,i,n,r,o){r+=this.fontSize/4,this.callSuper("_renderTextLine",t,e,i,n,r,o)},_renderTextDecoration:function(t,e){return this.isEmptyStyles()?this.callSuper("_renderTextDecoration",t,e):void 0},_renderTextLinesBackground:function(t,e){if(this.textBackgroundColor||this.styles){t.save(),this.textBackgroundColor&&(t.fillStyle=this.textBackgroundColor);for(var i=0,n=this.fontSize/this._fontSizeFraction,r=0,o=e.length;o>r;r++){var s=this._getHeightOfLine(t,r,e);if(""!==e[r]){var a=this._getWidthOfLine(t,r,e),c=this._getLineLeftOffset(a);if(this.textBackgroundColor&&(t.fillStyle=this.textBackgroundColor,t.fillRect(this._getLeftOffset()+c,this._getTopOffset()+i+n,a,s)),this.styles[r])for(var l=0,h=e[r].length;h>l;l++)if(this.styles[r]&&this.styles[r][l]&&this.styles[r][l].textBackgroundColor){var u=e[r][l];t.fillStyle=this.styles[r][l].textBackgroundColor,t.fillRect(this._getLeftOffset()+c+this._getWidthOfCharsAt(t,r,l,e),this._getTopOffset()+i+n,this._getWidthOfChar(t,u,r,l,e)+1,s)}i+=s}else i+=s}t.restore()}},_getCacheProp:function(t,e){return t+e.fontFamily+e.fontSize+e.fontWeight+e.fontStyle+e.shadow},_applyCharStylesGetWidth:function(e,i,n,r,o){var s=o||this.styles[n]&&this.styles[n][r];s=s?t(s):{},this._applyFontStyles(s);var a=this._getCacheProp(i,s);if(this.isEmptyStyles()&&this._charWidthsCache[a]&&this.caching)return this._charWidthsCache[a];"string"==typeof s.shadow&&(s.shadow=new fabric.Shadow(s.shadow));var c=s.fill||this.fill;return e.fillStyle=c.toLive?c.toLive(e):c,s.stroke&&(e.strokeStyle=s.stroke&&s.stroke.toLive?s.stroke.toLive(e):s.stroke),e.lineWidth=s.strokeWidth||this.strokeWidth,e.font=this._getFontDeclaration.call(s),this._setShadow.call(s,e),this.caching?(this._charWidthsCache[a]||(this._charWidthsCache[a]=e.measureText(i).width),this._charWidthsCache[a]):e.measureText(i).width},_applyFontStyles:function(t){t.fontFamily||(t.fontFamily=this.fontFamily),t.fontSize||(t.fontSize=this.fontSize),t.fontWeight||(t.fontWeight=this.fontWeight),t.fontStyle||(t.fontStyle=this.fontStyle)},_getStyleDeclaration:function(e,i){return this.styles[e]&&this.styles[e][i]?t(this.styles[e][i]):{}},_getWidthOfChar:function(t,e,i,n){if("justify"===this.textAlign&&/\s/.test(e))return this._getWidthOfSpace(t,i);var r=this._getStyleDeclaration(i,n);this._applyFontStyles(r);var o=this._getCacheProp(e,r);if(this._charWidthsCache[o]&&this.caching)return this._charWidthsCache[o];if(t){t.save();var s=this._applyCharStylesGetWidth(t,e,i,n);return t.restore(),s}},_getHeightOfChar:function(t,e,i,n){return this.styles[i]&&this.styles[i][n]?this.styles[i][n].fontSize||this.fontSize:this.fontSize},_getWidthOfCharAt:function(t,e,i,n){n=n||this.text.split(this._reNewline);var r=n[e].split("")[i];return this._getWidthOfChar(t,r,e,i)},_getHeightOfCharAt:function(t,e,i,n){n=n||this.text.split(this._reNewline);var r=n[e].split("")[i];return this._getHeightOfChar(t,r,e,i)},_getWidthOfCharsAt:function(t,e,i,n){for(var r=0,o=0;i>o;o++)r+=this._getWidthOfCharAt(t,e,o,n);return r},_getWidthOfLine:function(t,e,i){return this._getWidthOfCharsAt(t,e,i[e].length,i)},_getWidthOfSpace:function(t,e){var i=this.text.split(this._reNewline),n=i[e],r=n.split(/\s+/),o=this._getWidthOfWords(t,n,e),s=this.width-o,a=r.length-1,c=s/a;return c},_getWidthOfWords:function(t,e,i){for(var n=0,r=0;r<e.length;r++){var o=e[r];o.match(/\s/)||(n+=this._getWidthOfChar(t,o,i,r))}return n},_getTextWidth:function(t,e){if(this.isEmptyStyles())return this.callSuper("_getTextWidth",t,e);for(var i=this._getWidthOfLine(t,0,e),n=1,r=e.length;r>n;n++){var o=this._getWidthOfLine(t,n,e);o>i&&(i=o)}return i},_getHeightOfLine:function(t,e,i){i=i||this.text.split(this._reNewline);for(var n=this._getHeightOfChar(t,i[e][0],e,0),r=i[e],o=r.split(""),s=1,a=o.length;a>s;s++){var c=this._getHeightOfChar(t,o[s],e,s);c>n&&(n=c)}return n*this.lineHeight},_getTextHeight:function(t,e){for(var i=0,n=0,r=e.length;r>n;n++)i+=this._getHeightOfLine(t,n,e);return i},_getTopOffset:function(){var t=fabric.Text.prototype._getTopOffset.call(this);return t-this.fontSize/this._fontSizeFraction},_renderTextBoxBackground:function(t){this.backgroundColor&&(t.save(),t.fillStyle=this.backgroundColor,t.fillRect(this._getLeftOffset(),this._getTopOffset()+this.fontSize/this._fontSizeFraction,this.width,this.height),t.restore())},toObject:function(e){return fabric.util.object.extend(this.callSuper("toObject",e),{styles:t(this.styles)})}}),fabric.IText.fromObject=function(e){return new fabric.IText(e.text,t(e))},fabric.IText.instances=[]}(),function(){var t=fabric.util.object.clone;fabric.util.object.extend(fabric.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation()},initSelectedHandler:function(){this.on("selected",function(){var t=this;setTimeout(function(){t.selected=!0},100)})},initAddedHandler:function(){this.on("added",function(){this.canvas&&!this.canvas._hasITextHandlers&&(this.canvas._hasITextHandlers=!0,this._initCanvasHandlers())})},_initCanvasHandlers:function(){this.canvas.on("selection:cleared",function(){fabric.IText.prototype.exitEditingOnOthers.call()}),this.canvas.on("mouse:up",function(){fabric.IText.instances.forEach(function(t){t.__isMousedown=!1})}),this.canvas.on("object:selected",function(t){fabric.IText.prototype.exitEditingOnOthers.call(t.target)})},_tick:function(){if(!this._abortCursorAnimation){var t=this;this.animate("_currentCursorOpacity",1,{duration:this.cursorDuration,onComplete:function(){t._onTickComplete()},onChange:function(){t.canvas&&t.canvas.renderAll()},abort:function(){return t._abortCursorAnimation}})}},_onTickComplete:function(){if(!this._abortCursorAnimation){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){t.animate("_currentCursorOpacity",0,{duration:this.cursorDuration/2,onComplete:function(){t._tick()},onChange:function(){t.canvas&&t.canvas.renderAll()},abort:function(){return t._abortCursorAnimation}})},100)}},initDelayedCursor:function(t){var e=this,i=t?0:this.cursorDelay;t&&(this._abortCursorAnimation=!0,clearTimeout(this._cursorTimeout1),this._currentCursorOpacity=1,this.canvas&&this.canvas.renderAll()),this._cursorTimeout2&&clearTimeout(this._cursorTimeout2),this._cursorTimeout2=setTimeout(function(){e._abortCursorAnimation=!1,e._tick()},i)},abortCursorAnimation:function(){this._abortCursorAnimation=!0,clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,this.canvas&&this.canvas.renderAll();var t=this;setTimeout(function(){t._abortCursorAnimation=!1},10)},selectAll:function(){this.selectionStart=0,this.selectionEnd=this.text.length,this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},getSelectedText:function(){return this.text.slice(this.selectionStart,this.selectionEnd)},findWordBoundaryLeft:function(t){var e=0,i=t-1;if(this._reSpace.test(this.text.charAt(i)))for(;this._reSpace.test(this.text.charAt(i));)e++,i--;for(;/\S/.test(this.text.charAt(i))&&i>-1;)e++,i--;return t-e},findWordBoundaryRight:function(t){var e=0,i=t;if(this._reSpace.test(this.text.charAt(i)))for(;this._reSpace.test(this.text.charAt(i));)e++,i++;for(;/\S/.test(this.text.charAt(i))&&i<this.text.length;)e++,i++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,i=t-1;!/\n/.test(this.text.charAt(i))&&i>-1;)e++,i--;return t-e},findLineBoundaryRight:function(t){for(var e=0,i=t;!/\n/.test(this.text.charAt(i))&&i<this.text.length;)e++,i++;return t+e},getNumNewLinesInSelectedText:function(){for(var t=this.getSelectedText(),e=0,i=0,n=t.split(""),r=n.length;r>i;i++)"\n"===n[i]&&e++;return e},searchWordBoundary:function(t,e){for(var i=this._reSpace.test(this.text.charAt(t))?t-1:t,n=this.text.charAt(i),r=/[ \n\.,;!\?\-]/;!r.test(n)&&i>0&&i<this.text.length;)i+=e,n=this.text.charAt(i);return r.test(n)&&"\n"!==n&&(i+=1===e?0:1),i},selectWord:function(t){var e=this.searchWordBoundary(t,-1),i=this.searchWordBoundary(t,1);this.setSelectionStart(e),this.setSelectionEnd(i),this.initDelayedCursor(!0)},selectLine:function(t){var e=this.findLineBoundaryLeft(t),i=this.findLineBoundaryRight(t);this.setSelectionStart(e),this.setSelectionEnd(i),this.initDelayedCursor(!0)},enterEditing:function(){return!this.isEditing&&this.editable?(this.exitEditingOnOthers(),this.isEditing=!0,this.initHiddenTextarea(),this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._tick(),this.canvas&&this.canvas.renderAll(),this.fire("editing:entered"),this.canvas&&this.canvas.fire("text:editing:entered",{target:this}),this):void 0},exitEditingOnOthers:function(){fabric.IText.instances.forEach(function(t){t.selected=!1,t.isEditing&&t.exitEditing()},this)},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},_updateTextarea:function(){this.hiddenTextarea&&(this.hiddenTextarea.value=this.text,this.hiddenTextarea.selectionStart=this.selectionStart)},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.overCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){return this.selected=!1,this.isEditing=!1,this.selectable=!0,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this.fire("editing:exited"),this.canvas&&this.canvas.fire("text:editing:exited",{target:this}),this},_removeExtraneousStyles:function(){var t=this.text.split(this._reNewline);for(var e in this.styles)t[e]||delete this.styles[e]},_removeCharsFromTo:function(t,e){for(var i=e;i!==t;){var n=this.get2DCursorLocation(i).charIndex;i--;var r=this.get2DCursorLocation(i).charIndex,o=r>n;o?this.removeStyleObject(o,i+1):this.removeStyleObject(0===this.get2DCursorLocation(i).charIndex,i)}this.text=this.text.slice(0,t)+this.text.slice(e)},insertChars:function(t){var e="\n"===this.text.slice(this.selectionStart,this.selectionStart+1);this.text=this.text.slice(0,this.selectionStart)+t+this.text.slice(this.selectionEnd),this.selectionStart===this.selectionEnd&&this.insertStyleObjects(t,e,this.copiedStyles),this.selectionStart+=t.length,this.selectionEnd=this.selectionStart,this.canvas&&this.canvas.renderAll().renderAll(),this.setCoords(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this})},insertNewlineStyleObject:function(e,i,n){this.shiftLineStyles(e,1),this.styles[e+1]||(this.styles[e+1]={});var r=this.styles[e][i-1],o={};if(n)o[0]=t(r),this.styles[e+1]=o;else{for(var s in this.styles[e])parseInt(s,10)>=i&&(o[parseInt(s,10)-i]=this.styles[e][s],delete this.styles[e][s]);this.styles[e+1]=o}},insertCharStyleObject:function(e,i,n){var r=this.styles[e],o=t(r);0!==i||n||(i=1);for(var s in o){var a=parseInt(s,10);a>=i&&(r[a+1]=o[a])}this.styles[e][i]=n||t(r[i-1])},insertStyleObjects:function(t,e,i){var n=this.get2DCursorLocation(),r=n.lineIndex,o=n.charIndex;this.styles[r]||(this.styles[r]={}),"\n"===t?this.insertNewlineStyleObject(r,o,e):i?this._insertStyles(i):this.insertCharStyleObject(r,o)},_insertStyles:function(t){for(var e=0,i=t.length;i>e;e++){var n=this.get2DCursorLocation(this.selectionStart+e),r=n.lineIndex,o=n.charIndex;this.insertCharStyleObject(r,o,t[e])}},shiftLineStyles:function(e,i){var n=t(this.styles);for(var r in this.styles){var o=parseInt(r,10);o>e&&(this.styles[o+i]=n[o])}},removeStyleObject:function(e,i){var n=this.get2DCursorLocation(i),r=n.lineIndex,o=n.charIndex;if(e){var s=this.text.split(this._reNewline),a=s[r-1],c=a?a.length:0;this.styles[r-1]||(this.styles[r-1]={});for(o in this.styles[r])this.styles[r-1][parseInt(o,10)+c]=this.styles[r][o];this.shiftLineStyles(r,-1)}else{var l=this.styles[r];if(l){var h=this.selectionStart===this.selectionEnd?-1:0;delete l[o+h]}var u=t(l);for(var d in u){var f=parseInt(d,10);f>=o&&0!==f&&(l[f-1]=u[f],delete l[f])}}},insertNewline:function(){this.insertChars("\n")}})}(),fabric.util.object.extend(fabric.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown.bind(this))},onMouseDown:function(t){this.__newClickTime=+new Date;var e=this.canvas.getPointer(t.e);this.isTripleClick(e)?(this.fire("tripleclick",t),this._stopEvent(t.e)):this.isDoubleClick(e)&&(this.fire("dblclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected},isDoubleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y&&this.__lastIsEditing},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initSelectedHandler(),this.initMousedownHandler(),this.initMousemoveHandler(),this.initMouseupHandler(),this.initClicks()},initClicks:function(){this.on("dblclick",function(t){this.selectWord(this.getSelectionStartFromPointer(t.e))}),this.on("tripleclick",function(t){this.selectLine(this.getSelectionStartFromPointer(t.e))})},initMousedownHandler:function(){this.on("mousedown",function(t){var e=this.canvas.getPointer(t.e);this.__mousedownX=e.x,this.__mousedownY=e.y,this.__isMousedown=!0,this.hiddenTextarea&&this.canvas&&this.canvas.wrapperEl.appendChild(this.hiddenTextarea),this.selected&&this.setCursorByClick(t.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.initDelayedCursor(!0))})},initMousemoveHandler:function(){this.on("mousemove",function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e);e>=this.__selectionStartOnMouseDown?(this.setSelectionStart(this.__selectionStartOnMouseDown),this.setSelectionEnd(e)):(this.setSelectionStart(e),this.setSelectionEnd(this.__selectionStartOnMouseDown))}})},_isObjectMoved:function(t){var e=this.canvas.getPointer(t);return this.__mousedownX!==e.x||this.__mousedownY!==e.y},initMouseupHandler:function(){this.on("mouseup",function(t){this.__isMousedown=!1,this._isObjectMoved(t.e)||(this.__lastSelected&&(this.enterEditing(),this.initDelayedCursor(!0)),this.selected=!0)})},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t);t.shiftKey?e<this.selectionStart?(this.setSelectionEnd(this.selectionStart),this.setSelectionStart(e)):this.setSelectionEnd(e):(this.setSelectionStart(e),this.setSelectionEnd(e))},_getLocalRotatedPointer:function(t){var e=this.canvas.getPointer(t),i=new fabric.Point(e.x,e.y),n=new fabric.Point(this.left,this.top),r=fabric.util.rotatePoint(i,n,fabric.util.degreesToRadians(-this.angle));return this.getLocalPointer(t,r)},getSelectionStartFromPointer:function(t){for(var e,i=this._getLocalRotatedPointer(t),n=this.text.split(this._reNewline),r=0,o=0,s=0,a=0,c=0,l=n.length;l>c;c++){s+=this._getHeightOfLine(this.ctx,c)*this.scaleY;var h=this._getWidthOfLine(this.ctx,c,n),u=this._getLineLeftOffset(h);o=u*this.scaleX,this.flipX&&(n[c]=n[c].split("").reverse().join(""));for(var d=0,f=n[c].length;f>d;d++){var p=n[c][d];if(r=o,o+=this._getWidthOfChar(this.ctx,p,c,this.flipX?f-d:d)*this.scaleX,!(s<=i.y||o<=i.x))return this._getNewSelectionStartFromOffset(i,r,o,a+c,f);a++}if(i.y<s)return this._getNewSelectionStartFromOffset(i,r,o,a+c,f)}return"undefined"==typeof e?this.text.length:void 0},_getNewSelectionStartFromOffset:function(t,e,i,n,r){var o=t.x-e,s=i-t.x,a=s>o?0:1,c=n+a;return this.flipX&&(c=r-c),c>this.text.length&&(c=this.text.length),c}}),fabric.util.object.extend(fabric.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=fabric.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.style.cssText="position: fixed; bottom: 20px; left: 0px; opacity: 0; width: 0px; height: 0px; z-index: -999;",fabric.document.body.appendChild(this.hiddenTextarea),fabric.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),fabric.util.addListener(this.hiddenTextarea,"keypress",this.onKeyPress.bind(this)),fabric.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),fabric.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(fabric.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},_keysMap:{8:"removeChars",9:"exitEditing",27:"exitEditing",13:"insertNewline",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown",46:"forwardDelete"},_ctrlKeysMap:{65:"selectAll",88:"cut"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing){if(t.keyCode in this._keysMap)this[this._keysMap[t.keyCode]](t);else{if(!(t.keyCode in this._ctrlKeysMap&&(t.ctrlKey||t.metaKey)))return;this[this._ctrlKeysMap[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.renderAll()}},forwardDelete:function(t){this.selectionStart===this.selectionEnd&&this.moveCursorRight(t),this.removeChars(t)},copy:function(t){var e=this.getSelectedText(),i=this._getClipboardData(t);i&&i.setData("text",e),this.copiedText=e,this.copiedStyles=this.getSelectionStyles(this.selectionStart,this.selectionEnd)},paste:function(t){var e=null,i=this._getClipboardData(t);e=i?i.getData("text"):this.copiedText,e&&this.insertChars(e)},cut:function(t){this.selectionStart!==this.selectionEnd&&(this.copy(),this.removeChars(t))},_getClipboardData:function(t){return t&&(t.clipboardData||fabric.window.clipboardData)},onKeyPress:function(t){!this.isEditing||t.metaKey||t.ctrlKey||(0!==t.which&&this.insertChars(String.fromCharCode(t.which)),t.stopPropagation())},getDownCursorOffset:function(t,e){var i,n,r=e?this.selectionEnd:this.selectionStart,o=this.text.split(this._reNewline),s=this.text.slice(0,r),a=this.text.slice(r),c=s.slice(s.lastIndexOf("\n")+1),l=a.match(/(.*)\n?/)[1],h=(a.match(/.*\n(.*)\n?/)||{})[1]||"",u=this.get2DCursorLocation(r);if(u.lineIndex===o.length-1||t.metaKey||34===t.keyCode)return this.text.length-r;var d=this._getWidthOfLine(this.ctx,u.lineIndex,o);n=this._getLineLeftOffset(d);for(var f=n,p=u.lineIndex,g=0,m=c.length;m>g;g++)i=c[g],f+=this._getWidthOfChar(this.ctx,i,p,g);var y=this._getIndexOnNextLine(u,h,f,o);return l.length+1+y},_getIndexOnNextLine:function(t,e,i,n){for(var r,o=t.lineIndex+1,s=this._getWidthOfLine(this.ctx,o,n),a=this._getLineLeftOffset(s),c=a,l=0,h=0,u=e.length;u>h;h++){var d=e[h],f=this._getWidthOfChar(this.ctx,d,o,h);if(c+=f,c>i){r=!0;var p=c-f,g=c,m=Math.abs(p-i),y=Math.abs(g-i);l=m>y?h+1:h;break}}return r||(l=e.length),l},moveCursorDown:function(t){this.abortCursorAnimation(),this._currentCursorOpacity=1;var e=this.getDownCursorOffset(t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorDownWithShift(e):this.moveCursorDownWithoutShift(e),this.initDelayedCursor()},moveCursorDownWithoutShift:function(t){this._selectionDirection="right",this.selectionStart+=t,this.selectionStart>this.text.length&&(this.selectionStart=this.text.length),this.selectionEnd=this.selectionStart,this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},swapSelectionPoints:function(){var t=this.selectionEnd;this.selectionEnd=this.selectionStart,this.selectionStart=t},moveCursorDownWithShift:function(t){this.selectionEnd===this.selectionStart&&(this._selectionDirection="right");var e="right"===this._selectionDirection?"selectionEnd":"selectionStart";this[e]+=t,this.selectionEnd<this.selectionStart&&"left"===this._selectionDirection&&(this.swapSelectionPoints(),this._selectionDirection="right"),this.selectionEnd>this.text.length&&(this.selectionEnd=this.text.length),this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},getUpCursorOffset:function(t,e){var i=e?this.selectionEnd:this.selectionStart,n=this.get2DCursorLocation(i);if(0===n.lineIndex||t.metaKey||33===t.keyCode)return i;for(var r,o=this.text.slice(0,i),s=o.slice(o.lastIndexOf("\n")+1),a=(o.match(/\n?(.*)\n.*$/)||{})[1]||"",c=this.text.split(this._reNewline),l=this._getWidthOfLine(this.ctx,n.lineIndex,c),h=this._getLineLeftOffset(l),u=h,d=n.lineIndex,f=0,p=s.length;p>f;f++)r=s[f],u+=this._getWidthOfChar(this.ctx,r,d,f);var g=this._getIndexOnPrevLine(n,a,u,c);return a.length-g+s.length},_getIndexOnPrevLine:function(t,e,i,n){for(var r,o=t.lineIndex-1,s=this._getWidthOfLine(this.ctx,o,n),a=this._getLineLeftOffset(s),c=a,l=0,h=0,u=e.length;u>h;h++){var d=e[h],f=this._getWidthOfChar(this.ctx,d,o,h);if(c+=f,c>i){r=!0;var p=c-f,g=c,m=Math.abs(p-i),y=Math.abs(g-i);l=m>y?h:h-1;break}}return r||(l=e.length-1),l},moveCursorUp:function(t){this.abortCursorAnimation(),this._currentCursorOpacity=1;var e=this.getUpCursorOffset(t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorUpWithShift(e):this.moveCursorUpWithoutShift(e),this.initDelayedCursor()},moveCursorUpWithShift:function(t){this.selectionEnd===this.selectionStart&&(this._selectionDirection="left");var e="right"===this._selectionDirection?"selectionEnd":"selectionStart";this[e]-=t,this.selectionEnd<this.selectionStart&&"right"===this._selectionDirection&&(this.swapSelectionPoints(),this._selectionDirection="left"),this.selectionStart<0&&(this.selectionStart=0),this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},moveCursorUpWithoutShift:function(t){this.selectionStart===this.selectionEnd&&(this.selectionStart-=t),this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd=this.selectionStart,this._selectionDirection="left",this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||(this.abortCursorAnimation(),this._currentCursorOpacity=1,t.shiftKey?this.moveCursorLeftWithShift(t):this.moveCursorLeftWithoutShift(t),this.initDelayedCursor())},_move:function(t,e,i){t.altKey?this[e]=this["findWordBoundary"+i](this[e]):t.metaKey||35===t.keyCode||36===t.keyCode?this[e]=this["findLineBoundary"+i](this[e]):this[e]+="Left"===i?-1:1},_moveLeft:function(t,e){this._move(t,e,"Left")},_moveRight:function(t,e){this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this._moveLeft(t,"selectionStart"),this.selectionEnd=this.selectionStart,this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},moveCursorLeftWithShift:function(t){"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):(this._selectionDirection="left",this._moveLeft(t,"selectionStart"),"\n"===this.text.charAt(this.selectionStart)&&this.selectionStart--,this.selectionStart<0&&(this.selectionStart=0)),this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},moveCursorRight:function(t){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||(this.abortCursorAnimation(),this._currentCursorOpacity=1,t.shiftKey?this.moveCursorRightWithShift(t):this.moveCursorRightWithoutShift(t),this.initDelayedCursor())},moveCursorRightWithShift:function(t){"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):(this._selectionDirection="right",this._moveRight(t,"selectionEnd"),"\n"===this.text.charAt(this.selectionEnd-1)&&this.selectionEnd++,this.selectionEnd>this.text.length&&(this.selectionEnd=this.text.length)),this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},moveCursorRightWithoutShift:function(t){this._selectionDirection="right",this.selectionStart===this.selectionEnd?(this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):(this.selectionEnd+=this.getNumNewLinesInSelectedText(),this.selectionEnd>this.text.length&&(this.selectionEnd=this.text.length),this.selectionStart=this.selectionEnd),this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},removeChars:function(t){this.selectionStart===this.selectionEnd?this._removeCharsNearCursor(t):this._removeCharsFromTo(this.selectionStart,this.selectionEnd),this.selectionEnd=this.selectionStart,this._removeExtraneousStyles(),this.canvas&&this.canvas.renderAll().renderAll(),this.setCoords(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this})},_removeCharsNearCursor:function(t){if(0!==this.selectionStart)if(t.metaKey){var e=this.findLineBoundaryLeft(this.selectionStart);this._removeCharsFromTo(e,this.selectionStart),this.selectionStart=e}else if(t.altKey){var i=this.findWordBoundaryLeft(this.selectionStart);this._removeCharsFromTo(i,this.selectionStart),this.selectionStart=i}else{var n="\n"===this.text.slice(this.selectionStart-1,this.selectionStart);this.removeStyleObject(n),this.selectionStart--,this.text=this.text.slice(0,this.selectionStart)+this.text.slice(this.selectionStart+1)}}}),fabric.util.object.extend(fabric.IText.prototype,{_setSVGTextLineText:function(t,e,i,n,r,o){this.styles[e]?this._setSVGTextLineChars(t,e,i,n,r,o):this.callSuper("_setSVGTextLineText",t,e,i,n,r)},_setSVGTextLineChars:function(t,e,i,n,r,o){for(var s=0===e||this.useNative?"y":"dy",a=t.split(""),c=0,l=this._getSVGLineLeftOffset(e),h=this._getSVGLineTopOffset(e),u=this._getHeightOfLine(this.ctx,e),d=0,f=a.length;f>d;d++){var p=this.styles[e][d]||{};i.push(this._createTextCharSpan(a[d],p,l,h,s,c));var g=this._getWidthOfChar(this.ctx,a[d],e,d);p.textBackgroundColor&&o.push(this._createTextCharBg(p,l,h,u,g,c)),c+=g}},_getSVGLineLeftOffset:function(t){return this._boundaries&&this._boundaries[t]?fabric.util.toFixed(this._boundaries[t].left,2):0},_getSVGLineTopOffset:function(t){for(var e=0,i=0;t>=i;i++)e+=this._getHeightOfLine(this.ctx,i);return e-this.height/2},_createTextCharBg:function(t,e,i,n,r,o){return['<rect fill="',t.textBackgroundColor,'" transform="translate(',-this.width/2," ",-this.height+n,")",'" x="',e+o,'" y="',i+n,'" width="',r,'" height="',n,'"></rect>'].join("")},_createTextCharSpan:function(t,e,i,n,r,o){var s=this.getSvgStyles.call(fabric.util.object.extend({visible:!0,fill:this.fill,stroke:this.stroke,type:"text"},e));return['<tspan x="',i+o,'" ',r,'="',n,'" ',e.fontFamily?'font-family="'+e.fontFamily.replace(/"/g,"'")+'" ':"",e.fontSize?'font-size="'+e.fontSize+'" ':"",e.fontStyle?'font-style="'+e.fontStyle+'" ':"",e.fontWeight?'font-weight="'+e.fontWeight+'" ':"",e.textDecoration?'text-decoration="'+e.textDecoration+'" ':"",'style="',s,'">',fabric.util.string.escapeXml(t),"</tspan>"].join("")}}),function(){function request(t,e,i){var n=URL.parse(t);n.port||(n.port=0===n.protocol.indexOf("https:")?443:80);var r=443===n.port?HTTPS:HTTP,o=r.request({hostname:n.hostname,port:n.port,path:n.path,method:"GET"},function(t){var n="";e&&t.setEncoding(e),t.on("end",function(){i(n)}),t.on("data",function(e){200===t.statusCode&&(n+=e)})});o.on("error",function(t){t.errno===process.ECONNREFUSED?fabric.log("ECONNREFUSED: connection refused to "+n.hostname+":"+n.port):fabric.log(t.message)}),o.end()}function requestFs(t,e){var i=require("fs");i.readFile(t,function(t,i){if(t)throw fabric.log(t),t;e(i)})}if("undefined"==typeof document||"undefined"==typeof window){var DOMParser=require("xmldom").DOMParser,URL=require("url"),HTTP=require("http"),HTTPS=require("https"),Canvas=require("canvas"),Image=require("canvas").Image;fabric.util.loadImage=function(t,e,i){function n(n){r.src=new Buffer(n,"binary"),r._src=t,e&&e.call(i,r)}var r=new Image;t&&(t instanceof Buffer||0===t.indexOf("data"))?(r.src=r._src=t,e&&e.call(i,r)):t&&0!==t.indexOf("http")?requestFs(t,n):t?request(t,"binary",n):e&&e.call(i,t)},fabric.loadSVGFromURL=function(t,e,i){t=t.replace(/^\n\s*/,"").replace(/\?.*$/,"").trim(),0!==t.indexOf("http")?requestFs(t,function(t){fabric.loadSVGFromString(t.toString(),e,i)}):request(t,"",function(t){fabric.loadSVGFromString(t,e,i)})},fabric.loadSVGFromString=function(t,e,i){var n=(new DOMParser).parseFromString(t);fabric.parseSVGDocument(n.documentElement,function(t,i){e&&e(t,i)},i)},fabric.util.getScript=function(url,callback){request(url,"",function(body){eval(body),callback&&callback()})},fabric.Image.fromObject=function(t,e){fabric.util.loadImage(t.src,function(i){var n=new fabric.Image(i);n._initConfig(t),n._initFilters(t,function(t){n.filters=t||[],e&&e(n)})})},fabric.createCanvasForNode=function(t,e,i,n){n=n||i;var r=fabric.document.createElement("canvas"),o=new Canvas(t||600,e||600,n);r.style={},r.width=o.width,r.height=o.height;var s=fabric.Canvas||fabric.StaticCanvas,a=new s(r,i);return a.contextContainer=o.getContext("2d"),a.nodeCanvas=o,a.Font=Canvas.Font,a},fabric.StaticCanvas.prototype.createPNGStream=function(){return this.nodeCanvas.createPNGStream()},fabric.StaticCanvas.prototype.createJPEGStream=function(t){return this.nodeCanvas.createJPEGStream(t)};var origSetWidth=fabric.StaticCanvas.prototype.setWidth;fabric.StaticCanvas.prototype.setWidth=function(t,e){return origSetWidth.call(this,t,e),this.nodeCanvas.width=t,this},fabric.Canvas&&(fabric.Canvas.prototype.setWidth=fabric.StaticCanvas.prototype.setWidth);
var origSetHeight=fabric.StaticCanvas.prototype.setHeight;fabric.StaticCanvas.prototype.setHeight=function(t,e){return origSetHeight.call(this,t,e),this.nodeCanvas.height=t,this},fabric.Canvas&&(fabric.Canvas.prototype.setHeight=fabric.StaticCanvas.prototype.setHeight)}}(),
// Copyright (c) 2013 – 2015 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
function(t){var e,i,n="0.4.2",r="hasOwnProperty",o=/[\.\/]/,s=/\s*,\s*/,a="*",c=function(t,e){return t-e},l={n:{}},h=function(){for(var t=0,e=this.length;e>t;t++)if("undefined"!=typeof this[t])return this[t]},u=function(){for(var t=this.length;--t;)if("undefined"!=typeof this[t])return this[t]},d=function(t,n){t=String(t);var r,o=i,s=Array.prototype.slice.call(arguments,2),a=d.listeners(t),l=0,f=[],p={},g=[],m=e;g.firstDefined=h,g.lastDefined=u,e=t,i=0;for(var y=0,v=a.length;v>y;y++)"zIndex"in a[y]&&(f.push(a[y].zIndex),a[y].zIndex<0&&(p[a[y].zIndex]=a[y]));for(f.sort(c);f[l]<0;)if(r=p[f[l++]],g.push(r.apply(n,s)),i)return i=o,g;for(y=0;v>y;y++)if(r=a[y],"zIndex"in r)if(r.zIndex==f[l]){if(g.push(r.apply(n,s)),i)break;do if(l++,r=p[f[l]],r&&g.push(r.apply(n,s)),i)break;while(r)}else p[r.zIndex]=r;else if(g.push(r.apply(n,s)),i)break;return i=o,e=m,g};d._events=l,d.listeners=function(t){var e,i,n,r,s,c,h,u,d=t.split(o),f=l,p=[f],g=[];for(r=0,s=d.length;s>r;r++){for(u=[],c=0,h=p.length;h>c;c++)for(f=p[c].n,i=[f[d[r]],f[a]],n=2;n--;)e=i[n],e&&(u.push(e),g=g.concat(e.f||[]));p=u}return g},d.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var i=t.split(s),n=0,r=i.length;r>n;n++)!function(t){for(var i,n=t.split(o),r=l,s=0,a=n.length;a>s;s++)r=r.n,r=r.hasOwnProperty(n[s])&&r[n[s]]||(r[n[s]]={n:{}});for(r.f=r.f||[],s=0,a=r.f.length;a>s;s++)if(r.f[s]==e){i=!0;break}!i&&r.f.push(e)}(i[n]);return function(t){+t==+t&&(e.zIndex=+t)}},d.f=function(t){var e=[].slice.call(arguments,1);return function(){d.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},d.stop=function(){i=1},d.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},d.nts=function(){return e.split(o)},d.off=d.unbind=function(t,e){if(!t)return void(d._events=l={n:{}});var i=t.split(s);if(i.length>1)for(var n=0,c=i.length;c>n;n++)d.off(i[n],e);else{i=t.split(o);var h,u,f,n,c,p,g,m=[l];for(n=0,c=i.length;c>n;n++)for(p=0;p<m.length;p+=f.length-2){if(f=[p,1],h=m[p].n,i[n]!=a)h[i[n]]&&f.push(h[i[n]]);else for(u in h)h[r](u)&&f.push(h[u]);m.splice.apply(m,f)}for(n=0,c=m.length;c>n;n++)for(h=m[n];h.n;){if(e){if(h.f){for(p=0,g=h.f.length;g>p;p++)if(h.f[p]==e){h.f.splice(p,1);break}!h.f.length&&delete h.f}for(u in h.n)if(h.n[r](u)&&h.n[u].f){var y=h.n[u].f;for(p=0,g=y.length;g>p;p++)if(y[p]==e){y.splice(p,1);break}!y.length&&delete h.n[u].f}}else{delete h.f;for(u in h.n)h.n[r](u)&&h.n[u].f&&delete h.n[u].f}h=h.n}}},d.once=function(t,e){var i=function(){return d.unbind(t,i),e.apply(this,arguments)};return d.on(t,i)},d.version=n,d.toString=function(){return"You are running Eve "+n},"undefined"!=typeof module&&module.exports?module.exports=d:"function"==typeof define&&define.amd?define("eve",[],function(){return d}):t.eve=d}(this),function(t,e){if("function"==typeof define&&define.amd)define(["eve"],function(i){return e(t,i)});else if("undefined"!=typeof exports){var i=require("eve");module.exports=e(t,i)}else e(t,t.eve)}(window||this,function(t,e){
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
var i=function(e){var i={},n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},r=Array.isArray||function(t){return t instanceof Array||"[object Array]"==Object.prototype.toString.call(t)},o=0,s="M"+(+new Date).toString(36),a=function(){return s+(o++).toString(36)},c=Date.now||function(){return+new Date},l=function(t){var e=this;if(null==t)return e.s;var i=e.s-t;e.b+=e.dur*i,e.B+=e.dur*i,e.s=t},h=function(t){var e=this;return null==t?e.spd:void(e.spd=t)},u=function(t){var e=this;return null==t?e.dur:(e.s=e.s*t/e.dur,void(e.dur=t))},d=function(){var t=this;delete i[t.id],t.update(),e("mina.stop."+t.id,t)},f=function(){var t=this;t.pdif||(delete i[t.id],t.update(),t.pdif=t.get()-t.b)},p=function(){var t=this;t.pdif&&(t.b=t.get()-t.pdif,delete t.pdif,i[t.id]=t)},g=function(){var t,e=this;if(r(e.start)){t=[];for(var i=0,n=e.start.length;n>i;i++)t[i]=+e.start[i]+(e.end[i]-e.start[i])*e.easing(e.s)}else t=+e.start+(e.end-e.start)*e.easing(e.s);e.set(t)},m=function(){var t=0;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r],s=o.get();t++,o.s=(s-o.b)/(o.dur/o.spd),o.s>=1&&(delete i[r],o.s=1,t--,function(t){setTimeout(function(){e("mina.finish."+t.id,t)})}(o)),o.update()}t&&n(m)},y=function(t,e,r,o,s,c,v){var b={id:a(),start:t,end:e,b:r,s:0,dur:o-r,spd:1,get:s,set:c,easing:v||y.linear,status:l,speed:h,duration:u,stop:d,pause:f,resume:p,update:g};i[b.id]=b;var _,x=0;for(_ in i)if(i.hasOwnProperty(_)&&(x++,2==x))break;return 1==x&&n(m),b};return y.time=c,y.getById=function(t){return i[t]||null},y.linear=function(t){return t},y.easeout=function(t){return Math.pow(t,1.7)},y.easein=function(t){return Math.pow(t,.48)},y.easeinout=function(t){if(1==t)return 1;if(0==t)return 0;var e=.48-t/1.04,i=Math.sqrt(.1734+e*e),n=i-e,r=Math.pow(Math.abs(n),1/3)*(0>n?-1:1),o=-i-e,s=Math.pow(Math.abs(o),1/3)*(0>o?-1:1),a=r+s+.5;return 3*(1-a)*a*a+a*a*a},y.backin=function(t){if(1==t)return 1;var e=1.70158;return t*t*((e+1)*t-e)},y.backout=function(t){if(0==t)return 0;t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},y.elastic=function(t){return t==!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1},y.bounce=function(t){var e,i=7.5625,n=2.75;return 1/n>t?e=i*t*t:2/n>t?(t-=1.5/n,e=i*t*t+.75):2.5/n>t?(t-=2.25/n,e=i*t*t+.9375):(t-=2.625/n,e=i*t*t+.984375),e},t.mina=y,y}("undefined"==typeof e?function(){}:e),n=function(t){function i(t,e){if(t){if(t.nodeType)return C(t);if(r(t,"array")&&i.set)return i.set.apply(i,t);if(t instanceof v)return t;if(null==e)return t=S.doc.querySelector(String(t)),C(t)}return t=null==t?"100%":t,e=null==e?"100%":e,new x(t,e)}function n(t,e){if(e){if("#text"==t&&(t=S.doc.createTextNode(e.text||e["#text"]||"")),"#comment"==t&&(t=S.doc.createComment(e.text||e["#text"]||"")),"string"==typeof t&&(t=n(t)),"string"==typeof e)return 1==t.nodeType?"xlink:"==e.substring(0,6)?t.getAttributeNS(X,e.substring(6)):"xml:"==e.substring(0,4)?t.getAttributeNS(z,e.substring(4)):t.getAttribute(e):"text"==e?t.nodeValue:null;if(1==t.nodeType){for(var i in e)if(e[A](i)){var r=w(e[i]);r?"xlink:"==i.substring(0,6)?t.setAttributeNS(X,i.substring(6),r):"xml:"==i.substring(0,4)?t.setAttributeNS(z,i.substring(4),r):t.setAttribute(i,r):t.removeAttribute(i)}}else"text"in e&&(t.nodeValue=e.text)}else t=S.doc.createElementNS(z,t);return t}function r(t,e){return e=w.prototype.toLowerCase.call(e),"finite"==e?isFinite(t):"array"==e&&(t instanceof Array||Array.isArray&&Array.isArray(t))?!0:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||D.call(t).slice(8,-1).toLowerCase()==e}function o(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[A](i)&&(e[i]=o(t[i]));return e}function s(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function a(t,e,i){function n(){var r=Array.prototype.slice.call(arguments,0),o=r.join("\u2400"),a=n.cache=n.cache||{},c=n.count=n.count||[];return a[A](o)?(s(c,o),i?i(a[o]):a[o]):(c.length>=1e3&&delete a[c.shift()],c.push(o),a[o]=t.apply(e,r),i?i(a[o]):a[o])}return n}function c(t,e,i,n,r,o){if(null==r){var s=t-i,a=e-n;return s||a?(180+180*F.atan2(-a,-s)/R+360)%360:0}return c(t,e,r,o)-c(i,n,r,o)}function l(t){return t%360*R/180}function h(t){return 180*t/R%360}function u(t){var e=[];return t=t.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(t,i,n){return n=n.split(/\s*,\s*|\s+/),"rotate"==i&&1==n.length&&n.push(0,0),"scale"==i&&(n.length>2?n=n.slice(0,2):2==n.length&&n.push(0,0),1==n.length&&n.push(n[0],0,0)),"skewX"==i?e.push(["m",1,0,F.tan(l(n[0])),1,0,0]):"skewY"==i?e.push(["m",1,F.tan(l(n[0])),0,1,0,0]):e.push([i.charAt(0)].concat(n)),t}),e}function d(t,e){var n=tt(t),r=new i.Matrix;if(n)for(var o=0,s=n.length;s>o;o++){var a,c,l,h,u,d=n[o],f=d.length,p=w(d[0]).toLowerCase(),g=d[0]!=p,m=g?r.invert():0;"t"==p&&2==f?r.translate(d[1],0):"t"==p&&3==f?g?(a=m.x(0,0),c=m.y(0,0),l=m.x(d[1],d[2]),h=m.y(d[1],d[2]),r.translate(l-a,h-c)):r.translate(d[1],d[2]):"r"==p?2==f?(u=u||e,r.rotate(d[1],u.x+u.width/2,u.y+u.height/2)):4==f&&(g?(l=m.x(d[2],d[3]),h=m.y(d[2],d[3]),r.rotate(d[1],l,h)):r.rotate(d[1],d[2],d[3])):"s"==p?2==f||3==f?(u=u||e,r.scale(d[1],d[f-1],u.x+u.width/2,u.y+u.height/2)):4==f?g?(l=m.x(d[2],d[3]),h=m.y(d[2],d[3]),r.scale(d[1],d[1],l,h)):r.scale(d[1],d[1],d[2],d[3]):5==f&&(g?(l=m.x(d[3],d[4]),h=m.y(d[3],d[4]),r.scale(d[1],d[2],l,h)):r.scale(d[1],d[2],d[3],d[4])):"m"==p&&7==f&&r.add(d[1],d[2],d[3],d[4],d[5],d[6])}return r}function f(t){var e=t.node.ownerSVGElement&&C(t.node.ownerSVGElement)||t.node.parentNode&&C(t.node.parentNode)||i.select("svg")||i(0,0),n=e.select("defs"),r=null==n?!1:n.node;return r||(r=_("defs",e.node).node),r}function p(t){return t.node.ownerSVGElement&&C(t.node.ownerSVGElement)||i.select("svg")}function m(t,e,i){function r(t){if(null==t)return N;if(t==+t)return t;n(l,{width:t});try{return l.getBBox().width}catch(e){return 0}}function o(t){if(null==t)return N;if(t==+t)return t;n(l,{height:t});try{return l.getBBox().height}catch(e){return 0}}function s(n,r){null==e?c[n]=r(t.attr(n)||0):n==e&&(c=r(null==i?t.attr(n)||0:i))}var a=p(t).node,c={},l=a.querySelector(".svg---mgr");switch(l||(l=n("rect"),n(l,{x:-9e9,y:-9e9,width:10,height:10,"class":"svg---mgr",fill:"none"}),a.appendChild(l)),t.type){case"rect":s("rx",r),s("ry",o);case"image":s("width",r),s("height",o);case"text":s("x",r),s("y",o);break;case"circle":s("cx",r),s("cy",o),s("r",r);break;case"ellipse":s("cx",r),s("cy",o),s("rx",r),s("ry",o);break;case"line":s("x1",r),s("x2",r),s("y1",o),s("y2",o);break;case"marker":s("refX",r),s("markerWidth",r),s("refY",o),s("markerHeight",o);break;case"radialGradient":s("fx",r),s("fy",o);break;case"tspan":s("dx",r),s("dy",o);break;default:s(e,r)}return a.removeChild(l),c}function y(t){r(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var e=0,i=0,n=this.node;this[e];)delete this[e++];for(e=0;e<t.length;e++)"set"==t[e].type?t[e].forEach(function(t){n.appendChild(t.node)}):n.appendChild(t[e].node);var o=n.childNodes;for(e=0;e<o.length;e++)this[i++]=C(o[e]);return this}function v(t){if(t.snap in V)return V[t.snap];var e;try{e=t.ownerSVGElement}catch(i){}this.node=t,e&&(this.paper=new x(e)),this.type=t.tagName||t.nodeName;var n=this.id=Y(this);if(this.anims={},this._={transform:[]},t.snap=n,V[n]=this,"g"==this.type&&(this.add=y),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var r in x.prototype)x.prototype[A](r)&&(this[r]=x.prototype[r])}function b(t){this.node=t}function _(t,e){var i=n(t);e.appendChild(i);var r=C(i);return r}function x(t,e){var i,r,o,s=x.prototype;if(t&&"svg"==t.tagName){if(t.snap in V)return V[t.snap];var a=t.ownerDocument;i=new v(t),r=t.getElementsByTagName("desc")[0],o=t.getElementsByTagName("defs")[0],r||(r=n("desc"),r.appendChild(a.createTextNode("Created with Snap")),i.node.appendChild(r)),o||(o=n("defs"),i.node.appendChild(o)),i.defs=o;for(var c in s)s[A](c)&&(i[c]=s[c]);i.paper=i.root=i}else i=_("svg",S.doc.body),n(i.node,{height:e,version:1.1,width:t,xmlns:z});return i}function C(t){return t?t instanceof v||t instanceof b?t:t.tagName&&"svg"==t.tagName.toLowerCase()?new x(t):t.tagName&&"object"==t.tagName.toLowerCase()&&"image/svg+xml"==t.type?new x(t.contentDocument.getElementsByTagName("svg")[0]):new v(t):t}function E(t,e){for(var i=0,n=t.length;n>i;i++){var r={type:t[i].type,attr:t[i].attr()},o=t[i].children();e.push(r),o.length&&E(o,r.childNodes=[])}}i.version="0.4.0",i.toString=function(){return"Snap v"+this.version},i._={};var S={win:t.window,doc:t.window.document};i._.glob=S;var A="hasOwnProperty",w=String,T=parseFloat,O=parseInt,F=Math,I=F.max,k=F.min,L=F.abs,R=(F.pow,F.PI),N=(F.round,""),D=Object.prototype.toString,P=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,M=(i._.separator=/[,\s]+/,/[\s]*,[\s]*/),j={hs:1,rg:1},B=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,H=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,G=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/gi,W=0,U="S"+(+new Date).toString(36),Y=function(t){return(t&&t.type?t.type:N)+U+(W++).toString(36)},X="http://www.w3.org/1999/xlink",z="http://www.w3.org/2000/svg",V={};i.url=function(t){return"url('#"+t+"')"};i._.$=n,i._.id=Y,i.format=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,n){var r=n;return i.replace(e,function(t,e,i,n,o){e=e||n,r&&(e in r&&(r=r[e]),"function"==typeof r&&o&&(r=r()))}),r=(null==r||r==n?t:r)+""};return function(e,n){return w(e).replace(t,function(t,e){return i(t,e,n)})}}(),i._.clone=o,i._.cacher=a,i.rad=l,i.deg=h,i.sin=function(t){return F.sin(i.rad(t))},i.tan=function(t){return F.tan(i.rad(t))},i.cos=function(t){return F.cos(i.rad(t))},i.asin=function(t){return i.deg(F.asin(t))},i.acos=function(t){return i.deg(F.acos(t))},i.atan=function(t){return i.deg(F.atan(t))},i.atan2=function(t){return i.deg(F.atan2(t))},i.angle=c,i.len=function(t,e,n,r){return Math.sqrt(i.len2(t,e,n,r))},i.len2=function(t,e,i,n){return(t-i)*(t-i)+(e-n)*(e-n)},i.closestPoint=function(t,e,i){function n(t){var n=t.x-e,r=t.y-i;return n*n+r*r}for(var r,o,s,a,c=t.node,l=c.getTotalLength(),h=l/c.pathSegList.numberOfItems*.125,u=1/0,d=0;l>=d;d+=h)(a=n(s=c.getPointAtLength(d)))<u&&(r=s,o=d,u=a);for(h*=.5;h>.5;){var f,p,g,m,y,v;(g=o-h)>=0&&(y=n(f=c.getPointAtLength(g)))<u?(r=f,o=g,u=y):(m=o+h)<=l&&(v=n(p=c.getPointAtLength(m)))<u?(r=p,o=m,u=v):h*=.5}return r={x:r.x,y:r.y,length:o,distance:Math.sqrt(u)}},i.is=r,i.snapTo=function(t,e,i){if(i=r(i,"finite")?i:10,r(t,"array")){for(var n=t.length;n--;)if(L(t[n]-e)<=i)return t[n]}else{t=+t;var o=e%t;if(i>o)return e-o;if(o>t-i)return e-o+t}return e},i.getRGB=a(function(t){if(!t||(t=w(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Q};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:Q};if(!(j[A](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=q(t)),!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Q};var e,n,o,s,a,c,l=t.match(P);return l?(l[2]&&(o=O(l[2].substring(5),16),n=O(l[2].substring(3,5),16),e=O(l[2].substring(1,3),16)),l[3]&&(o=O((a=l[3].charAt(3))+a,16),n=O((a=l[3].charAt(2))+a,16),e=O((a=l[3].charAt(1))+a,16)),l[4]&&(c=l[4].split(M),e=T(c[0]),"%"==c[0].slice(-1)&&(e*=2.55),n=T(c[1]),"%"==c[1].slice(-1)&&(n*=2.55),o=T(c[2]),"%"==c[2].slice(-1)&&(o*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(s=T(c[3])),c[3]&&"%"==c[3].slice(-1)&&(s/=100)),l[5]?(c=l[5].split(M),e=T(c[0]),"%"==c[0].slice(-1)&&(e/=100),n=T(c[1]),"%"==c[1].slice(-1)&&(n/=100),o=T(c[2]),"%"==c[2].slice(-1)&&(o/=100),("deg"==c[0].slice(-3)||"\xb0"==c[0].slice(-1))&&(e/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(s=T(c[3])),c[3]&&"%"==c[3].slice(-1)&&(s/=100),i.hsb2rgb(e,n,o,s)):l[6]?(c=l[6].split(M),e=T(c[0]),"%"==c[0].slice(-1)&&(e/=100),n=T(c[1]),"%"==c[1].slice(-1)&&(n/=100),o=T(c[2]),"%"==c[2].slice(-1)&&(o/=100),("deg"==c[0].slice(-3)||"\xb0"==c[0].slice(-1))&&(e/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(s=T(c[3])),c[3]&&"%"==c[3].slice(-1)&&(s/=100),i.hsl2rgb(e,n,o,s)):(e=k(F.round(e),255),n=k(F.round(n),255),o=k(F.round(o),255),s=k(I(s,0),1),l={r:e,g:n,b:o,toString:Q},l.hex="#"+(16777216|o|n<<8|e<<16).toString(16).slice(1),l.opacity=r(s,"finite")?s:1,l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Q}},i),i.hsb=a(function(t,e,n){return i.hsb2rgb(t,e,n).hex}),i.hsl=a(function(t,e,n){return i.hsl2rgb(t,e,n).hex}),i.rgb=a(function(t,e,i,n){if(r(n,"finite")){var o=F.round;return"rgba("+[o(t),o(e),o(i),+n.toFixed(2)]+")"}return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)});var q=function(t){var e=S.doc.getElementsByTagName("head")[0]||S.doc.getElementsByTagName("svg")[0],i="rgb(255, 0, 0)";return(q=a(function(t){if("red"==t.toLowerCase())return i;e.style.color=i,e.style.color=t;var n=S.doc.defaultView.getComputedStyle(e,N).getPropertyValue("color");return n==i?null:n}))(t)},K=function(){return"hsb("+[this.h,this.s,this.b]+")"},$=function(){return"hsl("+[this.h,this.s,this.l]+")"},Q=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},J=function(t,e,n){if(null==e&&r(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,e=t.g,t=t.r),null==e&&r(t,string)){var o=i.getRGB(t);t=o.r,e=o.g,n=o.b}return(t>1||e>1||n>1)&&(t/=255,e/=255,n/=255),[t,e,n]},Z=function(t,e,n,o){t=F.round(255*t),e=F.round(255*e),n=F.round(255*n);var s={r:t,g:e,b:n,opacity:r(o,"finite")?o:1,hex:i.rgb(t,e,n),toString:Q};return r(o,"finite")&&(s.opacity=o),s};i.color=function(t){var e;return r(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=i.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):r(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=i.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):(r(t,"string")&&(t=i.getRGB(t)),r(t,"object")&&"r"in t&&"g"in t&&"b"in t&&!("error"in t)?(e=i.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=i.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1,t.error=1)),t.toString=Q,t},i.hsb2rgb=function(t,e,i,n){r(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,n=t.o,t=t.h),t*=360;var o,s,a,c,l;return t=t%360/60,l=i*e,c=l*(1-L(t%2-1)),o=s=a=i-l,t=~~t,o+=[l,c,0,0,c,l][t],s+=[c,l,l,c,0,0][t],a+=[0,0,c,l,l,c][t],Z(o,s,a,n)},i.hsl2rgb=function(t,e,i,n){r(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),t*=360;var o,s,a,c,l;return t=t%360/60,l=2*e*(.5>i?i:1-i),c=l*(1-L(t%2-1)),o=s=a=i-l/2,t=~~t,o+=[l,c,0,0,c,l][t],s+=[c,l,l,c,0,0][t],a+=[0,0,c,l,l,c][t],Z(o,s,a,n)},i.rgb2hsb=function(t,e,i){i=J(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,o,s;return o=I(t,e,i),s=o-k(t,e,i),n=0==s?null:o==t?(e-i)/s:o==e?(i-t)/s+2:(t-e)/s+4,n=(n+360)%6*60/360,r=0==s?0:s/o,{h:n,s:r,b:o,toString:K}},i.rgb2hsl=function(t,e,i){i=J(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,o,s,a,c;return s=I(t,e,i),a=k(t,e,i),c=s-a,n=0==c?null:s==t?(e-i)/c:s==e?(i-t)/c+2:(t-e)/c+4,n=(n+360)%6*60/360,o=(s+a)/2,r=0==c?0:.5>o?c/(2*o):c/(2-2*o),{h:n,s:r,l:o,toString:$}},i.parsePathString=function(t){if(!t)return null;var e=i.path(t);if(e.arr)return i.path.clone(e.arr);var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},o=[];return r(t,"array")&&r(t[0],"array")&&(o=i.path.clone(t)),o.length||w(t).replace(B,function(t,e,i){var r=[],s=e.toLowerCase();if(i.replace(G,function(t,e){e&&r.push(+e)}),"m"==s&&r.length>2&&(o.push([e].concat(r.splice(0,2))),s="l",e="m"==e?"l":"L"),"o"==s&&1==r.length&&o.push([e,r[0]]),"r"==s)o.push([e].concat(r));else for(;r.length>=n[s]&&(o.push([e].concat(r.splice(0,n[s]))),n[s]););}),o.toString=i.path.toString,e.arr=i.path.clone(o),o};var tt=i.parseTransformString=function(t){if(!t)return null;var e=[];return r(t,"array")&&r(t[0],"array")&&(e=i.path.clone(t)),e.length||w(t).replace(H,function(t,i,n){var r=[];i.toLowerCase();n.replace(G,function(t,e){e&&r.push(+e)}),e.push([i].concat(r))}),e.toString=i.path.toString,e};i._.svgTransform2string=u,i._.rgTransform=/^[a-z][\s]*-?\.?\d/i,i._.transform2matrix=d,i._unit2px=m;S.doc.contains||S.doc.compareDocumentPosition?function(t,e){var i=9==t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t==n||!(!n||1!=n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e;)if(e=e.parentNode,e==t)return!0;return!1};i._.getSomeDefs=f,i._.getSomeSVG=p,i.select=function(t){return t=w(t).replace(/([^\\]):/g,"$1\\:"),C(S.doc.querySelector(t))},i.selectAll=function(t){for(var e=S.doc.querySelectorAll(t),n=(i.set||Array)(),r=0;r<e.length;r++)n.push(C(e[r]));return n},setInterval(function(){for(var t in V)if(V[A](t)){var e=V[t],i=e.node;("svg"!=e.type&&!i.ownerSVGElement||"svg"==e.type&&(!i.parentNode||"ownerSVGElement"in i.parentNode&&!i.ownerSVGElement))&&delete V[t]}},1e4),v.prototype.attr=function(t,i){var n=this,o=n.node;if(!t){if(1!=o.nodeType)return{text:o.nodeValue};for(var s=o.attributes,a={},c=0,l=s.length;l>c;c++)a[s[c].nodeName]=s[c].nodeValue;return a}if(r(t,"string")){if(!(arguments.length>1))return e("snap.util.getattr."+t,n).firstDefined();var h={};h[t]=i,t=h}for(var u in t)t[A](u)&&e("snap.util.attr."+u,n,t[u]);return n},i.parse=function(t){var e=S.doc.createDocumentFragment(),i=!0,n=S.doc.createElement("div");if(t=w(t),t.match(/^\s*<\s*svg(?:\s|>)/)||(t="<svg>"+t+"</svg>",i=!1),n.innerHTML=t,t=n.getElementsByTagName("svg")[0])if(i)e=t;else for(;t.firstChild;)e.appendChild(t.firstChild);return new b(e)},i.fragment=function(){for(var t=Array.prototype.slice.call(arguments,0),e=S.doc.createDocumentFragment(),n=0,r=t.length;r>n;n++){var o=t[n];o.node&&o.node.nodeType&&e.appendChild(o.node),o.nodeType&&e.appendChild(o),"string"==typeof o&&e.appendChild(i.parse(o).node)}return new b(e)},i._.make=_,i._.wrap=C,x.prototype.el=function(t,e){var i=_(t,this.node);return e&&i.attr(e),i},v.prototype.children=function(){for(var t=[],e=this.node.childNodes,n=0,r=e.length;r>n;n++)t[n]=i(e[n]);return t},v.prototype.toJSON=function(){var t=[];return E([this],t),t[0]},e.on("snap.util.getattr",function(){var t=e.nt();t=t.substring(t.lastIndexOf(".")+1);var i=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});return et[A](i)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(i):n(this.node,t)});var et={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};e.on("snap.util.attr",function(t){var i=e.nt(),r={};i=i.substring(i.lastIndexOf(".")+1),r[i]=t;var o=i.replace(/-(\w)/gi,function(t,e){return e.toUpperCase()}),s=i.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});et[A](s)?this.node.style[o]=null==t?N:t:n(this.node,r)}),function(){}(x.prototype),i.ajax=function(t,i,n,o){var s=new XMLHttpRequest,a=Y();if(s){if(r(i,"function"))o=n,n=i,i=null;else if(r(i,"object")){var c=[];for(var l in i)i.hasOwnProperty(l)&&c.push(encodeURIComponent(l)+"="+encodeURIComponent(i[l]));i=c.join("&")}return s.open(i?"POST":"GET",t,!0),i&&(s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-type","application/x-www-form-urlencoded")),n&&(e.once("snap.ajax."+a+".0",n),e.once("snap.ajax."+a+".200",n),e.once("snap.ajax."+a+".304",n)),s.onreadystatechange=function(){4==s.readyState&&e("snap.ajax."+a+"."+s.status,o,s)},4==s.readyState?s:(s.send(i),s)}},i.load=function(t,e,n){i.ajax(t,function(t){var r=i.parse(t.responseText);n?e.call(n,r):e(r)})};var it=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,r=i.documentElement,o=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0,a=e.top+(g.win.pageYOffset||r.scrollTop||n.scrollTop)-o,c=e.left+(g.win.pageXOffset||r.scrollLeft||n.scrollLeft)-s;return{y:a,x:c}};return i.getElementByPoint=function(t,e){var i=this,n=(i.canvas,S.doc.elementFromPoint(t,e));if(S.win.opera&&"svg"==n.tagName){var r=it(n),o=n.createSVGRect();o.x=t-r.x,o.y=e-r.y,o.width=o.height=1;var s=n.getIntersectionList(o,null);s.length&&(n=s[s.length-1])}return n?C(n):null},i.plugin=function(t){t(i,v,x,S,b)},S.win.Snap=i,i}(t||this);
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2014 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2014 Adobe Systems Incorporated. All rights reserved.
return n.plugin(function(n,r,o,s,a){function c(t,e){if(null==e){var i=!0;if(e="linearGradient"==t.type||"radialGradient"==t.type?t.node.getAttribute("gradientTransform"):"pattern"==t.type?t.node.getAttribute("patternTransform"):t.node.getAttribute("transform"),!e)return new n.Matrix;e=n._.svgTransform2string(e)}else e=n._.rgTransform.test(e)?p(e).replace(/\.{3}|\u2026/g,t._.transform||""):n._.svgTransform2string(e),f(e,"array")&&(e=n.path?n.path.toString.call(e):p(e)),t._.transform=e;var r=n._.transform2matrix(e,t.getBBox(1));return i?r:void(t.matrix=r)}function l(t){function e(t,e){var i=m(t.node,e);i=i&&i.match(o),i=i&&i[2],i&&"#"==i.charAt()&&(i=i.substring(1),i&&(a[i]=(a[i]||[]).concat(function(i){var n={};n[e]=URL(i),m(t.node,n)})))}function i(t){var e=m(t.node,"xlink:href");e&&"#"==e.charAt()&&(e=e.substring(1),e&&(a[e]=(a[e]||[]).concat(function(e){t.attr("xlink:href","#"+e)})))}for(var n,r=t.selectAll("*"),o=/^\s*url\(("|'|)(.*)\1\)\s*$/,s=[],a={},c=0,l=r.length;l>c;c++){n=r[c],e(n,"fill"),e(n,"stroke"),e(n,"filter"),e(n,"mask"),e(n,"clip-path"),i(n);var h=m(n.node,"id");h&&(m(n.node,{id:n.id}),s.push({old:h,id:n.id}))}for(c=0,l=s.length;l>c;c++){var u=a[s[c].old];if(u)for(var d=0,f=u.length;f>d;d++)u[d](s[c].id)}}function h(t,e,i){return function(n){var r=n.slice(t,e);return 1==r.length&&(r=r[0]),i?i(r):r}}function u(t){return function(){var e=t?"<"+this.type:"",i=this.node.attributes,n=this.node.childNodes;if(t)for(var r=0,o=i.length;o>r;r++)e+=" "+i[r].name+'="'+i[r].value.replace(/"/g,'\\"')+'"';if(n.length){for(t&&(e+=">"),r=0,o=n.length;o>r;r++)3==n[r].nodeType?e+=n[r].nodeValue:1==n[r].nodeType&&(e+=_(n[r]).toString());t&&(e+="</"+this.type+">")}else t&&(e+="/>");return e}}var d=r.prototype,f=n.is,p=String,g=n._unit2px,m=n._.$,y=n._.make,v=n._.getSomeDefs,b="hasOwnProperty",_=n._.wrap;d.getBBox=function(t){if(!n.Matrix||!n.path)return this.node.getBBox();var e=this,i=new n.Matrix;if(e.removed)return n._.box();for(;"use"==e.type;)if(t||(i=i.add(e.transform().localMatrix.translate(e.attr("x")||0,e.attr("y")||0))),e.original)e=e.original;else{var r=e.attr("xlink:href");e=e.original=e.node.ownerDocument.getElementById(r.substring(r.indexOf("#")+1))}var o=e._,s=n.path.get[e.type]||n.path.get.deflt;try{return t?(o.bboxwt=s?n.path.getBBox(e.realPath=s(e)):n._.box(e.node.getBBox()),n._.box(o.bboxwt)):(e.realPath=s(e),e.matrix=e.transform().localMatrix,o.bbox=n.path.getBBox(n.path.map(e.realPath,i.add(e.matrix))),n._.box(o.bbox))}catch(a){return n._.box()}};var x=function(){return this.string};d.transform=function(t){var e=this._;if(null==t){for(var i,r=this,o=new n.Matrix(this.node.getCTM()),s=c(this),a=[s],l=new n.Matrix,h=s.toTransformString(),u=p(s)==p(this.matrix)?p(e.transform):h;"svg"!=r.type&&(r=r.parent());)a.push(c(r));for(i=a.length;i--;)l.add(a[i]);return{string:u,globalMatrix:o,totalMatrix:l,localMatrix:s,diffMatrix:o.clone().add(s.invert()),global:o.toTransformString(),total:l.toTransformString(),local:h,toString:x}}return t instanceof n.Matrix?(this.matrix=t,this._.transform=t.toTransformString()):c(this,t),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?m(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?m(this.node,{patternTransform:this.matrix}):m(this.node,{transform:this.matrix})),this},d.parent=function(){return _(this.node.parentNode)},d.append=d.add=function(t){if(t){if("set"==t.type){var e=this;return t.forEach(function(t){e.add(t)}),this}t=_(t),this.node.appendChild(t.node),t.paper=this.paper}return this},d.appendTo=function(t){return t&&(t=_(t),t.append(this)),this},d.prepend=function(t){if(t){if("set"==t.type){var e,i=this;return t.forEach(function(t){e?e.after(t):i.prepend(t),e=t}),this}t=_(t);var n=t.parent();this.node.insertBefore(t.node,this.node.firstChild),this.add&&this.add(),t.paper=this.paper,this.parent()&&this.parent().add(),n&&n.add()}return this},d.prependTo=function(t){return t=_(t),t.prepend(this),this},d.before=function(t){if("set"==t.type){var e=this;return t.forEach(function(t){var i=t.parent();e.node.parentNode.insertBefore(t.node,e.node),i&&i.add()}),this.parent().add(),this}t=_(t);var i=t.parent();return this.node.parentNode.insertBefore(t.node,this.node),this.parent()&&this.parent().add(),i&&i.add(),t.paper=this.paper,this},d.after=function(t){t=_(t);var e=t.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(t.node,this.node.nextSibling):this.node.parentNode.appendChild(t.node),this.parent()&&this.parent().add(),e&&e.add(),t.paper=this.paper,this},d.insertBefore=function(t){t=_(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},d.insertAfter=function(t){t=_(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node.nextSibling),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},d.remove=function(){var t=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,t&&t.add(),this},d.select=function(t){return _(this.node.querySelector(t))},d.selectAll=function(t){for(var e=this.node.querySelectorAll(t),i=(n.set||Array)(),r=0;r<e.length;r++)i.push(_(e[r]));return i},d.asPX=function(t,e){return null==e&&(e=this.attr(t)),+g(this,t,e)},d.use=function(){var t,e=this.node.id;return e||(e=this.id,m(this.node,{id:e})),t="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?y(this.type,this.node.parentNode):y("use",this.node.parentNode),m(t.node,{"xlink:href":"#"+e}),t.original=this,t},d.clone=function(){var t=_(this.node.cloneNode(!0));return m(t.node,"id")&&m(t.node,{id:t.id}),l(t),t.insertAfter(this),t},d.toDefs=function(){var t=v(this);return t.appendChild(this.node),this},d.pattern=d.toPattern=function(t,e,i,n){var r=y("pattern",v(this));return null==t&&(t=this.getBBox()),f(t,"object")&&"x"in t&&(e=t.y,i=t.width,n=t.height,t=t.x),m(r.node,{x:t,y:e,width:i,height:n,patternUnits:"userSpaceOnUse",id:r.id,viewBox:[t,e,i,n].join(" ")}),r.node.appendChild(this.node),r},d.marker=function(t,e,i,n,r,o){var s=y("marker",v(this));return null==t&&(t=this.getBBox()),f(t,"object")&&"x"in t&&(e=t.y,i=t.width,n=t.height,r=t.refX||t.cx,o=t.refY||t.cy,t=t.x),m(s.node,{viewBox:[t,e,i,n].join(" "),markerWidth:i,markerHeight:n,orient:"auto",refX:r||0,refY:o||0,id:s.id}),s.node.appendChild(this.node),s};var C=function(t,e,n,r){"function"!=typeof n||n.length||(r=n,n=i.linear),this.attr=t,this.dur=e,n&&(this.easing=n),r&&(this.callback=r)};n._.Animation=C,n.animation=function(t,e,i,n){return new C(t,e,i,n)},d.inAnim=function(){var t=this,e=[];for(var i in t.anims)t.anims[b](i)&&!function(t){e.push({anim:new C(t._attrs,t.dur,t.easing,t._callback),mina:t,curStatus:t.status(),status:function(e){return t.status(e)},stop:function(){t.stop()}})}(t.anims[i]);return e},n.animate=function(t,n,r,o,s,a){"function"!=typeof s||s.length||(a=s,s=i.linear);var c=i.time(),l=i(t,n,c,c+o,i.time,r,s);return a&&e.once("mina.finish."+l.id,a),l},d.stop=function(){for(var t=this.inAnim(),e=0,i=t.length;i>e;e++)t[e].stop();return this},d.animate=function(t,n,r,o){"function"!=typeof r||r.length||(o=r,r=i.linear),t instanceof C&&(o=t.callback,r=t.easing,n=t.dur,t=t.attr);var s,a,c,l,u=[],d=[],g={},m=this;for(var y in t)if(t[b](y)){m.equal?(l=m.equal(y,p(t[y])),s=l.from,a=l.to,c=l.f):(s=+m.attr(y),a=+t[y]);var v=f(s,"array")?s.length:1;g[y]=h(u.length,u.length+v,c),u=u.concat(s),d=d.concat(a)}var _=i.time(),x=i(u,d,_,_+n,i.time,function(t){var e={};for(var i in g)g[b](i)&&(e[i]=g[i](t));m.attr(e)},r);return m.anims[x.id]=x,x._attrs=t,x._callback=o,e("snap.animcreated."+m.id,x),e.once("mina.finish."+x.id,function(){delete m.anims[x.id],o&&o.call(m)}),e.once("mina.stop."+x.id,function(){delete m.anims[x.id]}),m};var E={};d.data=function(t,i){var r=E[this.id]=E[this.id]||{};if(0==arguments.length)return e("snap.data.get."+this.id,this,r,null),r;if(1==arguments.length){if(n.is(t,"object")){for(var o in t)t[b](o)&&this.data(o,t[o]);return this}return e("snap.data.get."+this.id,this,r[t],t),r[t]}return r[t]=i,e("snap.data.set."+this.id,this,i,t),this},d.removeData=function(t){return null==t?E[this.id]={}:E[this.id]&&delete E[this.id][t],this},d.outerSVG=d.toString=u(1),d.innerSVG=u(),d.toDataURL=function(){if(t&&t.btoa){var e=this.getBBox(),i=n.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+e.x.toFixed(3),y:+e.y.toFixed(3),width:+e.width.toFixed(3),height:+e.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(i)))}},a.prototype.select=d.select,a.prototype.selectAll=d.selectAll}),n.plugin(function(t){function e(t,e,n,r,o,s){return null==e&&"[object SVGMatrix]"==i.call(t)?(this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,void(this.f=t.f)):void(null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+r,this.e=+o,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var i=Object.prototype.toString,n=String,r=Math,o="";!function(i){function s(t){return t[0]*t[0]+t[1]*t[1]}function a(t){var e=r.sqrt(s(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}i.add=function(t,i,n,r,o,s){var a,c,l,h,u=[[],[],[]],d=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[t,n,o],[i,r,s],[0,0,1]];for(t&&t instanceof e&&(f=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;3>a;a++)for(c=0;3>c;c++){for(h=0,l=0;3>l;l++)h+=d[a][l]*f[l][c];u[a][c]=h}return this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2],this},i.invert=function(){var t=this,i=t.a*t.d-t.b*t.c;return new e(t.d/i,-t.b/i,-t.c/i,t.a/i,(t.c*t.f-t.d*t.e)/i,(t.b*t.e-t.a*t.f)/i)},i.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},i.translate=function(t,e){return this.add(1,0,0,1,t,e)},i.scale=function(t,e,i,n){return null==e&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n),this},i.rotate=function(e,i,n){e=t.rad(e),i=i||0,n=n||0;var o=+r.cos(e).toFixed(9),s=+r.sin(e).toFixed(9);return this.add(o,s,-s,o,i,n),this.add(1,0,0,1,-i,-n)},i.x=function(t,e){return t*this.a+e*this.c+this.e},i.y=function(t,e){return t*this.b+e*this.d+this.f},i.get=function(t){return+this[n.fromCharCode(97+t)].toFixed(4)},i.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},i.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},i.determinant=function(){return this.a*this.d-this.b*this.c},i.split=function(){var e={};e.dx=this.e,e.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];e.scalex=r.sqrt(s(i[0])),a(i[0]),e.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*e.shear,i[1][1]-i[0][1]*e.shear],e.scaley=r.sqrt(s(i[1])),a(i[1]),e.shear/=e.scaley,this.determinant()<0&&(e.scalex=-e.scalex);var n=-i[0][1],o=i[1][1];return 0>o?(e.rotate=t.deg(r.acos(o)),0>n&&(e.rotate=360-e.rotate)):e.rotate=t.deg(r.asin(n)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},i.toTransformString=function(t){var e=t||this.split();return+e.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[+e.dx.toFixed(4),+e.dy.toFixed(4)]:o)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:o)+(e.rotate?"r"+[+e.rotate.toFixed(4),0,0]:o))}}(e.prototype),t.Matrix=e,t.matrix=function(t,i,n,r,o,s){return new e(t,i,n,r,o,s)}}),n.plugin(function(t,i,n,r,o){function s(n){return function(r){if(e.stop(),r instanceof o&&1==r.node.childNodes.length&&("radialGradient"==r.node.firstChild.tagName||"linearGradient"==r.node.firstChild.tagName||"pattern"==r.node.firstChild.tagName)&&(r=r.node.firstChild,f(this).appendChild(r),r=u(r)),r instanceof i)if("radialGradient"==r.type||"linearGradient"==r.type||"pattern"==r.type){r.node.id||g(r.node,{id:r.id});var s=m(r.node.id)}else s=r.attr(n);else if(s=t.color(r),s.error){var a=t(f(this).ownerSVGElement).gradient(r);a?(a.node.id||g(a.node,{id:a.id}),s=m(a.node.id)):s=r}else s=y(s);var c={};c[n]=s,g(this.node,c),this.node.style[n]=b}}function a(t){e.stop(),t==+t&&(t+="px"),this.node.style.fontSize=t}function c(t){for(var e=[],i=t.childNodes,n=0,r=i.length;r>n;n++){var o=i[n];3==o.nodeType&&e.push(o.nodeValue),"tspan"==o.tagName&&(1==o.childNodes.length&&3==o.firstChild.nodeType?e.push(o.firstChild.nodeValue):e.push(c(o)))}return e}function l(){return e.stop(),this.node.style.fontSize}var h=t._.make,u=t._.wrap,d=t.is,f=t._.getSomeDefs,p=/^url\(#?([^)]+)\)$/,g=t._.$,m=t.url,y=String,v=t._.separator,b="";e.on("snap.util.attr.mask",function(t){if(t instanceof i||t instanceof o){if(e.stop(),t instanceof o&&1==t.node.childNodes.length&&(t=t.node.firstChild,f(this).appendChild(t),t=u(t)),"mask"==t.type)var n=t;else n=h("mask",f(this)),n.node.appendChild(t.node);!n.node.id&&g(n.node,{id:n.id}),g(this.node,{mask:m(n.id)})}}),function(t){e.on("snap.util.attr.clip",t),e.on("snap.util.attr.clip-path",t),e.on("snap.util.attr.clipPath",t)}(function(t){if(t instanceof i||t instanceof o){if(e.stop(),"clipPath"==t.type)var n=t;else n=h("clipPath",f(this)),n.node.appendChild(t.node),!n.node.id&&g(n.node,{id:n.id});g(this.node,{"clip-path":m(n.node.id||n.id)})}}),e.on("snap.util.attr.fill",s("fill")),e.on("snap.util.attr.stroke",s("stroke"));var _=/^([lr])(?:\(([^)]*)\))?(.*)$/i;e.on("snap.util.grad.parse",function(t){t=y(t);var e=t.match(_);if(!e)return null;var i=e[1],n=e[2],r=e[3];return n=n.split(/\s*,\s*/).map(function(t){return+t==t?+t:t}),1==n.length&&0==n[0]&&(n=[]),r=r.split("-"),r=r.map(function(t){t=t.split(":");var e={color:t[0]};return t[1]&&(e.offset=parseFloat(t[1])),e}),{type:i,params:n,stops:r}}),e.on("snap.util.attr.d",function(i){e.stop(),d(i,"array")&&d(i[0],"array")&&(i=t.path.toString.call(i)),i=y(i),i.match(/[ruo]/i)&&(i=t.path.toAbsolute(i)),g(this.node,{d:i})})(-1),e.on("snap.util.attr.#text",function(t){e.stop(),t=y(t);for(var i=r.doc.createTextNode(t);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(i)})(-1),e.on("snap.util.attr.path",function(t){e.stop(),this.attr({d:t})})(-1),e.on("snap.util.attr.class",function(t){e.stop(),this.node.className.baseVal=t})(-1),e.on("snap.util.attr.viewBox",function(t){var i;i=d(t,"object")&&"x"in t?[t.x,t.y,t.width,t.height].join(" "):d(t,"array")?t.join(" "):t,g(this.node,{viewBox:i}),e.stop()})(-1),e.on("snap.util.attr.transform",function(t){this.transform(t),e.stop()})(-1),e.on("snap.util.attr.r",function(t){"rect"==this.type&&(e.stop(),g(this.node,{rx:t,ry:t}))})(-1),e.on("snap.util.attr.textpath",function(t){if(e.stop(),"text"==this.type){var n,r,o;if(!t&&this.textPath){for(r=this.textPath;r.node.firstChild;)this.node.appendChild(r.node.firstChild);return r.remove(),void delete this.textPath}if(d(t,"string")){var s=f(this),a=u(s.parentNode).path(t);s.appendChild(a.node),n=a.id,a.attr({id:n})}else t=u(t),t instanceof i&&(n=t.attr("id"),n||(n=t.id,t.attr({id:n})));if(n)if(r=this.textPath,o=this.node,r)r.attr({"xlink:href":"#"+n});else{for(r=g("textPath",{"xlink:href":"#"+n});o.firstChild;)r.appendChild(o.firstChild);o.appendChild(r),this.textPath=u(r)}}})(-1),e.on("snap.util.attr.text",function(t){if("text"==this.type){for(var i=this.node,n=function(t){var e=g("tspan");if(d(t,"array"))for(var i=0;i<t.length;i++)e.appendChild(n(t[i]));else e.appendChild(r.doc.createTextNode(t));return e.normalize&&e.normalize(),e};i.firstChild;)i.removeChild(i.firstChild);for(var o=n(t);o.firstChild;)i.appendChild(o.firstChild)}e.stop()})(-1),e.on("snap.util.attr.fontSize",a)(-1),e.on("snap.util.attr.font-size",a)(-1),e.on("snap.util.getattr.transform",function(){return e.stop(),this.transform()})(-1),e.on("snap.util.getattr.textpath",function(){return e.stop(),this.textPath})(-1),function(){function i(i){return function(){e.stop();var n=r.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+i);return"none"==n?n:t(r.doc.getElementById(n.match(p)[1]))}}function n(t){return function(i){e.stop();var n="marker"+t.charAt(0).toUpperCase()+t.substring(1);if(""==i||!i)return void(this.node.style[n]="none");if("marker"==i.type){var r=i.node.id;return r||g(i.node,{id:i.id}),void(this.node.style[n]=m(r))}}}e.on("snap.util.getattr.marker-end",i("end"))(-1),e.on("snap.util.getattr.markerEnd",i("end"))(-1),e.on("snap.util.getattr.marker-start",i("start"))(-1),e.on("snap.util.getattr.markerStart",i("start"))(-1),e.on("snap.util.getattr.marker-mid",i("mid"))(-1),e.on("snap.util.getattr.markerMid",i("mid"))(-1),e.on("snap.util.attr.marker-end",n("end"))(-1),e.on("snap.util.attr.markerEnd",n("end"))(-1),e.on("snap.util.attr.marker-start",n("start"))(-1),e.on("snap.util.attr.markerStart",n("start"))(-1),e.on("snap.util.attr.marker-mid",n("mid"))(-1),e.on("snap.util.attr.markerMid",n("mid"))(-1)}(),e.on("snap.util.getattr.r",function(){return"rect"==this.type&&g(this.node,"rx")==g(this.node,"ry")?(e.stop(),g(this.node,"rx")):void 0})(-1),e.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){e.stop();var t=c(this.node);return 1==t.length?t[0]:t}})(-1),e.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),e.on("snap.util.getattr.viewBox",function(){e.stop();var i=g(this.node,"viewBox");return i?(i=i.split(v),t._.box(+i[0],+i[1],+i[2],+i[3])):void 0})(-1),e.on("snap.util.getattr.points",function(){var t=g(this.node,"points");return e.stop(),t?t.split(v):void 0})(-1),e.on("snap.util.getattr.path",function(){var t=g(this.node,"d");return e.stop(),t})(-1),e.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),e.on("snap.util.getattr.fontSize",l)(-1),e.on("snap.util.getattr.font-size",l)(-1)}),n.plugin(function(t,e){var i=/\S+/g,n=String,r=e.prototype;r.addClass=function(t){var e,r,o,s,a=n(t||"").match(i)||[],c=this.node,l=c.className.baseVal,h=l.match(i)||[];if(a.length){for(e=0;o=a[e++];)r=h.indexOf(o),~r||h.push(o);s=h.join(" "),l!=s&&(c.className.baseVal=s)}return this},r.removeClass=function(t){var e,r,o,s,a=n(t||"").match(i)||[],c=this.node,l=c.className.baseVal,h=l.match(i)||[];if(h.length){for(e=0;o=a[e++];)r=h.indexOf(o),~r&&h.splice(r,1);s=h.join(" "),l!=s&&(c.className.baseVal=s)}return this},r.hasClass=function(t){var e=this.node,n=e.className.baseVal,r=n.match(i)||[];return!!~r.indexOf(t)},r.toggleClass=function(t,e){if(null!=e)return e?this.addClass(t):this.removeClass(t);var n,r,o,s,a=(t||"").match(i)||[],c=this.node,l=c.className.baseVal,h=l.match(i)||[];for(n=0;o=a[n++];)r=h.indexOf(o),~r?h.splice(r,1):h.push(o);return s=h.join(" "),l!=s&&(c.className.baseVal=s),this}}),n.plugin(function(){function t(t){return t}function i(t){return function(e){return+e.toFixed(3)+t}}var n={"+":function(t,e){return t+e},"-":function(t,e){return t-e},"/":function(t,e){return t/e},"*":function(t,e){return t*e}},r=String,o=/[a-z]+$/i,s=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;e.on("snap.util.attr",function(t){var i=r(t).match(s);if(i){var a=e.nt(),c=a.substring(a.lastIndexOf(".")+1),l=this.attr(c),h={};e.stop();var u=i[3]||"",d=l.match(o),f=n[i[1]];if(d&&d==u?t=f(parseFloat(l),+i[2]):(l=this.asPX(c),t=f(this.asPX(c),this.asPX(c,i[2]+u))),isNaN(l)||isNaN(t))return;h[c]=t,this.attr(h)}})(-10),e.on("snap.util.equal",function(a,c){var l=r(this.attr(a)||""),h=r(c).match(s);if(h){e.stop();var u=h[3]||"",d=l.match(o),f=n[h[1]];return d&&d==u?{from:parseFloat(l),to:f(parseFloat(l),+h[2]),f:i(d)}:(l=this.asPX(a),{from:l,to:f(l,this.asPX(a,h[2]+u)),f:t})}})(-10)}),n.plugin(function(i,n,r,o){var s=r.prototype,a=i.is;s.rect=function(t,e,i,n,r,o){var s;return null==o&&(o=r),a(t,"object")&&"[object Object]"==t?s=t:null!=t&&(s={x:t,y:e,width:i,height:n},null!=r&&(s.rx=r,s.ry=o)),this.el("rect",s)},s.circle=function(t,e,i){var n;return a(t,"object")&&"[object Object]"==t?n=t:null!=t&&(n={cx:t,cy:e,r:i}),this.el("circle",n)};var c=function(){function t(){this.parentNode.removeChild(this)}return function(e,i){var n=o.doc.createElement("img"),r=o.doc.body;n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){i.call(n),n.onload=n.onerror=null,r.removeChild(n)},n.onerror=t,r.appendChild(n),n.src=e}}();s.image=function(t,e,n,r,o){var s=this.el("image");if(a(t,"object")&&"src"in t)s.attr(t);else if(null!=t){var l={"xlink:href":t,preserveAspectRatio:"none"};null!=e&&null!=n&&(l.x=e,l.y=n),null!=r&&null!=o?(l.width=r,l.height=o):c(t,function(){i._.$(s.node,{width:this.offsetWidth,height:this.offsetHeight})}),i._.$(s.node,l)}return s},s.ellipse=function(t,e,i,n){var r;return a(t,"object")&&"[object Object]"==t?r=t:null!=t&&(r={cx:t,cy:e,rx:i,ry:n}),this.el("ellipse",r)},s.path=function(t){var e;return a(t,"object")&&!a(t,"array")?e=t:t&&(e={d:t}),this.el("path",e)},s.group=s.g=function(t){var e=this.el("g");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},s.svg=function(t,e,i,n,r,o,s,c){var l={};return a(t,"object")&&null==e?l=t:(null!=t&&(l.x=t),null!=e&&(l.y=e),null!=i&&(l.width=i),null!=n&&(l.height=n),null!=r&&null!=o&&null!=s&&null!=c&&(l.viewBox=[r,o,s,c])),this.el("svg",l)},s.mask=function(t){var e=this.el("mask");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},s.ptrn=function(t,e,i,n,r,o,s,c){if(a(t,"object"))var l=t;else l={patternUnits:"userSpaceOnUse"},t&&(l.x=t),e&&(l.y=e),null!=i&&(l.width=i),null!=n&&(l.height=n),null!=r&&null!=o&&null!=s&&null!=c?l.viewBox=[r,o,s,c]:l.viewBox=[t||0,e||0,i||0,n||0];return this.el("pattern",l)},s.use=function(t){return null!=t?(t instanceof n&&(t.attr("id")||t.attr({id:i._.id(t)}),t=t.attr("id")),"#"==String(t).charAt()&&(t=t.substring(1)),this.el("use",{"xlink:href":"#"+t})):n.prototype.use.call(this)},s.symbol=function(t,e,i,n){var r={};return null!=t&&null!=e&&null!=i&&null!=n&&(r.viewBox=[t,e,i,n]),this.el("symbol",r)},s.text=function(t,e,i){var n={};return a(t,"object")?n=t:null!=t&&(n={x:t,y:e,text:i||""}),this.el("text",n)},s.line=function(t,e,i,n){var r={};return a(t,"object")?r=t:null!=t&&(r={x1:t,x2:i,y1:e,y2:n}),this.el("line",r)},s.polyline=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return a(t,"object")&&!a(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polyline",e)},s.polygon=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return a(t,"object")&&!a(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polygon",e)},function(){function n(){return this.selectAll("stop")}function r(t,e){var n=h("stop"),r={offset:+e+"%"};return t=i.color(t),r["stop-color"]=t.hex,t.opacity<1&&(r["stop-opacity"]=t.opacity),h(n,r),this.node.appendChild(n),this}function o(){if("linearGradient"==this.type){var t=h(this.node,"x1")||0,e=h(this.node,"x2")||1,n=h(this.node,"y1")||0,r=h(this.node,"y2")||0;return i._.box(t,n,math.abs(e-t),math.abs(r-n))}var o=this.node.cx||.5,s=this.node.cy||.5,a=this.node.r||0;return i._.box(o-a,s-a,2*a,2*a)}function a(t,i){function n(t,e){for(var i=(e-u)/(t-d),n=d;t>n;n++)s[n].offset=+(+u+i*(n-d)).toFixed(2);d=t,u=e}var r,o=e("snap.util.grad.parse",null,i).firstDefined();if(!o)return null;o.params.unshift(t),r="l"==o.type.toLowerCase()?c.apply(0,o.params):l.apply(0,o.params),o.type!=o.type.toLowerCase()&&h(r.node,{gradientUnits:"userSpaceOnUse"});var s=o.stops,a=s.length,u=0,d=0;a--;for(var f=0;a>f;f++)"offset"in s[f]&&n(f,s[f].offset);for(s[a].offset=s[a].offset||100,n(a,s[a].offset),f=0;a>=f;f++){var p=s[f];r.addStop(p.color,p.offset)}return r}function c(t,e,s,a,c){var l=i._.make("linearGradient",t);return l.stops=n,l.addStop=r,l.getBBox=o,null!=e&&h(l.node,{x1:e,y1:s,x2:a,y2:c}),l}function l(t,e,s,a,c,l){var u=i._.make("radialGradient",t);return u.stops=n,u.addStop=r,u.getBBox=o,null!=e&&h(u.node,{cx:e,cy:s,r:a}),null!=c&&null!=l&&h(u.node,{fx:c,fy:l}),u}var h=i._.$;s.gradient=function(t){return a(this.defs,t)},s.gradientLinear=function(t,e,i,n){return c(this.defs,t,e,i,n)},s.gradientRadial=function(t,e,i,n,r){return l(this.defs,t,e,i,n,r)},s.toString=function(){var t,e=this.node.ownerDocument,n=e.createDocumentFragment(),r=e.createElement("div"),o=this.node.cloneNode(!0);return n.appendChild(r),r.appendChild(o),i._.$(o,{xmlns:"http://www.w3.org/2000/svg"}),t=r.innerHTML,n.removeChild(n.firstChild),t},s.toDataURL=function(){return t&&t.btoa?"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this))):void 0},s.clear=function(){for(var t,e=this.node.firstChild;e;)t=e.nextSibling,"defs"!=e.tagName?e.parentNode.removeChild(e):s.clear.call({node:e}),e=t}}()}),n.plugin(function(t,e){function i(t){var e=i.ps=i.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[P](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])}),e[t]}function n(t,e,i,n){return null==t&&(t=e=i=n=0),null==e&&(e=t.y,i=t.width,n=t.height,t=t.x),{x:t,y:e,width:i,w:i,height:n,h:n,x2:t+i,y2:e+n,cx:t+i/2,cy:e+n/2,r1:B.min(i,n)/2,r2:B.max(i,n)/2,r0:B.sqrt(i*i+n*n)/2,path:C(t,e,i,n),vb:[t,e,i,n].join(" ")}}function r(){return this.join(",").replace(M,"$1")}function o(t){var e=D(t);return e.toString=r,e}function s(t,e,i,n,r,o,s,a,l){return null==l?f(t,e,i,n,r,o,s,a):c(t,e,i,n,r,o,s,a,p(t,e,i,n,r,o,s,a,l))}function a(i,n){function r(t){return+(+t).toFixed(3)}return t._.cacher(function(t,o,a){t instanceof e&&(t=t.attr("d")),t=I(t);for(var l,h,u,d,f,p="",g={},m=0,y=0,v=t.length;v>y;y++){if(u=t[y],"M"==u[0])l=+u[1],h=+u[2];else{if(d=s(l,h,u[1],u[2],u[3],u[4],u[5],u[6]),m+d>o){if(n&&!g.start){if(f=s(l,h,u[1],u[2],u[3],u[4],u[5],u[6],o-m),p+=["C"+r(f.start.x),r(f.start.y),r(f.m.x),r(f.m.y),r(f.x),r(f.y)],a)return p;g.start=p,p=["M"+r(f.x),r(f.y)+"C"+r(f.n.x),r(f.n.y),r(f.end.x),r(f.end.y),r(u[5]),r(u[6])].join(),m+=d,l=+u[5],h=+u[6];continue}if(!i&&!n)return f=s(l,h,u[1],u[2],u[3],u[4],u[5],u[6],o-m)}m+=d,l=+u[5],h=+u[6]}p+=u.shift()+u}return g.end=p,f=i?m:n?g:c(l,h,u[0],u[1],u[2],u[3],u[4],u[5],1)},null,t._.clone)}function c(t,e,i,n,r,o,s,a,c){var l=1-c,h=U(l,3),u=U(l,2),d=c*c,f=d*c,p=h*t+3*u*c*i+3*l*c*c*r+f*s,g=h*e+3*u*c*n+3*l*c*c*o+f*a,m=t+2*c*(i-t)+d*(r-2*i+t),y=e+2*c*(n-e)+d*(o-2*n+e),v=i+2*c*(r-i)+d*(s-2*r+i),b=n+2*c*(o-n)+d*(a-2*o+n),_=l*t+c*i,x=l*e+c*n,C=l*r+c*s,E=l*o+c*a,S=90-180*B.atan2(m-v,y-b)/H;return{x:p,y:g,m:{x:m,y:y},n:{x:v,y:b},start:{x:_,y:x},end:{x:C,y:E},alpha:S}}function l(e,i,r,o,s,a,c,l){t.is(e,"array")||(e=[e,i,r,o,s,a,c,l]);var h=F.apply(null,e);return n(h.min.x,h.min.y,h.max.x-h.min.x,h.max.y-h.min.y)}function h(t,e,i){return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function u(t,e){return t=n(t),e=n(e),h(e,t.x,t.y)||h(e,t.x2,t.y)||h(e,t.x,t.y2)||h(e,t.x2,t.y2)||h(t,e.x,e.y)||h(t,e.x2,e.y)||h(t,e.x,e.y2)||h(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function d(t,e,i,n,r){var o=-3*e+9*i-9*n+3*r,s=t*o+6*e-12*i+6*n;return t*s-3*e+3*i}function f(t,e,i,n,r,o,s,a,c){null==c&&(c=1),c=c>1?1:0>c?0:c;for(var l=c/2,h=12,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,g=0;h>g;g++){var m=l*u[g]+l,y=d(m,t,i,r,s),v=d(m,e,n,o,a),b=y*y+v*v;p+=f[g]*B.sqrt(b)}return l*p}function p(t,e,i,n,r,o,s,a,c){if(!(0>c||f(t,e,i,n,r,o,s,a)<c)){var l,h=1,u=h/2,d=h-u,p=.01;for(l=f(t,e,i,n,r,o,s,a,d);Y(l-c)>p;)u/=2,d+=(c>l?1:-1)*u,l=f(t,e,i,n,r,o,s,a,d);return d}}function g(t,e,i,n,r,o,s,a){if(!(W(t,i)<G(r,s)||G(t,i)>W(r,s)||W(e,n)<G(o,a)||G(e,n)>W(o,a))){var c=(t*n-e*i)*(r-s)-(t-i)*(r*a-o*s),l=(t*n-e*i)*(o-a)-(e-n)*(r*a-o*s),h=(t-i)*(o-a)-(e-n)*(r-s);if(h){var u=c/h,d=l/h,f=+u.toFixed(2),p=+d.toFixed(2);if(!(f<+G(t,i).toFixed(2)||f>+W(t,i).toFixed(2)||f<+G(r,s).toFixed(2)||f>+W(r,s).toFixed(2)||p<+G(e,n).toFixed(2)||p>+W(e,n).toFixed(2)||p<+G(o,a).toFixed(2)||p>+W(o,a).toFixed(2)))return{x:u,y:d}}}}function m(t,e,i){var n=l(t),r=l(e);if(!u(n,r))return i?0:[];for(var o=f.apply(0,t),s=f.apply(0,e),a=~~(o/8),h=~~(s/8),d=[],p=[],m={},y=i?0:[],v=0;a+1>v;v++){var b=c.apply(0,t.concat(v/a));d.push({x:b.x,y:b.y,t:v/a})}for(v=0;h+1>v;v++)b=c.apply(0,e.concat(v/h)),p.push({x:b.x,y:b.y,t:v/h});for(v=0;a>v;v++)for(var _=0;h>_;_++){var x=d[v],C=d[v+1],E=p[_],S=p[_+1],A=Y(C.x-x.x)<.001?"y":"x",w=Y(S.x-E.x)<.001?"y":"x",T=g(x.x,x.y,C.x,C.y,E.x,E.y,S.x,S.y);if(T){if(m[T.x.toFixed(4)]==T.y.toFixed(4))continue;m[T.x.toFixed(4)]=T.y.toFixed(4);var O=x.t+Y((T[A]-x[A])/(C[A]-x[A]))*(C.t-x.t),F=E.t+Y((T[w]-E[w])/(S[w]-E[w]))*(S.t-E.t);O>=0&&1>=O&&F>=0&&1>=F&&(i?y++:y.push({x:T.x,y:T.y,t1:O,t2:F}))}}return y}function y(t,e){return b(t,e)}function v(t,e){return b(t,e,1)}function b(t,e,i){t=I(t),e=I(e);for(var n,r,o,s,a,c,l,h,u,d,f=i?0:[],p=0,g=t.length;g>p;p++){var y=t[p];if("M"==y[0])n=a=y[1],r=c=y[2];else{"C"==y[0]?(u=[n,r].concat(y.slice(1)),n=u[6],r=u[7]):(u=[n,r,n,r,a,c,a,c],n=a,r=c);for(var v=0,b=e.length;b>v;v++){var _=e[v];if("M"==_[0])o=l=_[1],s=h=_[2];else{"C"==_[0]?(d=[o,s].concat(_.slice(1)),o=d[6],s=d[7]):(d=[o,s,o,s,l,h,l,h],o=l,s=h);var x=m(u,d,i);if(i)f+=x;else{for(var C=0,E=x.length;E>C;C++)x[C].segment1=p,x[C].segment2=v,x[C].bez1=u,x[C].bez2=d;f=f.concat(x)}}}}}return f}function _(t,e,i){var n=x(t);return h(n,e,i)&&b(t,[["M",e,i],["H",n.x2+10]],1)%2==1}function x(t){var e=i(t);if(e.bbox)return D(e.bbox);if(!t)return n();t=I(t);for(var r,o=0,s=0,a=[],c=[],l=0,h=t.length;h>l;l++)if(r=t[l],"M"==r[0])o=r[1],s=r[2],a.push(o),c.push(s);else{var u=F(o,s,r[1],r[2],r[3],r[4],r[5],r[6]);a=a.concat(u.min.x,u.max.x),c=c.concat(u.min.y,u.max.y),o=r[5],s=r[6]}var d=G.apply(0,a),f=G.apply(0,c),p=W.apply(0,a),g=W.apply(0,c),m=n(d,f,p-d,g-f);return e.bbox=D(m),m}function C(t,e,i,n,o){if(o)return[["M",+t+ +o,e],["l",i-2*o,0],["a",o,o,0,0,1,o,o],["l",0,n-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-i,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-n],["a",o,o,0,0,1,o,-o],["z"]];var s=[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]];return s.toString=r,s}function E(t,e,i,n,o){if(null==o&&null==n&&(n=i),t=+t,e=+e,i=+i,n=+n,null!=o)var s=Math.PI/180,a=t+i*Math.cos(-n*s),c=t+i*Math.cos(-o*s),l=e+i*Math.sin(-n*s),h=e+i*Math.sin(-o*s),u=[["M",a,l],["A",i,i,0,+(o-n>180),0,c,h]];else u=[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]];return u.toString=r,u}function S(e){var n=i(e),s=String.prototype.toLowerCase;if(n.rel)return o(n.rel);t.is(e,"array")&&t.is(e&&e[0],"array")||(e=t.parsePathString(e));var a=[],c=0,l=0,h=0,u=0,d=0;"M"==e[0][0]&&(c=e[0][1],l=e[0][2],h=c,u=l,d++,a.push(["M",c,l]));for(var f=d,p=e.length;p>f;f++){var g=a[f]=[],m=e[f];if(m[0]!=s.call(m[0]))switch(g[0]=s.call(m[0]),g[0]){case"a":g[1]=m[1],g[2]=m[2],g[3]=m[3],g[4]=m[4],g[5]=m[5],g[6]=+(m[6]-c).toFixed(3),g[7]=+(m[7]-l).toFixed(3);break;case"v":g[1]=+(m[1]-l).toFixed(3);break;case"m":h=m[1],u=m[2];default:for(var y=1,v=m.length;v>y;y++)g[y]=+(m[y]-(y%2?c:l)).toFixed(3)}else{g=a[f]=[],"m"==m[0]&&(h=m[1]+c,u=m[2]+l);for(var b=0,_=m.length;_>b;b++)a[f][b]=m[b]}var x=a[f].length;switch(a[f][0]){case"z":c=h,l=u;break;case"h":c+=+a[f][x-1];break;case"v":l+=+a[f][x-1];break;default:c+=+a[f][x-2],l+=+a[f][x-1]}}return a.toString=r,n.rel=o(a),a}function A(e){var n=i(e);if(n.abs)return o(n.abs);if(N(e,"array")&&N(e&&e[0],"array")||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var s,a=[],c=0,l=0,h=0,u=0,d=0;"M"==e[0][0]&&(c=+e[0][1],l=+e[0][2],h=c,u=l,d++,a[0]=["M",c,l]);for(var f,p,g=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),m=d,y=e.length;y>m;m++){if(a.push(f=[]),p=e[m],s=p[0],s!=s.toUpperCase())switch(f[0]=s.toUpperCase(),f[0]){case"A":f[1]=p[1],f[2]=p[2],f[3]=p[3],f[4]=p[4],f[5]=p[5],f[6]=+p[6]+c,f[7]=+p[7]+l;break;case"V":f[1]=+p[1]+l;break;case"H":f[1]=+p[1]+c;break;case"R":for(var v=[c,l].concat(p.slice(1)),b=2,_=v.length;_>b;b++)v[b]=+v[b]+c,v[++b]=+v[b]+l;a.pop(),a=a.concat(L(v,g));break;case"O":a.pop(),v=E(c,l,p[1],p[2]),v.push(v[0]),a=a.concat(v);break;case"U":a.pop(),a=a.concat(E(c,l,p[1],p[2],p[3])),f=["U"].concat(a[a.length-1].slice(-2));break;case"M":h=+p[1]+c,u=+p[2]+l;default:for(b=1,_=p.length;_>b;b++)f[b]=+p[b]+(b%2?c:l)}else if("R"==s)v=[c,l].concat(p.slice(1)),a.pop(),a=a.concat(L(v,g)),f=["R"].concat(p.slice(-2));else if("O"==s)a.pop(),v=E(c,l,p[1],p[2]),v.push(v[0]),a=a.concat(v);else if("U"==s)a.pop(),a=a.concat(E(c,l,p[1],p[2],p[3])),f=["U"].concat(a[a.length-1].slice(-2));else for(var x=0,C=p.length;C>x;x++)f[x]=p[x];if(s=s.toUpperCase(),"O"!=s)switch(f[0]){case"Z":c=+h,l=+u;break;case"H":
c=f[1];break;case"V":l=f[1];break;case"M":h=f[f.length-2],u=f[f.length-1];default:c=f[f.length-2],l=f[f.length-1]}}return a.toString=r,n.abs=o(a),a}function w(t,e,i,n){return[t,e,i,n,i,n]}function T(t,e,i,n,r,o){var s=1/3,a=2/3;return[s*t+a*i,s*e+a*n,s*r+a*i,s*o+a*n,r,o]}function O(e,i,n,r,o,s,a,c,l,h){var u,d=120*H/180,f=H/180*(+o||0),p=[],g=t._.cacher(function(t,e,i){var n=t*B.cos(i)-e*B.sin(i),r=t*B.sin(i)+e*B.cos(i);return{x:n,y:r}});if(h)S=h[0],A=h[1],C=h[2],E=h[3];else{u=g(e,i,-f),e=u.x,i=u.y,u=g(c,l,-f),c=u.x,l=u.y;var m=(B.cos(H/180*o),B.sin(H/180*o),(e-c)/2),y=(i-l)/2,v=m*m/(n*n)+y*y/(r*r);v>1&&(v=B.sqrt(v),n=v*n,r=v*r);var b=n*n,_=r*r,x=(s==a?-1:1)*B.sqrt(Y((b*_-b*y*y-_*m*m)/(b*y*y+_*m*m))),C=x*n*y/r+(e+c)/2,E=x*-r*m/n+(i+l)/2,S=B.asin(((i-E)/r).toFixed(9)),A=B.asin(((l-E)/r).toFixed(9));S=C>e?H-S:S,A=C>c?H-A:A,0>S&&(S=2*H+S),0>A&&(A=2*H+A),a&&S>A&&(S-=2*H),!a&&A>S&&(A-=2*H)}var w=A-S;if(Y(w)>d){var T=A,F=c,I=l;A=S+d*(a&&A>S?1:-1),c=C+n*B.cos(A),l=E+r*B.sin(A),p=O(c,l,n,r,o,0,a,F,I,[A,T,C,E])}w=A-S;var k=B.cos(S),L=B.sin(S),R=B.cos(A),N=B.sin(A),D=B.tan(w/4),P=4/3*n*D,M=4/3*r*D,j=[e,i],G=[e+P*L,i-M*k],W=[c+P*N,l-M*R],U=[c,l];if(G[0]=2*j[0]-G[0],G[1]=2*j[1]-G[1],h)return[G,W,U].concat(p);p=[G,W,U].concat(p).join().split(",");for(var X=[],z=0,V=p.length;V>z;z++)X[z]=z%2?g(p[z-1],p[z],f).y:g(p[z],p[z+1],f).x;return X}function F(t,e,i,n,r,o,s,a){for(var c,l,h,u,d,f,p,g,m=[],y=[[],[]],v=0;2>v;++v)if(0==v?(l=6*t-12*i+6*r,c=-3*t+9*i-9*r+3*s,h=3*i-3*t):(l=6*e-12*n+6*o,c=-3*e+9*n-9*o+3*a,h=3*n-3*e),Y(c)<1e-12){if(Y(l)<1e-12)continue;u=-h/l,u>0&&1>u&&m.push(u)}else p=l*l-4*h*c,g=B.sqrt(p),0>p||(d=(-l+g)/(2*c),d>0&&1>d&&m.push(d),f=(-l-g)/(2*c),f>0&&1>f&&m.push(f));for(var b,_=m.length,x=_;_--;)u=m[_],b=1-u,y[0][_]=b*b*b*t+3*b*b*u*i+3*b*u*u*r+u*u*u*s,y[1][_]=b*b*b*e+3*b*b*u*n+3*b*u*u*o+u*u*u*a;return y[0][x]=t,y[1][x]=e,y[0][x+1]=s,y[1][x+1]=a,y[0].length=y[1].length=x+2,{min:{x:G.apply(0,y[0]),y:G.apply(0,y[1])},max:{x:W.apply(0,y[0]),y:W.apply(0,y[1])}}}function I(t,e){var n=!e&&i(t);if(!e&&n.curve)return o(n.curve);for(var r=A(t),s=e&&A(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=(function(t,e,i){var n,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(O.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==i||"S"==i?(n=2*e.x-e.bx,r=2*e.y-e.by):(n=e.x,r=e.y),t=["C",n,r].concat(t.slice(1));break;case"T":"Q"==i||"T"==i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(T(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(T(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(w(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(w(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(w(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(w(e.x,e.y,e.X,e.Y))}return t}),h=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)d[e]="A",s&&(f[e]="A"),t.splice(e++,0,["C"].concat(i.splice(0,6)));t.splice(e,1),y=W(r.length,s&&s.length||0)}},u=function(t,e,i,n,o){t&&e&&"M"==t[o][0]&&"M"!=e[o][0]&&(e.splice(o,0,["M",n.x,n.y]),i.bx=0,i.by=0,i.x=t[o][1],i.y=t[o][2],y=W(r.length,s&&s.length||0))},d=[],f=[],p="",g="",m=0,y=W(r.length,s&&s.length||0);y>m;m++){r[m]&&(p=r[m][0]),"C"!=p&&(d[m]=p,m&&(g=d[m-1])),r[m]=l(r[m],a,g),"A"!=d[m]&&"C"==p&&(d[m]="C"),h(r,m),s&&(s[m]&&(p=s[m][0]),"C"!=p&&(f[m]=p,m&&(g=f[m-1])),s[m]=l(s[m],c,g),"A"!=f[m]&&"C"==p&&(f[m]="C"),h(s,m)),u(r,s,a,c,m),u(s,r,c,a,m);var v=r[m],b=s&&s[m],_=v.length,x=s&&b.length;a.x=v[_-2],a.y=v[_-1],a.bx=j(v[_-4])||a.x,a.by=j(v[_-3])||a.y,c.bx=s&&(j(b[x-4])||c.x),c.by=s&&(j(b[x-3])||c.y),c.x=s&&b[x-2],c.y=s&&b[x-1]}return s||(n.curve=o(r)),s?[r,s]:r}function k(t,e){if(!e)return t;var i,n,r,o,s,a,c;for(t=I(t),r=0,s=t.length;s>r;r++)for(c=t[r],o=1,a=c.length;a>o;o+=2)i=e.x(c[o],c[o+1]),n=e.y(c[o],c[o+1]),c[o]=i,c[o+1]=n;return t}function L(t,e){for(var i=[],n=0,r=t.length;r-2*!e>n;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4==n?o[3]={x:+t[0],y:+t[1]}:r-2==n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i}var R=e.prototype,N=t.is,D=t._.clone,P="hasOwnProperty",M=/,?([a-z]),?/gi,j=parseFloat,B=Math,H=B.PI,G=B.min,W=B.max,U=B.pow,Y=B.abs,X=a(1),z=a(),V=a(0,1),q=t._unit2px,K={path:function(t){return t.attr("path")},circle:function(t){var e=q(t);return E(e.cx,e.cy,e.r)},ellipse:function(t){var e=q(t);return E(e.cx||0,e.cy||0,e.rx,e.ry)},rect:function(t){var e=q(t);return C(e.x||0,e.y||0,e.width,e.height,e.rx,e.ry)},image:function(t){var e=q(t);return C(e.x||0,e.y||0,e.width,e.height)},line:function(t){return"M"+[t.attr("x1")||0,t.attr("y1")||0,t.attr("x2"),t.attr("y2")]},polyline:function(t){return"M"+t.attr("points")},polygon:function(t){return"M"+t.attr("points")+"z"},deflt:function(t){var e=t.node.getBBox();return C(e.x,e.y,e.width,e.height)}};t.path=i,t.path.getTotalLength=X,t.path.getPointAtLength=z,t.path.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return V(t,e).end;var n=V(t,i,1);return e?V(n,e).end:n},R.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},R.getPointAtLength=function(t){return z(this.attr("d"),t)},R.getSubpath=function(e,i){return t.path.getSubpath(this.attr("d"),e,i)},t._.box=n,t.path.findDotsAtSegment=c,t.path.bezierBBox=l,t.path.isPointInsideBBox=h,t.closest=function(e,i,r,o){for(var s=100,a=n(e-s/2,i-s/2,s,s),c=[],l=r[0].hasOwnProperty("x")?function(t){return{x:r[t].x,y:r[t].y}}:function(t){return{x:r[t],y:o[t]}},u=0;1e6>=s&&!u;){for(var d=0,f=r.length;f>d;d++){var p=l(d);if(h(a,p.x,p.y)){u++,c.push(p);break}}u||(s*=2,a=n(e-s/2,i-s/2,s,s))}if(1e6!=s){var g,m=1/0;for(d=0,f=c.length;f>d;d++){var y=t.len(e,i,c[d].x,c[d].y);m>y&&(m=y,c[d].len=y,g=c[d])}return g}},t.path.isBBoxIntersect=u,t.path.intersection=y,t.path.intersectionNumber=v,t.path.isPointInside=_,t.path.getBBox=x,t.path.get=K,t.path.toRelative=S,t.path.toAbsolute=A,t.path.toCubic=I,t.path.map=k,t.path.toString=r,t.path.clone=o}),n.plugin(function(t){var n=Math.max,r=Math.min,o=function(t){if(this.items=[],this.bindings={},this.length=0,this.type="set",t)for(var e=0,i=t.length;i>e;e++)t[e]&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},s=o.prototype;s.push=function(){for(var t,e,i=0,n=arguments.length;n>i;i++)t=arguments[i],t&&(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},s.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},s.forEach=function(t,e){for(var i=0,n=this.items.length;n>i;i++)if(t.call(e,this.items[i],i)===!1)return this;return this},s.animate=function(n,r,o,s){"function"!=typeof o||o.length||(s=o,o=i.linear),n instanceof t._.Animation&&(s=n.callback,o=n.easing,r=o.dur,n=n.attr);var a=arguments;if(t.is(n,"array")&&t.is(a[a.length-1],"array"))var c=!0;var l,h=function(){l?this.b=l:l=this.b},u=0,d=this,f=s&&function(){++u==d.length&&s.call(this)};return this.forEach(function(t,i){e.once("snap.animcreated."+t.id,h),c?a[i]&&t.animate.apply(t,a[i]):t.animate(n,r,o,f)})},s.remove=function(){for(;this.length;)this.pop().remove();return this},s.bind=function(t,e,i){var n={};if("function"==typeof e)this.bindings[t]=e;else{var r=i||t;this.bindings[t]=function(t){n[r]=t,e.attr(n)}}return this},s.attr=function(t){var e={};for(var i in t)this.bindings[i]?this.bindings[i](t[i]):e[i]=t[i];for(var n=0,r=this.items.length;r>n;n++)this.items[n].attr(e);return this},s.clear=function(){for(;this.length;)this.pop()},s.splice=function(t,e){t=0>t?n(this.length+t,0):t,e=n(0,r(this.length-t,e));var i,s=[],a=[],c=[];for(i=2;i<arguments.length;i++)c.push(arguments[i]);for(i=0;e>i;i++)a.push(this[t+i]);for(;i<this.length-t;i++)s.push(this[t+i]);var l=c.length;for(i=0;i<l+s.length;i++)this.items[t+i]=this[t+i]=l>i?c[i]:s[i-l];for(i=this.items.length=this.length-=e-l;this[i];)delete this[i++];return new o(a)},s.exclude=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]==t)return this.splice(e,1),!0;return!1},s.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},s.getBBox=function(){for(var t=[],e=[],i=[],o=[],s=this.items.length;s--;)if(!this.items[s].removed){var a=this.items[s].getBBox();t.push(a.x),e.push(a.y),i.push(a.x+a.width),o.push(a.y+a.height)}return t=r.apply(0,t),e=r.apply(0,e),i=n.apply(0,i),o=n.apply(0,o),{x:t,y:e,x2:i,y2:o,width:i-t,height:o-e,cx:t+(i-t)/2,cy:e+(o-e)/2}},s.clone=function(t){t=new o;for(var e=0,i=this.items.length;i>e;e++)t.push(this.items[e].clone());return t},s.toString=function(){return"Snap\u2018s set"},s.type="set",t.Set=o,t.set=function(){var t=new o;return arguments.length&&t.push.apply(t,Array.prototype.slice.call(arguments,0)),t}}),n.plugin(function(t,i){function n(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}function r(e,i,r){i=g(i).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],i=t.parseTransformString(i)||[];for(var o,s,a,c,u=Math.max(e.length,i.length),d=[],f=[],p=0;u>p;p++){if(a=e[p]||n(i[p]),c=i[p]||n(a),a[0]!=c[0]||"r"==a[0].toLowerCase()&&(a[2]!=c[2]||a[3]!=c[3])||"s"==a[0].toLowerCase()&&(a[3]!=c[3]||a[4]!=c[4])){e=t._.transform2matrix(e,r()),i=t._.transform2matrix(i,r()),d=[["m",e.a,e.b,e.c,e.d,e.e,e.f]],f=[["m",i.a,i.b,i.c,i.d,i.e,i.f]];break}for(d[p]=[],f[p]=[],o=0,s=Math.max(a.length,c.length);s>o;o++)o in a&&(d[p][o]=a[o]),o in c&&(f[p][o]=c[o])}return{from:h(d),to:h(f),f:l(d)}}function o(t){return t}function s(t){return function(e){return+e.toFixed(3)+t}}function a(t){return t.join(" ")}function c(e){return t.rgb(e[0],e[1],e[2])}function l(t){var e,i,n,r,o,s,a=0,c=[];for(e=0,i=t.length;i>e;e++){for(o="[",s=['"'+t[e][0]+'"'],n=1,r=t[e].length;r>n;n++)s[n]="val["+a++ +"]";o+=s+"]",c[e]=o}return Function("val","return Snap.path.toString.call(["+c+"])")}function h(t){for(var e=[],i=0,n=t.length;n>i;i++)for(var r=1,o=t[i].length;o>r;r++)e.push(t[i][r]);return e}function u(t){return isFinite(parseFloat(t))}function d(e,i){return t.is(e,"array")&&t.is(i,"array")?e.toString()==i.toString():!1}var f={},p=/[a-z]+$/i,g=String;f.stroke=f.fill="colour",i.prototype.equal=function(t,i){return e("snap.util.equal",this,t,i).firstDefined()},e.on("snap.util.equal",function(e,i){var n,m,y=g(this.attr(e)||""),v=this;if(u(y)&&u(i))return{from:parseFloat(y),to:parseFloat(i),f:o};if("colour"==f[e])return n=t.color(y),m=t.color(i),{from:[n.r,n.g,n.b,n.opacity],to:[m.r,m.g,m.b,m.opacity],f:c};if("viewBox"==e)return n=this.attr(e).vb.split(" ").map(Number),m=i.split(" ").map(Number),{from:n,to:m,f:a};if("transform"==e||"gradientTransform"==e||"patternTransform"==e)return i instanceof t.Matrix&&(i=i.toTransformString()),t._.rgTransform.test(i)||(i=t._.svgTransform2string(i)),r(y,i,function(){return v.getBBox(1)});if("d"==e||"path"==e)return n=t.path.toCubic(y,i),{from:h(n[0]),to:h(n[1]),f:l(n[0])};if("points"==e)return n=g(y).split(t._.separator),m=g(i).split(t._.separator),{from:n,to:m,f:function(t){return t}};var b=y.match(p),_=g(i).match(p);return b&&d(b,_)?{from:parseFloat(y),to:parseFloat(i),f:s(b)}:{from:this.asPX(e),to:this.asPX(e,i),f:o}})}),n.plugin(function(t,i,n,r){for(var o=i.prototype,s="hasOwnProperty",a=("createTouch"in r.doc),c=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],l={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},h=(function(t,e){var i="y"==t?"scrollTop":"scrollLeft",n=e&&e.node?e.node.ownerDocument:r.doc;return n[i in n.documentElement?"documentElement":"body"][i]}),u=function(){return this.originalEvent.preventDefault()},d=function(){return this.originalEvent.stopPropagation()},f=function(t,e,i,n){var r=a&&l[e]?l[e]:e,o=function(r){var o=h("y",n),c=h("x",n);if(a&&l[s](e))for(var f=0,p=r.targetTouches&&r.targetTouches.length;p>f;f++)if(r.targetTouches[f].target==t||t.contains(r.targetTouches[f].target)){var g=r;r=r.targetTouches[f],r.originalEvent=g,r.preventDefault=u,r.stopPropagation=d;break}var m=r.clientX+c,y=r.clientY+o;return i.call(n,r,m,y)};return e!==r&&t.addEventListener(e,o,!1),t.addEventListener(r,o,!1),function(){return e!==r&&t.removeEventListener(e,o,!1),t.removeEventListener(r,o,!1),!0}},p=[],g=function(t){for(var i,n=t.clientX,r=t.clientY,o=h("y"),s=h("x"),c=p.length;c--;){if(i=p[c],a){for(var l,u=t.touches&&t.touches.length;u--;)if(l=t.touches[u],l.identifier==i.el._drag.id||i.el.node.contains(l.target)){n=l.clientX,r=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var d=i.el.node;d.nextSibling,d.parentNode,d.style.display;n+=s,r+=o,e("snap.drag.move."+i.el.id,i.move_scope||i.el,n-i.el._drag.x,r-i.el._drag.y,n,r,t)}},m=function(i){t.unmousemove(g).unmouseup(m);for(var n,r=p.length;r--;)n=p[r],n.el._drag={},e("snap.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,i),e.off("snap.drag.*."+n.el.id);p=[]},y=c.length;y--;)!function(e){t[e]=o[e]=function(i,n){if(t.is(i,"function"))this.events=this.events||[],this.events.push({name:e,f:i,unbind:f(this.node||document,e,i,n||this)});else for(var r=0,o=this.events.length;o>r;r++)if(this.events[r].name==e)try{this.events[r].f.call(this)}catch(s){}return this},t["un"+e]=o["un"+e]=function(t){for(var i=this.events||[],n=i.length;n--;)if(i[n].name==e&&(i[n].f==t||!t))return i[n].unbind(),i.splice(n,1),!i.length&&delete this.events,this;return this}}(c[y]);o.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},o.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var v=[];o.drag=function(i,n,r,o,s,a){function c(c,l,u){(c.originalEvent||c).preventDefault(),h._drag.x=l,h._drag.y=u,h._drag.id=c.identifier,!p.length&&t.mousemove(g).mouseup(m),p.push({el:h,move_scope:o,start_scope:s,end_scope:a}),n&&e.on("snap.drag.start."+h.id,n),i&&e.on("snap.drag.move."+h.id,i),r&&e.on("snap.drag.end."+h.id,r),e("snap.drag.start."+h.id,s||o||h,l,u,c)}function l(t,i,n){e("snap.draginit."+h.id,h,t,i,n)}var h=this;if(!arguments.length){var u;return h.drag(function(t,e){this.attr({transform:u+(u?"T":"t")+[t,e]})},function(){u=this.transform().local})}return e.on("snap.draginit."+h.id,c),h._drag={},v.push({el:h,start:c,init:l}),h.mousedown(l),h},o.undrag=function(){for(var i=v.length;i--;)v[i].el==this&&(this.unmousedown(v[i].init),v.splice(i,1),e.unbind("snap.drag.*."+this.id),e.unbind("snap.draginit."+this.id));return!v.length&&t.unmousemove(g).unmouseup(m),this}}),n.plugin(function(t,i,n){var r=(i.prototype,n.prototype),o=/^\s*url\((.+)\)/,s=String,a=t._.$;t.filter={},r.filter=function(e){var n=this;"svg"!=n.type&&(n=n.paper);var r=t.parse(s(e)),o=t._.id(),c=(n.node.offsetWidth,n.node.offsetHeight,a("filter"));return a(c,{id:o,filterUnits:"userSpaceOnUse"}),c.appendChild(r.node),n.defs.appendChild(c),new i(c)},e.on("snap.util.getattr.filter",function(){e.stop();var i=a(this.node,"filter");if(i){var n=s(i).match(o);return n&&t.select(n[1])}}),e.on("snap.util.attr.filter",function(n){if(n instanceof i&&"filter"==n.type){e.stop();var r=n.node.id;r||(a(n.node,{id:n.id}),r=n.id),a(this.node,{filter:t.url(r)})}n&&"none"!=n||(e.stop(),this.node.removeAttribute("filter"))}),t.filter.blur=function(e,i){null==e&&(e=2);var n=null==i?e:[e,i];return t.format('<feGaussianBlur stdDeviation="{def}"/>',{def:n})},t.filter.blur.toString=function(){return this()},t.filter.shadow=function(e,i,n,r,o){return"string"==typeof n&&(r=n,o=r,n=4),"string"!=typeof r&&(o=r,r="#000"),r=r||"#000",null==n&&(n=4),null==o&&(o=1),null==e&&(e=0,i=2),null==i&&(i=e),r=t.color(r),t.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:r,dx:e,dy:i,blur:n,opacity:o})},t.filter.shadow.toString=function(){return this()},t.filter.grayscale=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},t.filter.grayscale.toString=function(){return this()},t.filter.sepia=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},t.filter.sepia.toString=function(){return this()},t.filter.saturate=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-e})},t.filter.saturate.toString=function(){return this()},t.filter.hueRotate=function(e){return e=e||0,t.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:e})},t.filter.hueRotate.toString=function(){return this()},t.filter.invert=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:e,amount2:1-e})},t.filter.invert.toString=function(){return this()},t.filter.brightness=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:e})},t.filter.brightness.toString=function(){return this()},t.filter.contrast=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:e,amount2:.5-e/2})},t.filter.contrast.toString=function(){return this()}}),n.plugin(function(t,e){var i=t._.box,n=t.is,r=/^[^a-z]*([tbmlrc])/i,o=function(){return"T"+this.dx+","+this.dy};e.prototype.getAlign=function(t,e){null==e&&n(t,"string")&&(e=t,t=null),t=t||this.paper;var s=t.getBBox?t.getBBox():i(t),a=this.getBBox(),c={};switch(e=e&&e.match(r),e=e?e[1].toLowerCase():"c"){case"t":c.dx=0,c.dy=s.y-a.y;break;case"b":c.dx=0,c.dy=s.y2-a.y2;break;case"m":c.dx=0,c.dy=s.cy-a.cy;break;case"l":c.dx=s.x-a.x,c.dy=0;break;case"r":c.dx=s.x2-a.x2,c.dy=0;break;default:c.dx=s.cx-a.cx,c.dy=0}return c.toString=o,c},e.prototype.align=function(t,e){return this.transform("..."+this.getAlign(t,e))}}),n});var canvas,imgElement,imgInstance,butn,cod,line_for_print,caseImage,overIm,preOverIm,imgData,overlay="/assets/cases/i6t.png",overlay_line="/assets/cases/i6t_l.png",overlay_mobile,overlay_line_mobile,text,ready=function(){if(window.matchMedia("(max-width: 767px)").matches&&(overlay="/assets/cases/i6t_mobile.png",overlay_line="/assets/cases/i6t_l_mobile.png"),createCanvas(),$("#product_phonetype_id").change(function(){2==$(this).val()||3==$(this).val()?canvas.setOverlayImage("/assets/cases/i5.png",canvas.renderAll.bind(canvas)):7==$(this).val()?canvas.setOverlayImage("/assets/cases/gs5t.png",canvas.renderAll.bind(canvas)):9==$(this).val()?canvas.setOverlayImage("/assets/cases/gs6t.png",canvas.renderAll.bind(canvas)):8==$(this).val()?canvas.setOverlayImage("/assets/cases/motog.png",canvas.renderAll.bind(canvas)):4==$(this).val()?canvas.setOverlayImage("/assets/cases/i6.png",canvas.renderAll.bind(canvas)):5==$(this).val()?canvas.setOverlayImage("/assets/cases/i6t.png",canvas.renderAll.bind(canvas)):6==$(this).val()?canvas.setOverlayImage("/assets/cases/i6pt.png",canvas.renderAll.bind(canvas)):1==$(this).val()&&canvas.setOverlayImage("/assets/cases/i4t.png",canvas.renderAll.bind(canvas))}),"admin"!==window.location.pathname.split("/")[1]){$("#phoneTypeDropDown li a").click(function(t){var e=$(t.target).text();$("#dropdownMenu3 p").html(e),"2"===t.target.id?(canvas.setOverlayImage("/assets/cases/i5.png",canvas.renderAll.bind(canvas)),overlay="/assets/cases/i5.png",overlay_line="/assets/cases/i5_l.png",$("#phone_type_name").val("2")):"3"===t.target.id?(canvas.setOverlayImage("/assets/cases/i5t.png",canvas.renderAll.bind(canvas)),overlay="/assets/cases/i5t.png",overlay_line="/assets/cases/i5t_l.png",$("#phone_type_name").val("3")):"7"===t.target.id?(canvas.setOverlayImage("/assets/cases/gs5t.png",canvas.renderAll.bind(canvas)),overlay="/assets/cases/gs5t.png",overlay_line="/assets/cases/gs5t_l.png",$("#phone_type_name").val("7")):"9"===t.target.id?(canvas.setOverlayImage("/assets/cases/gs6t.png",canvas.renderAll.bind(canvas)),overlay="/assets/cases/gs6t.png",overlay_line="/assets/cases/gs6t_l.png",$("#phone_type_name").val("9")):"8"===t.target.id?(canvas.setOverlayImage("/assets/cases/motog.png",canvas.renderAll.bind(canvas)),overlay="/assets/cases/motog.png",overlay_line="/assets/cases/motog_l.png",$("#phone_type_name").val("8")):"4"===t.target.id?(canvas.setOverlayImage("/assets/cases/i6.png",canvas.renderAll.bind(canvas)),overlay="/assets/cases/i6.png",overlay_line="/assets/cases/i6_l.png",$("#phone_type_name").val("4")):"5"===t.target.id?(canvas.setOverlayImage("/assets/cases/i6t.png",canvas.renderAll.bind(canvas)),overlay="/assets/cases/i6t.png",overlay_line="/assets/cases/i6t_l.png",overlay_mobile="/assets/cases/i6t_mobile.png",overlay_line_mobile="/assets/cases/i6t_l_mobile.png",$("#phone_type_name").val("5")):"6"===t.target.id?(canvas.setOverlayImage("/assets/cases/i6pt.png",canvas.renderAll.bind(canvas)),overlay="/assets/cases/i6pt.png",overlay_line="/assets/cases/i6pt_l.png",$("#phone_type_name").val("6")):"1"===t.target.id&&(canvas.setOverlayImage("/assets/cases/i4t.png",canvas.renderAll.bind(canvas)),overlay="/assets/cases/i4t.png",overlay_line="/assets/cases/i4t_l.png",$("#phone_type_name").val("1"))}),$("canvas").mouseover(function(){canvas.setOverlayImage(null,canvas.renderAll.bind(canvas)),canvas.setOverlayImage(overlay_line,canvas.renderAll.bind(canvas))}),$("canvas").mouseout(function(){window.matchMedia("(max-width: 767px)").matches?canvas.setOverlayImage(overlay_mobile,canvas.renderAll.bind(canvas)):canvas.setOverlayImage(overlay,canvas.renderAll.bind(canvas)),canvas.deactivateAll().renderAll()}),$(".color_button").click(function(){var t=$(this).css("background-color"),e=rgb2hex(t);$("#back_color").attr("value",e),canvas.setBackgroundColor(t,canvas.renderAll.bind(canvas))}),$("#back_color").change(function(){var t=$(this).val();canvas.setBackgroundColor(t,canvas.renderAll.bind(canvas))});var t=$(".tab-content").width();$("#newtext").emojiPicker({height:"300px",width:t}),$("section .emoji").click(function(t){var e=$(t.target).attr("class").split("emoji-")[1],i=toUnicode(findEmoji(e).unicode),n=new fabric.Text(i,{fontSize:"70",top:150,left:250,selectable:!0});canvas.add(n)}),$("#scale-control").change(function(){var t=canvas.getActiveObject();t.scale(parseFloat(this.value)).setCoords(),canvas.renderAll()}),$("#angle-control").change(function(){var t=canvas.getActiveObject();t.setAngle(parseInt(this.value,10)).setCoords(),canvas.renderAll()}),$("#fontSizeDropDown li a").click(function(t){var e=$(t.target).text();$("#dropdownMenu1").html(e).width(40).append("<span class='caret'></span>")}),$("#fontFamilyDropDown li a").click(function(t){var e=$(t.target).text();$("#dropdownMenu2").html(e).width(300).append("<span class='caret'></span>")}),$("#textCreation").click(function(){$(".text-edition-box").toggle();var t="Editar texto",e="30",i="Century Gothic",n="black";text=new fabric.IText(t,{fontFamily:i,top:150,left:250,fill:n,fontSize:e}),canvas.add(text),canvas.setActiveObject(text),$("#text_to_canvas").val("Editar texto"),$("#text_to_canvas").on("input",function(){text.text=$(this).val(),canvas.renderAll()}),$(".color_button2").click(function(){var t=$(this).css("background-color"),e=rgb2hex(t);text.setColor(e),canvas.renderAll()}),$("#dropdownMenu2").bind("DOMSubtreeModified",function(){i=$(this).html().split("<")[0],text.fontFamily=i,canvas.renderAll()}),$("#dropdownMenu1").bind("DOMSubtreeModified",function(){e=$(this).html().split("<")[0],text.fontSize=e,canvas.renderAll(),text.setActiveObject()})}),$("#generar").click(function(){var t=canvas.overlayImage;canvas.overlayImage=null,canvas.deactivateAll().renderAll(),$("#image_to_print").val(canvas.toDataURL("image/png")),canvas.overlayImage=t,canvas.deactivateAll().renderAll(),$("#picture_url").val(canvas.toDataURL("image/png"))})}else $(".designtocase").click(function(t){imgData=t.target.src,fabric.Image.fromURL(imgData,function(t){canvas.add(t.set({left:0,top:0})),canvas.controlsAboveOverlay=!0,canvas.item(0).set({borderColor:"black",cornerColor:"black",cornerSize:20,transparentCorners:!1}),canvas.setActiveObject(canvas.item(0))},{crossOrigin:"anonymous"})}),$("#create").click(function(){canvas.deactivateAll().renderAll(),$("#newcaseimage").val(canvas.toDataURL("image/png"))});$(".uploadcare-widget-button-open")[0].innerHTML="Sube una imagen"},createCanvas=function(){canvas=new fabric.Canvas("c"),window.matchMedia("(max-width: 767px)").matches?(canvas.setHeight(300),canvas.setWidth(300),canvas.setOverlayImage("/assets/cases/i6t_mobile.png",canvas.renderAll.bind(canvas))):(canvas.setHeight(600),canvas.setWidth(600),canvas.setOverlayImage("/assets/cases/i6t.png",canvas.renderAll.bind(canvas)))},createImage=function(t){imgElement=$(".designtocase")[t],imgInstance=window.matchMedia("(max-width: 767px)").matches?new fabric.Image(imgElement,{height:300,width:300,scaleY:150/imgElement.width,scaleX:100/imgElement.width,left:0,top:0},{crossOrigin:"Anonymous"}):new fabric.Image(imgElement,{height:600,width:600,scaleY:300/imgElement.width,scaleX:200/imgElement.width,left:0,top:0},{crossOrigin:"Anonymous"})};$(document).ready(ready),$(document).on("page:load",ready);var ready2=function(){$(".hoverforcase").click(function(){var t=$(this).attr("src").replace("thumb","thumbBox"),e="#hovertry"+$(this).attr("design_id");$(e).attr("src",t)}),"http://localhost:3000"!==window.location.href?$(".navbar-default").hide():$(".navbar-default").removeClass("navbar-fixed-top"),$(".home4").hover(function(){$(".hideButton").toggle()}),$("#card-2").flip({axis:"x",trigger:"hover"});var t=$(".caption").height();$(".artists").height(t).width(t),$(".divider").height(t);var e;($(".caption").height()-$(".title").height())/2;$(".artists").hover(function(){e=$(this).css("background-image"),console.log(e),$(this).parent().attr("style","background-image: url('http://orig14.deviantart.net/405b/f/2012/180/b/f/pattern_variation_by_absurdwordpreferred-d55auet.jpg')"),$(this).siblings().hide(),$(this).css("background-image","none")},function(){$(this).parent().attr("style","background:none"),$(this).siblings().show(),$(this).css("background-image",e)});var i=function(){var t=uploadcare.Widget("[role=uploadcare-uploader]");t.onUploadComplete(function(t){var e="my-image-"+($(".designtocase").length+1);$("#wuju").append('<img class="designtocase" id="'+e+'" src="'+t.cdnUrl+'">'),makeDesignsClickable()})};i()},makeDesignsClickable=function(){$(".designtocase").click(function(t){imgData=t.target.src,fabric.Image.fromURL(imgData,function(t){canvas.add(t.set({left:0,top:0})),canvas.controlsAboveOverlay=!0,canvas.item(0).set({borderColor:"black",cornerColor:"black",cornerSize:20,transparentCorners:!1}),canvas.setActiveObject(canvas.item(0))},{crossOrigin:"anonymous"})})};$(document).ready(ready2),$(document).on("page:load",ready2);var ready=function(){var t=Snap("#svg"),e=t.path("M3.19866071,61.5714286 C2.53571429,61.5714286 1.87276786,61.3571429 1.20982143,60.7142857 C0.325892857,59.8571429 0.104910714,58.5714286 0.546875,57.5 L21.9821429,9.92857143 C22.6450893,8.42857143 24.4129464,7.78571429 25.7388393,8.42857143 C27.2857143,9.07142857 27.9486607,10.7857143 27.2857143,12.0714286 L8.94419643,52.5714286 L52.6986607,31.3571429 C54.0245536,30.7142857 55.7924107,31.1428571 56.4553571,32.6428571 C57.1183036,33.9285714 56.6763393,35.6428571 55.1294643,36.2857143 L4.52455357,61.1428571 C4.08258929,61.3571429 3.640625,61.5714286 3.19866071,61.5714286 L3.19866071,61.5714286 Z"),i=t.path("M65.515625,61.5714286 C65.0736607,61.5714286 64.6316964,61.5714286 64.1897321,61.3571429 L21.7611607,41.6428571 L21.7611607,41.6428571 C21.7611607,41.6428571 21.7611607,41.6428571 21.5401786,41.6428571 L12.7008929,37.5714286 C11.375,36.9285714 10.7120536,35.2142857 11.375,33.9285714 C12.0379464,32.6428571 13.8058036,32 15.1316964,32.6428571 L21.5401786,35.6428571 L37.0089286,2.21428571 C37.4508929,1.14285714 38.5558036,0.5 39.6607143,0.5 L39.6607143,0.5 C40.765625,0.5 41.8705357,1.14285714 42.3125,2.21428571 L68.1674107,57.9285714 C68.609375,59 68.3883929,60.2857143 67.5044643,61.1428571 C67.0625,61.1428571 66.3995536,61.5714286 65.515625,61.5714286 L65.515625,61.5714286 Z M26.84375,37.7857143 L59.7700893,53 L39.8816964,9.92857143 L26.84375,37.7857143 L26.84375,37.7857143 Z"),n=t.path("M65.91875,57.0703374 C66.5857143,57.0703374 67.2526786,57.2835319 67.9196429,57.9231156 C68.8089286,58.7758937 69.03125,60.055061 68.5866071,61.1210337 L47.0214286,108.450222 C46.3544643,109.942584 44.5758929,110.582167 43.2419643,109.942584 C41.6857143,109.303 41.01875,107.597444 41.6857143,106.318276 L60.1383929,66.0245081 L16.11875,87.1307676 C14.7848214,87.7703513 13.00625,87.3439622 12.3392857,85.8516004 C11.6723214,84.5724332 12.1169643,82.8668768 13.6732143,82.2272932 L64.8071429,57.709921 C65.0294643,57.2835319 65.4741071,57.0703374 65.91875,57.0703374 L65.91875,57.0703374 Z"),r=t.path("M3.22410714,57.0703374 C3.66875,57.0703374 4.11339286,57.0703374 4.55803571,57.2835319 L47.24375,76.8974297 L47.24375,76.8974297 L47.4660714,76.8974297 L56.3589286,80.948126 C57.6928571,81.5877096 58.3598214,83.2932659 57.6928571,84.5724332 C57.0258929,85.8516004 55.2473214,86.491184 53.9133929,85.8516004 L47.4660714,82.8668768 L31.9035714,116.125225 C31.4589286,117.191198 30.3473214,117.830782 29.2357143,117.830782 L29.2357143,117.830782 C28.1241071,117.830782 27.0125,117.191198 26.5678571,116.125225 L0.55625,60.6946446 C0.111607143,59.6286719 0.333928571,58.3495046 1.22321429,57.4967265 C1.89017857,57.2835319 2.55714286,57.0703374 3.22410714,57.0703374 L3.22410714,57.0703374 Z M42.3526786,80.7349314 L9.22678571,65.598119 L29.2357143,108.450222 L42.3526786,80.7349314 L42.3526786,80.7349314 Z"),o=t.rect(0,0,320.8,160.4,2,2),s=t.line(158.3,20.2,158.3,140.2),a=t.text(200,75,"arte"),c=t.text(200,110,"aparte"),l=e.getTotalLength(),h=i.getTotalLength(),u=n.getTotalLength(),d=r.getTotalLength(),f=Snap("#svgMenu");f.rect(0,8,170,98,2,2),f.text(40,60,"MENU").attr({stroke:"#fff","font-family":"Century Gothic","font-size":"30px",fill:"#fff"}),f.attr({stroke:"#000"}),a.attr({"font-family":"KitsuneUdon","font-size":"50px",stroke:"#fff"}),c.attr({"font-family":"KitsuneUdon","font-size":"50px"}),o.attr({fill:"#fff",stroke:"#fff",strokeWidth:4,"fill-opacity":0}),s.attr({stroke:"#fff",strokeWidth:4,"fill-opacity":0,strokeLinecap:"round",fill:"#fff"}),e.attr({stroke:"#fff",strokeWidth:4,transform:"translate(45 20)","stroke-dasharray":l+" "+l,"stroke-dashoffset":l}).animate({"stroke-dashoffset":3,fill:"#fff",stroke:"#fff",strokeWidth:1},4e3,mina.easein()),i.attr({stroke:"#fff",strokeWidth:4,transform:"translate(45 20)","stroke-dasharray":h+" "+h,"stroke-dashoffset":h}).animate({"stroke-dashoffset":10,fill:"#fff",stroke:"#ffffff",strokeWidth:1},4e3,mina.easein()),n.attr({stroke:"#fff",strokeWidth:4,transform:"translate(45 20)","stroke-dasharray":u+" "+u,"stroke-dashoffset":u}).animate({"stroke-dashoffset":10,fill:"#fff",stroke:"#ffffff",strokeWidth:1},4e3,mina.easein()),r.attr({stroke:"#fff",strokeWidth:4,transform:"translate(45 20)","stroke-dasharray":d+" "+d,"stroke-dashoffset":d}).animate({"stroke-dashoffset":10,fill:"#fff",stroke:"#ffffff",strokeWidth:1},4e3,mina.easein()),a.animate({stroke:"#fff",fill:"#fff","font-size":"53"},1e3,mina.bounce()),c.animate({stroke:"#fff",fill:"#fff","font-size":"40px"},2e3,mina.bounce()),s.animate({stroke:"#fff",x:300,y:700},2e3)};$(document).ready(ready),$(document).on("page:load",ready);var ready=function(){$("form#new_collection .has-error").length>0?($("#crearColeccion").modal("show"),
console.log("hello error coleccion")):$("form#new_designer .has-error").length>0&&$("#crearDisenador").modal("show"),$(".banner").hover(function(){$(this).addClass("bannerHover"),$(".marca",this).css("color","white"),$(".ver",this).toggle()},function(){$(this).removeClass("bannerHover"),$(".marca",this).css("color","black"),$(".ver",this).toggle()})};$(document).ready(ready),$(document).on("page:load",ready);