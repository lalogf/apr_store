/*!
 * masonryHorizontal layout mode for Isotope
 * http://isotope.metafizzy.co
 */
!function(t){"use strict";function e(t,e){var n=e.create("masonryHorizontal");return n.prototype._resetLayout=function(){this.getRowHeight(),this._getMeasurement("gutter","outerHeight"),this.rowHeight+=this.gutter,this.rows=Math.floor((this.isotope.size.innerHeight+this.gutter)/this.rowHeight),this.rows=Math.max(this.rows,1);var t=this.rows;for(this.rowXs=[];t--;)this.rowXs.push(0);this.maxX=0},n.prototype._getItemLayoutPosition=function(t){t.getSize();var e=Math.ceil(t.size.outerHeight/this.rowHeight);e=Math.min(e,this.rows);for(var n=this._getRowGroup(e),o=Math.min.apply(Math,n),r=i(n,o),s={x:o,y:this.rowHeight*r},a=o+t.size.outerWidth,c=this.rows+1-n.length,h=0;c>h;h++)this.rowXs[r+h]=a;return s},n.prototype._getRowGroup=function(t){if(2>t)return this.rowXs;for(var e=[],i=this.rows+1-t,n=0;i>n;n++){var o=this.rowXs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},n.prototype._manageStamp=function(e){var i=t(e),n=this.isotope._getElementOffset(e),o=this.isotope.options.isOriginTop?n.top:n.bottom,r=o+i.outerHeight,s=Math.floor(o/this.rowHeight);s=Math.max(0,s);var a=Math.floor(r/this.rowHeight);a=Math.min(this.rows-1,a);for(var c=(this.isotope.options.isOriginLeft?n.left:n.right)+i.outerWidth,h=s;a>=h;h++)this.rowXs[h]=Math.max(c,this.rowXs[h])},n.prototype._getContainerSize=function(){return this.maxX=Math.max.apply(Math,this.rowXs),{width:this.maxX}},n.prototype.needsResizeLayout=function(){return this.needsVerticalResizeLayout()},n}var i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++){var o=t[i];if(o===e)return i}return-1};"function"==typeof define&&define.amd?define(["get-size/get-size","isotope/js/layout-mode"],e):e(t.getSize,t.Isotope.LayoutMode)}(window);