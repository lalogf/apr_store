// Copyright (c) 2013 â€“ 2015 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
!function(t){var e,i,o="0.4.2",r="hasOwnProperty",n=/[\.\/]/,s=/\s*,\s*/,a="*",c=function(t,e){return t-e},h={n:{}},l=function(){for(var t=0,e=this.length;e>t;t++)if("undefined"!=typeof this[t])return this[t]},d=function(){for(var t=this.length;--t;)if("undefined"!=typeof this[t])return this[t]},u=function(t,o){t=String(t);var r,n=i,s=Array.prototype.slice.call(arguments,2),a=u.listeners(t),h=0,f=[],g={},p=[],m=e;p.firstDefined=l,p.lastDefined=d,e=t,i=0;for(var y=0,v=a.length;v>y;y++)"zIndex"in a[y]&&(f.push(a[y].zIndex),a[y].zIndex<0&&(g[a[y].zIndex]=a[y]));for(f.sort(c);f[h]<0;)if(r=g[f[h++]],p.push(r.apply(o,s)),i)return i=n,p;for(y=0;v>y;y++)if(r=a[y],"zIndex"in r)if(r.zIndex==f[h]){if(p.push(r.apply(o,s)),i)break;do if(h++,r=g[f[h]],r&&p.push(r.apply(o,s)),i)break;while(r)}else g[r.zIndex]=r;else if(p.push(r.apply(o,s)),i)break;return i=n,e=m,p};u._events=h,u.listeners=function(t){var e,i,o,r,s,c,l,d,u=t.split(n),f=h,g=[f],p=[];for(r=0,s=u.length;s>r;r++){for(d=[],c=0,l=g.length;l>c;c++)for(f=g[c].n,i=[f[u[r]],f[a]],o=2;o--;)e=i[o],e&&(d.push(e),p=p.concat(e.f||[]));g=d}return p},u.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var i=t.split(s),o=0,r=i.length;r>o;o++)!function(t){for(var i,o=t.split(n),r=h,s=0,a=o.length;a>s;s++)r=r.n,r=r.hasOwnProperty(o[s])&&r[o[s]]||(r[o[s]]={n:{}});for(r.f=r.f||[],s=0,a=r.f.length;a>s;s++)if(r.f[s]==e){i=!0;break}!i&&r.f.push(e)}(i[o]);return function(t){+t==+t&&(e.zIndex=+t)}},u.f=function(t){var e=[].slice.call(arguments,1);return function(){u.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},u.stop=function(){i=1},u.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},u.nts=function(){return e.split(n)},u.off=u.unbind=function(t,e){if(!t)return void(u._events=h={n:{}});var i=t.split(s);if(i.length>1)for(var o=0,c=i.length;c>o;o++)u.off(i[o],e);else{i=t.split(n);var l,d,f,o,c,g,p,m=[h];for(o=0,c=i.length;c>o;o++)for(g=0;g<m.length;g+=f.length-2){if(f=[g,1],l=m[g].n,i[o]!=a)l[i[o]]&&f.push(l[i[o]]);else for(d in l)l[r](d)&&f.push(l[d]);m.splice.apply(m,f)}for(o=0,c=m.length;c>o;o++)for(l=m[o];l.n;){if(e){if(l.f){for(g=0,p=l.f.length;p>g;g++)if(l.f[g]==e){l.f.splice(g,1);break}!l.f.length&&delete l.f}for(d in l.n)if(l.n[r](d)&&l.n[d].f){var y=l.n[d].f;for(g=0,p=y.length;p>g;g++)if(y[g]==e){y.splice(g,1);break}!y.length&&delete l.n[d].f}}else{delete l.f;for(d in l.n)l.n[r](d)&&l.n[d].f&&delete l.n[d].f}l=l.n}}},u.once=function(t,e){var i=function(){return u.unbind(t,i),e.apply(this,arguments)};return u.on(t,i)},u.version=o,u.toString=function(){return"You are running Eve "+o},"undefined"!=typeof module&&module.exports?module.exports=u:"function"==typeof define&&define.amd?define("eve",[],function(){return u}):t.eve=u}(this),function(t,e){if("function"==typeof define&&define.amd)define(["eve"],function(i){return e(t,i)});else if("undefined"!=typeof exports){var i=require("eve");module.exports=e(t,i)}else e(t,t.eve)}(window||this,function(t,e){// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
var i=function(e){var i={},o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},r=Array.isArray||function(t){return t instanceof Array||"[object Array]"==Object.prototype.toString.call(t)},n=0,s="M"+(+new Date).toString(36),a=function(){return s+(n++).toString(36)},c=Date.now||function(){return+new Date},h=function(t){var e=this;if(null==t)return e.s;var i=e.s-t;e.b+=e.dur*i,e.B+=e.dur*i,e.s=t},l=function(t){var e=this;return null==t?e.spd:void(e.spd=t)},d=function(t){var e=this;return null==t?e.dur:(e.s=e.s*t/e.dur,void(e.dur=t))},u=function(){var t=this;delete i[t.id],t.update(),e("mina.stop."+t.id,t)},f=function(){var t=this;t.pdif||(delete i[t.id],t.update(),t.pdif=t.get()-t.b)},g=function(){var t=this;t.pdif&&(t.b=t.get()-t.pdif,delete t.pdif,i[t.id]=t)},p=function(){var t,e=this;if(r(e.start)){t=[];for(var i=0,o=e.start.length;o>i;i++)t[i]=+e.start[i]+(e.end[i]-e.start[i])*e.easing(e.s)}else t=+e.start+(e.end-e.start)*e.easing(e.s);e.set(t)},m=function(){var t=0;for(var r in i)if(i.hasOwnProperty(r)){var n=i[r],s=n.get();t++,n.s=(s-n.b)/(n.dur/n.spd),n.s>=1&&(delete i[r],n.s=1,t--,function(t){setTimeout(function(){e("mina.finish."+t.id,t)})}(n)),n.update()}t&&o(m)},y=function(t,e,r,n,s,c,v){var b={id:a(),start:t,end:e,b:r,s:0,dur:n-r,spd:1,get:s,set:c,easing:v||y.linear,status:h,speed:l,duration:d,stop:u,pause:f,resume:g,update:p};i[b.id]=b;var _,C=0;for(_ in i)if(i.hasOwnProperty(_)&&(C++,2==C))break;return 1==C&&o(m),b};return y.time=c,y.getById=function(t){return i[t]||null},y.linear=function(t){return t},y.easeout=function(t){return Math.pow(t,1.7)},y.easein=function(t){return Math.pow(t,.48)},y.easeinout=function(t){if(1==t)return 1;if(0==t)return 0;var e=.48-t/1.04,i=Math.sqrt(.1734+e*e),o=i-e,r=Math.pow(Math.abs(o),1/3)*(0>o?-1:1),n=-i-e,s=Math.pow(Math.abs(n),1/3)*(0>n?-1:1),a=r+s+.5;return 3*(1-a)*a*a+a*a*a},y.backin=function(t){if(1==t)return 1;var e=1.70158;return t*t*((e+1)*t-e)},y.backout=function(t){if(0==t)return 0;t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},y.elastic=function(t){return t==!!t?t:Math.pow(2,-10*t)*Math.sin(2*(t-.075)*Math.PI/.3)+1},y.bounce=function(t){var e,i=7.5625,o=2.75;return 1/o>t?e=i*t*t:2/o>t?(t-=1.5/o,e=i*t*t+.75):2.5/o>t?(t-=2.25/o,e=i*t*t+.9375):(t-=2.625/o,e=i*t*t+.984375),e},t.mina=y,y}("undefined"==typeof e?function(){}:e),o=function(t){function i(t,e){if(t){if(t.nodeType)return S(t);if(r(t,"array")&&i.set)return i.set.apply(i,t);if(t instanceof v)return t;if(null==e)return t=x.doc.querySelector(String(t)),S(t)}return t=null==t?"100%":t,e=null==e?"100%":e,new C(t,e)}function o(t,e){if(e){if("#text"==t&&(t=x.doc.createTextNode(e.text||e["#text"]||"")),"#comment"==t&&(t=x.doc.createComment(e.text||e["#text"]||"")),"string"==typeof t&&(t=o(t)),"string"==typeof e)return 1==t.nodeType?"xlink:"==e.substring(0,6)?t.getAttributeNS(X,e.substring(6)):"xml:"==e.substring(0,4)?t.getAttributeNS(V,e.substring(4)):t.getAttribute(e):"text"==e?t.nodeValue:null;if(1==t.nodeType){for(var i in e)if(e[A](i)){var r=O(e[i]);r?"xlink:"==i.substring(0,6)?t.setAttributeNS(X,i.substring(6),r):"xml:"==i.substring(0,4)?t.setAttributeNS(V,i.substring(4),r):t.setAttribute(i,r):t.removeAttribute(i)}}else"text"in e&&(t.nodeValue=e.text)}else t=x.doc.createElementNS(V,t);return t}function r(t,e){return e=O.prototype.toLowerCase.call(e),"finite"==e?isFinite(t):"array"==e&&(t instanceof Array||Array.isArray&&Array.isArray(t))?!0:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||D.call(t).slice(8,-1).toLowerCase()==e}function n(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[A](i)&&(e[i]=n(t[i]));return e}function s(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function a(t,e,i){function o(){var r=Array.prototype.slice.call(arguments,0),n=r.join("\u2400"),a=o.cache=o.cache||{},c=o.count=o.count||[];return a[A](n)?(s(c,n),i?i(a[n]):a[n]):(c.length>=1e3&&delete a[c.shift()],c.push(n),a[n]=t.apply(e,r),i?i(a[n]):a[n])}return o}function c(t,e,i,o,r,n){if(null==r){var s=t-i,a=e-o;return s||a?(180+180*F.atan2(-a,-s)/k+360)%360:0}return c(t,e,r,n)-c(i,o,r,n)}function h(t){return t%360*k/180}function l(t){return 180*t/k%360}function d(t){var e=[];return t=t.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(t,i,o){return o=o.split(/\s*,\s*|\s+/),"rotate"==i&&1==o.length&&o.push(0,0),"scale"==i&&(o.length>2?o=o.slice(0,2):2==o.length&&o.push(0,0),1==o.length&&o.push(o[0],0,0)),e.push("skewX"==i?["m",1,0,F.tan(h(o[0])),1,0,0]:"skewY"==i?["m",1,F.tan(h(o[0])),0,1,0,0]:[i.charAt(0)].concat(o)),t}),e}function u(t,e){var o=te(t),r=new i.Matrix;if(o)for(var n=0,s=o.length;s>n;n++){var a,c,h,l,d,u=o[n],f=u.length,g=O(u[0]).toLowerCase(),p=u[0]!=g,m=p?r.invert():0;"t"==g&&2==f?r.translate(u[1],0):"t"==g&&3==f?p?(a=m.x(0,0),c=m.y(0,0),h=m.x(u[1],u[2]),l=m.y(u[1],u[2]),r.translate(h-a,l-c)):r.translate(u[1],u[2]):"r"==g?2==f?(d=d||e,r.rotate(u[1],d.x+d.width/2,d.y+d.height/2)):4==f&&(p?(h=m.x(u[2],u[3]),l=m.y(u[2],u[3]),r.rotate(u[1],h,l)):r.rotate(u[1],u[2],u[3])):"s"==g?2==f||3==f?(d=d||e,r.scale(u[1],u[f-1],d.x+d.width/2,d.y+d.height/2)):4==f?p?(h=m.x(u[2],u[3]),l=m.y(u[2],u[3]),r.scale(u[1],u[1],h,l)):r.scale(u[1],u[1],u[2],u[3]):5==f&&(p?(h=m.x(u[3],u[4]),l=m.y(u[3],u[4]),r.scale(u[1],u[2],h,l)):r.scale(u[1],u[2],u[3],u[4])):"m"==g&&7==f&&r.add(u[1],u[2],u[3],u[4],u[5],u[6])}return r}function f(t){var e=t.node.ownerSVGElement&&S(t.node.ownerSVGElement)||t.node.parentNode&&S(t.node.parentNode)||i.select("svg")||i(0,0),o=e.select("defs"),r=null==o?!1:o.node;return r||(r=_("defs",e.node).node),r}function p(t){return t.node.ownerSVGElement&&S(t.node.ownerSVGElement)||i.select("svg")}function m(t,e,i){function r(t){if(null==t)return N;if(t==+t)return t;o(h,{width:t});try{return h.getBBox().width}catch(e){return 0}}function n(t){if(null==t)return N;if(t==+t)return t;o(h,{height:t});try{return h.getBBox().height}catch(e){return 0}}function s(o,r){null==e?c[o]=r(t.attr(o)||0):o==e&&(c=r(null==i?t.attr(o)||0:i))}var a=p(t).node,c={},h=a.querySelector(".svg---mgr");switch(h||(h=o("rect"),o(h,{x:-9e9,y:-9e9,width:10,height:10,"class":"svg---mgr",fill:"none"}),a.appendChild(h)),t.type){case"rect":s("rx",r),s("ry",n);case"image":s("width",r),s("height",n);case"text":s("x",r),s("y",n);break;case"circle":s("cx",r),s("cy",n),s("r",r);break;case"ellipse":s("cx",r),s("cy",n),s("rx",r),s("ry",n);break;case"line":s("x1",r),s("x2",r),s("y1",n),s("y2",n);break;case"marker":s("refX",r),s("markerWidth",r),s("refY",n),s("markerHeight",n);break;case"radialGradient":s("fx",r),s("fy",n);break;case"tspan":s("dx",r),s("dy",n);break;default:s(e,r)}return a.removeChild(h),c}function y(t){r(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var e=0,i=0,o=this.node;this[e];)delete this[e++];for(e=0;e<t.length;e++)"set"==t[e].type?t[e].forEach(function(t){o.appendChild(t.node)}):o.appendChild(t[e].node);var n=o.childNodes;for(e=0;e<n.length;e++)this[i++]=S(n[e]);return this}function v(t){if(t.snap in z)return z[t.snap];var e;try{e=t.ownerSVGElement}catch(i){}this.node=t,e&&(this.paper=new C(e)),this.type=t.tagName||t.nodeName;var o=this.id=Y(this);if(this.anims={},this._={transform:[]},t.snap=o,z[o]=this,"g"==this.type&&(this.add=y),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var r in C.prototype)C.prototype[A](r)&&(this[r]=C.prototype[r])}function b(t){this.node=t}function _(t,e){var i=o(t);e.appendChild(i);var r=S(i);return r}function C(t,e){var i,r,n,s=C.prototype;if(t&&"svg"==t.tagName){if(t.snap in z)return z[t.snap];var a=t.ownerDocument;i=new v(t),r=t.getElementsByTagName("desc")[0],n=t.getElementsByTagName("defs")[0],r||(r=o("desc"),r.appendChild(a.createTextNode("Created with Snap")),i.node.appendChild(r)),n||(n=o("defs"),i.node.appendChild(n)),i.defs=n;for(var c in s)s[A](c)&&(i[c]=s[c]);i.paper=i.root=i}else i=_("svg",x.doc.body),o(i.node,{height:e,version:1.1,width:t,xmlns:V});return i}function S(t){return t?t instanceof v||t instanceof b?t:t.tagName&&"svg"==t.tagName.toLowerCase()?new C(t):t.tagName&&"object"==t.tagName.toLowerCase()&&"image/svg+xml"==t.type?new C(t.contentDocument.getElementsByTagName("svg")[0]):new v(t):t}function E(t,e){for(var i=0,o=t.length;o>i;i++){var r={type:t[i].type,attr:t[i].attr()},n=t[i].children();e.push(r),n.length&&E(n,r.childNodes=[])}}i.version="0.4.0",i.toString=function(){return"Snap v"+this.version},i._={};var x={win:t.window,doc:t.window.document};i._.glob=x;{var A="hasOwnProperty",O=String,T=parseFloat,w=parseInt,F=Math,I=F.max,L=F.min,R=F.abs,k=(F.pow,F.PI),N=(F.round,""),D=Object.prototype.toString,P=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,M=(i._.separator=/[,\s]+/,/[\s]*,[\s]*/),B={hs:1,rg:1},j=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,G=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,H=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/gi,W=0,U="S"+(+new Date).toString(36),Y=function(t){return(t&&t.type?t.type:N)+U+(W++).toString(36)},X="http://www.w3.org/1999/xlink",V="http://www.w3.org/2000/svg",z={};i.url=function(t){return"url('#"+t+"')"}}i._.$=o,i._.id=Y,i.format=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,o){var r=o;return i.replace(e,function(t,e,i,o,n){e=e||o,r&&(e in r&&(r=r[e]),"function"==typeof r&&n&&(r=r()))}),r=(null==r||r==o?t:r)+""};return function(e,o){return O(e).replace(t,function(t,e){return i(t,e,o)})}}(),i._.clone=n,i._.cacher=a,i.rad=h,i.deg=l,i.sin=function(t){return F.sin(i.rad(t))},i.tan=function(t){return F.tan(i.rad(t))},i.cos=function(t){return F.cos(i.rad(t))},i.asin=function(t){return i.deg(F.asin(t))},i.acos=function(t){return i.deg(F.acos(t))},i.atan=function(t){return i.deg(F.atan(t))},i.atan2=function(t){return i.deg(F.atan2(t))},i.angle=c,i.len=function(t,e,o,r){return Math.sqrt(i.len2(t,e,o,r))},i.len2=function(t,e,i,o){return(t-i)*(t-i)+(e-o)*(e-o)},i.closestPoint=function(t,e,i){function o(t){var o=t.x-e,r=t.y-i;return o*o+r*r}for(var r,n,s,a,c=t.node,h=c.getTotalLength(),l=h/c.pathSegList.numberOfItems*.125,d=1/0,u=0;h>=u;u+=l)(a=o(s=c.getPointAtLength(u)))<d&&(r=s,n=u,d=a);for(l*=.5;l>.5;){var f,g,p,m,y,v;(p=n-l)>=0&&(y=o(f=c.getPointAtLength(p)))<d?(r=f,n=p,d=y):(m=n+l)<=h&&(v=o(g=c.getPointAtLength(m)))<d?(r=g,n=m,d=v):l*=.5}return r={x:r.x,y:r.y,length:n,distance:Math.sqrt(d)}},i.is=r,i.snapTo=function(t,e,i){if(i=r(i,"finite")?i:10,r(t,"array")){for(var o=t.length;o--;)if(R(t[o]-e)<=i)return t[o]}else{t=+t;var n=e%t;if(i>n)return e-n;if(n>t-i)return e-n+t}return e},i.getRGB=a(function(t){if(!t||(t=O(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Q};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:Q};if(!(B[A](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=K(t)),!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Q};var e,o,n,s,a,c,h=t.match(P);return h?(h[2]&&(n=w(h[2].substring(5),16),o=w(h[2].substring(3,5),16),e=w(h[2].substring(1,3),16)),h[3]&&(n=w((a=h[3].charAt(3))+a,16),o=w((a=h[3].charAt(2))+a,16),e=w((a=h[3].charAt(1))+a,16)),h[4]&&(c=h[4].split(M),e=T(c[0]),"%"==c[0].slice(-1)&&(e*=2.55),o=T(c[1]),"%"==c[1].slice(-1)&&(o*=2.55),n=T(c[2]),"%"==c[2].slice(-1)&&(n*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(s=T(c[3])),c[3]&&"%"==c[3].slice(-1)&&(s/=100)),h[5]?(c=h[5].split(M),e=T(c[0]),"%"==c[0].slice(-1)&&(e/=100),o=T(c[1]),"%"==c[1].slice(-1)&&(o/=100),n=T(c[2]),"%"==c[2].slice(-1)&&(n/=100),("deg"==c[0].slice(-3)||"\xb0"==c[0].slice(-1))&&(e/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(s=T(c[3])),c[3]&&"%"==c[3].slice(-1)&&(s/=100),i.hsb2rgb(e,o,n,s)):h[6]?(c=h[6].split(M),e=T(c[0]),"%"==c[0].slice(-1)&&(e/=100),o=T(c[1]),"%"==c[1].slice(-1)&&(o/=100),n=T(c[2]),"%"==c[2].slice(-1)&&(n/=100),("deg"==c[0].slice(-3)||"\xb0"==c[0].slice(-1))&&(e/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(s=T(c[3])),c[3]&&"%"==c[3].slice(-1)&&(s/=100),i.hsl2rgb(e,o,n,s)):(e=L(F.round(e),255),o=L(F.round(o),255),n=L(F.round(n),255),s=L(I(s,0),1),h={r:e,g:o,b:n,toString:Q},h.hex="#"+(16777216|n|o<<8|e<<16).toString(16).slice(1),h.opacity=r(s,"finite")?s:1,h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Q}},i),i.hsb=a(function(t,e,o){return i.hsb2rgb(t,e,o).hex}),i.hsl=a(function(t,e,o){return i.hsl2rgb(t,e,o).hex}),i.rgb=a(function(t,e,i,o){if(r(o,"finite")){var n=F.round;return"rgba("+[n(t),n(e),n(i),+o.toFixed(2)]+")"}return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)});var K=function(t){var e=x.doc.getElementsByTagName("head")[0]||x.doc.getElementsByTagName("svg")[0],i="rgb(255, 0, 0)";return(K=a(function(t){if("red"==t.toLowerCase())return i;e.style.color=i,e.style.color=t;var o=x.doc.defaultView.getComputedStyle(e,N).getPropertyValue("color");return o==i?null:o}))(t)},q=function(){return"hsb("+[this.h,this.s,this.b]+")"},$=function(){return"hsl("+[this.h,this.s,this.l]+")"},Q=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},J=function(t,e,o){if(null==e&&r(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(o=t.b,e=t.g,t=t.r),null==e&&r(t,string)){var n=i.getRGB(t);t=n.r,e=n.g,o=n.b}return(t>1||e>1||o>1)&&(t/=255,e/=255,o/=255),[t,e,o]},Z=function(t,e,o,n){t=F.round(255*t),e=F.round(255*e),o=F.round(255*o);var s={r:t,g:e,b:o,opacity:r(n,"finite")?n:1,hex:i.rgb(t,e,o),toString:Q};return r(n,"finite")&&(s.opacity=n),s};i.color=function(t){var e;return r(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=i.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):r(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=i.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):(r(t,"string")&&(t=i.getRGB(t)),r(t,"object")&&"r"in t&&"g"in t&&"b"in t&&!("error"in t)?(e=i.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=i.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1,t.error=1)),t.toString=Q,t},i.hsb2rgb=function(t,e,i,o){r(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,o=t.o,t=t.h),t*=360;var n,s,a,c,h;return t=t%360/60,h=i*e,c=h*(1-R(t%2-1)),n=s=a=i-h,t=~~t,n+=[h,c,0,0,c,h][t],s+=[c,h,h,c,0,0][t],a+=[0,0,c,h,h,c][t],Z(n,s,a,o)},i.hsl2rgb=function(t,e,i,o){r(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),t*=360;var n,s,a,c,h;return t=t%360/60,h=2*e*(.5>i?i:1-i),c=h*(1-R(t%2-1)),n=s=a=i-h/2,t=~~t,n+=[h,c,0,0,c,h][t],s+=[c,h,h,c,0,0][t],a+=[0,0,c,h,h,c][t],Z(n,s,a,o)},i.rgb2hsb=function(t,e,i){i=J(t,e,i),t=i[0],e=i[1],i=i[2];var o,r,n,s;return n=I(t,e,i),s=n-L(t,e,i),o=0==s?null:n==t?(e-i)/s:n==e?(i-t)/s+2:(t-e)/s+4,o=(o+360)%6*60/360,r=0==s?0:s/n,{h:o,s:r,b:n,toString:q}},i.rgb2hsl=function(t,e,i){i=J(t,e,i),t=i[0],e=i[1],i=i[2];var o,r,n,s,a,c;return s=I(t,e,i),a=L(t,e,i),c=s-a,o=0==c?null:s==t?(e-i)/c:s==e?(i-t)/c+2:(t-e)/c+4,o=(o+360)%6*60/360,n=(s+a)/2,r=0==c?0:.5>n?c/(2*n):c/(2-2*n),{h:o,s:r,l:n,toString:$}},i.parsePathString=function(t){if(!t)return null;var e=i.path(t);if(e.arr)return i.path.clone(e.arr);var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return r(t,"array")&&r(t[0],"array")&&(n=i.path.clone(t)),n.length||O(t).replace(j,function(t,e,i){var r=[],s=e.toLowerCase();if(i.replace(H,function(t,e){e&&r.push(+e)}),"m"==s&&r.length>2&&(n.push([e].concat(r.splice(0,2))),s="l",e="m"==e?"l":"L"),"o"==s&&1==r.length&&n.push([e,r[0]]),"r"==s)n.push([e].concat(r));else for(;r.length>=o[s]&&(n.push([e].concat(r.splice(0,o[s]))),o[s]););}),n.toString=i.path.toString,e.arr=i.path.clone(n),n};var te=i.parseTransformString=function(t){if(!t)return null;var e=[];return r(t,"array")&&r(t[0],"array")&&(e=i.path.clone(t)),e.length||O(t).replace(G,function(t,i,o){{var r=[];i.toLowerCase()}o.replace(H,function(t,e){e&&r.push(+e)}),e.push([i].concat(r))}),e.toString=i.path.toString,e};i._.svgTransform2string=d,i._.rgTransform=/^[a-z][\s]*-?\.?\d/i,i._.transform2matrix=u,i._unit2px=m;x.doc.contains||x.doc.compareDocumentPosition?function(t,e){var i=9==t.nodeType?t.documentElement:t,o=e&&e.parentNode;return t==o||!(!o||1!=o.nodeType||!(i.contains?i.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))}:function(t,e){if(e)for(;e;)if(e=e.parentNode,e==t)return!0;return!1};i._.getSomeDefs=f,i._.getSomeSVG=p,i.select=function(t){return t=O(t).replace(/([^\\]):/g,"$1\\:"),S(x.doc.querySelector(t))},i.selectAll=function(t){for(var e=x.doc.querySelectorAll(t),o=(i.set||Array)(),r=0;r<e.length;r++)o.push(S(e[r]));return o},setInterval(function(){for(var t in z)if(z[A](t)){var e=z[t],i=e.node;("svg"!=e.type&&!i.ownerSVGElement||"svg"==e.type&&(!i.parentNode||"ownerSVGElement"in i.parentNode&&!i.ownerSVGElement))&&delete z[t]}},1e4),v.prototype.attr=function(t,i){var o=this,n=o.node;if(!t){if(1!=n.nodeType)return{text:n.nodeValue};for(var s=n.attributes,a={},c=0,h=s.length;h>c;c++)a[s[c].nodeName]=s[c].nodeValue;return a}if(r(t,"string")){if(!(arguments.length>1))return e("snap.util.getattr."+t,o).firstDefined();var l={};l[t]=i,t=l}for(var d in t)t[A](d)&&e("snap.util.attr."+d,o,t[d]);return o},i.parse=function(t){var e=x.doc.createDocumentFragment(),i=!0,o=x.doc.createElement("div");if(t=O(t),t.match(/^\s*<\s*svg(?:\s|>)/)||(t="<svg>"+t+"</svg>",i=!1),o.innerHTML=t,t=o.getElementsByTagName("svg")[0])if(i)e=t;else for(;t.firstChild;)e.appendChild(t.firstChild);return new b(e)},i.fragment=function(){for(var t=Array.prototype.slice.call(arguments,0),e=x.doc.createDocumentFragment(),o=0,r=t.length;r>o;o++){var n=t[o];n.node&&n.node.nodeType&&e.appendChild(n.node),n.nodeType&&e.appendChild(n),"string"==typeof n&&e.appendChild(i.parse(n).node)}return new b(e)},i._.make=_,i._.wrap=S,C.prototype.el=function(t,e){var i=_(t,this.node);return e&&i.attr(e),i},v.prototype.children=function(){for(var t=[],e=this.node.childNodes,o=0,r=e.length;r>o;o++)t[o]=i(e[o]);return t},v.prototype.toJSON=function(){var t=[];return E([this],t),t[0]},e.on("snap.util.getattr",function(){var t=e.nt();t=t.substring(t.lastIndexOf(".")+1);var i=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});return ee[A](i)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(i):o(this.node,t)});var ee={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};e.on("snap.util.attr",function(t){var i=e.nt(),r={};i=i.substring(i.lastIndexOf(".")+1),r[i]=t;var n=i.replace(/-(\w)/gi,function(t,e){return e.toUpperCase()}),s=i.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});ee[A](s)?this.node.style[n]=null==t?N:t:o(this.node,r)}),function(){}(C.prototype),i.ajax=function(t,i,o,n){var s=new XMLHttpRequest,a=Y();if(s){if(r(i,"function"))n=o,o=i,i=null;else if(r(i,"object")){var c=[];for(var h in i)i.hasOwnProperty(h)&&c.push(encodeURIComponent(h)+"="+encodeURIComponent(i[h]));i=c.join("&")}return s.open(i?"POST":"GET",t,!0),i&&(s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-type","application/x-www-form-urlencoded")),o&&(e.once("snap.ajax."+a+".0",o),e.once("snap.ajax."+a+".200",o),e.once("snap.ajax."+a+".304",o)),s.onreadystatechange=function(){4==s.readyState&&e("snap.ajax."+a+"."+s.status,n,s)},4==s.readyState?s:(s.send(i),s)}},i.load=function(t,e,o){i.ajax(t,function(t){var r=i.parse(t.responseText);o?e.call(o,r):e(r)})};var ie=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,o=i.body,r=i.documentElement,n=r.clientTop||o.clientTop||0,s=r.clientLeft||o.clientLeft||0,a=e.top+(g.win.pageYOffset||r.scrollTop||o.scrollTop)-n,c=e.left+(g.win.pageXOffset||r.scrollLeft||o.scrollLeft)-s;return{y:a,x:c}};return i.getElementByPoint=function(t,e){var i=this,o=(i.canvas,x.doc.elementFromPoint(t,e));if(x.win.opera&&"svg"==o.tagName){var r=ie(o),n=o.createSVGRect();n.x=t-r.x,n.y=e-r.y,n.width=n.height=1;var s=o.getIntersectionList(n,null);s.length&&(o=s[s.length-1])}return o?S(o):null},i.plugin=function(t){t(i,v,C,x,b)},x.win.Snap=i,i}(t||this);// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2014 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// Copyright (c) 2014 Adobe Systems Incorporated. All rights reserved.
return o.plugin(function(o,r,n,s,a){function c(t,e){if(null==e){var i=!0;if(e=t.node.getAttribute("linearGradient"==t.type||"radialGradient"==t.type?"gradientTransform":"pattern"==t.type?"patternTransform":"transform"),!e)return new o.Matrix;e=o._.svgTransform2string(e)}else e=o._.rgTransform.test(e)?g(e).replace(/\.{3}|\u2026/g,t._.transform||""):o._.svgTransform2string(e),f(e,"array")&&(e=o.path?o.path.toString.call(e):g(e)),t._.transform=e;var r=o._.transform2matrix(e,t.getBBox(1));return i?r:void(t.matrix=r)}function h(t){function e(t,e){var i=m(t.node,e);i=i&&i.match(n),i=i&&i[2],i&&"#"==i.charAt()&&(i=i.substring(1),i&&(a[i]=(a[i]||[]).concat(function(i){var o={};o[e]=URL(i),m(t.node,o)})))}function i(t){var e=m(t.node,"xlink:href");e&&"#"==e.charAt()&&(e=e.substring(1),e&&(a[e]=(a[e]||[]).concat(function(e){t.attr("xlink:href","#"+e)})))}for(var o,r=t.selectAll("*"),n=/^\s*url\(("|'|)(.*)\1\)\s*$/,s=[],a={},c=0,h=r.length;h>c;c++){o=r[c],e(o,"fill"),e(o,"stroke"),e(o,"filter"),e(o,"mask"),e(o,"clip-path"),i(o);var l=m(o.node,"id");l&&(m(o.node,{id:o.id}),s.push({old:l,id:o.id}))}for(c=0,h=s.length;h>c;c++){var d=a[s[c].old];if(d)for(var u=0,f=d.length;f>u;u++)d[u](s[c].id)}}function l(t,e,i){return function(o){var r=o.slice(t,e);return 1==r.length&&(r=r[0]),i?i(r):r}}function d(t){return function(){var e=t?"<"+this.type:"",i=this.node.attributes,o=this.node.childNodes;if(t)for(var r=0,n=i.length;n>r;r++)e+=" "+i[r].name+'="'+i[r].value.replace(/"/g,'\\"')+'"';if(o.length){for(t&&(e+=">"),r=0,n=o.length;n>r;r++)3==o[r].nodeType?e+=o[r].nodeValue:1==o[r].nodeType&&(e+=_(o[r]).toString());t&&(e+="</"+this.type+">")}else t&&(e+="/>");return e}}var u=r.prototype,f=o.is,g=String,p=o._unit2px,m=o._.$,y=o._.make,v=o._.getSomeDefs,b="hasOwnProperty",_=o._.wrap;u.getBBox=function(t){if(!o.Matrix||!o.path)return this.node.getBBox();var e=this,i=new o.Matrix;if(e.removed)return o._.box();for(;"use"==e.type;)if(t||(i=i.add(e.transform().localMatrix.translate(e.attr("x")||0,e.attr("y")||0))),e.original)e=e.original;else{var r=e.attr("xlink:href");e=e.original=e.node.ownerDocument.getElementById(r.substring(r.indexOf("#")+1))}var n=e._,s=o.path.get[e.type]||o.path.get.deflt;try{return t?(n.bboxwt=s?o.path.getBBox(e.realPath=s(e)):o._.box(e.node.getBBox()),o._.box(n.bboxwt)):(e.realPath=s(e),e.matrix=e.transform().localMatrix,n.bbox=o.path.getBBox(o.path.map(e.realPath,i.add(e.matrix))),o._.box(n.bbox))}catch(a){return o._.box()}};var C=function(){return this.string};u.transform=function(t){var e=this._;if(null==t){for(var i,r=this,n=new o.Matrix(this.node.getCTM()),s=c(this),a=[s],h=new o.Matrix,l=s.toTransformString(),d=g(s)==g(this.matrix)?g(e.transform):l;"svg"!=r.type&&(r=r.parent());)a.push(c(r));for(i=a.length;i--;)h.add(a[i]);return{string:d,globalMatrix:n,totalMatrix:h,localMatrix:s,diffMatrix:n.clone().add(s.invert()),global:n.toTransformString(),total:h.toTransformString(),local:l,toString:C}}return t instanceof o.Matrix?(this.matrix=t,this._.transform=t.toTransformString()):c(this,t),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?m(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?m(this.node,{patternTransform:this.matrix}):m(this.node,{transform:this.matrix})),this},u.parent=function(){return _(this.node.parentNode)},u.append=u.add=function(t){if(t){if("set"==t.type){var e=this;return t.forEach(function(t){e.add(t)}),this}t=_(t),this.node.appendChild(t.node),t.paper=this.paper}return this},u.appendTo=function(t){return t&&(t=_(t),t.append(this)),this},u.prepend=function(t){if(t){if("set"==t.type){var e,i=this;return t.forEach(function(t){e?e.after(t):i.prepend(t),e=t}),this}t=_(t);var o=t.parent();this.node.insertBefore(t.node,this.node.firstChild),this.add&&this.add(),t.paper=this.paper,this.parent()&&this.parent().add(),o&&o.add()}return this},u.prependTo=function(t){return t=_(t),t.prepend(this),this},u.before=function(t){if("set"==t.type){var e=this;return t.forEach(function(t){var i=t.parent();e.node.parentNode.insertBefore(t.node,e.node),i&&i.add()}),this.parent().add(),this}t=_(t);var i=t.parent();return this.node.parentNode.insertBefore(t.node,this.node),this.parent()&&this.parent().add(),i&&i.add(),t.paper=this.paper,this},u.after=function(t){t=_(t);var e=t.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(t.node,this.node.nextSibling):this.node.parentNode.appendChild(t.node),this.parent()&&this.parent().add(),e&&e.add(),t.paper=this.paper,this},u.insertBefore=function(t){t=_(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},u.insertAfter=function(t){t=_(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node.nextSibling),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},u.remove=function(){var t=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,t&&t.add(),this},u.select=function(t){return _(this.node.querySelector(t))},u.selectAll=function(t){for(var e=this.node.querySelectorAll(t),i=(o.set||Array)(),r=0;r<e.length;r++)i.push(_(e[r]));return i},u.asPX=function(t,e){return null==e&&(e=this.attr(t)),+p(this,t,e)},u.use=function(){var t,e=this.node.id;return e||(e=this.id,m(this.node,{id:e})),t="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?y(this.type,this.node.parentNode):y("use",this.node.parentNode),m(t.node,{"xlink:href":"#"+e}),t.original=this,t},u.clone=function(){var t=_(this.node.cloneNode(!0));return m(t.node,"id")&&m(t.node,{id:t.id}),h(t),t.insertAfter(this),t},u.toDefs=function(){var t=v(this);return t.appendChild(this.node),this},u.pattern=u.toPattern=function(t,e,i,o){var r=y("pattern",v(this));return null==t&&(t=this.getBBox()),f(t,"object")&&"x"in t&&(e=t.y,i=t.width,o=t.height,t=t.x),m(r.node,{x:t,y:e,width:i,height:o,patternUnits:"userSpaceOnUse",id:r.id,viewBox:[t,e,i,o].join(" ")}),r.node.appendChild(this.node),r},u.marker=function(t,e,i,o,r,n){var s=y("marker",v(this));return null==t&&(t=this.getBBox()),f(t,"object")&&"x"in t&&(e=t.y,i=t.width,o=t.height,r=t.refX||t.cx,n=t.refY||t.cy,t=t.x),m(s.node,{viewBox:[t,e,i,o].join(" "),markerWidth:i,markerHeight:o,orient:"auto",refX:r||0,refY:n||0,id:s.id}),s.node.appendChild(this.node),s};var S=function(t,e,o,r){"function"!=typeof o||o.length||(r=o,o=i.linear),this.attr=t,this.dur=e,o&&(this.easing=o),r&&(this.callback=r)};o._.Animation=S,o.animation=function(t,e,i,o){return new S(t,e,i,o)},u.inAnim=function(){var t=this,e=[];for(var i in t.anims)t.anims[b](i)&&!function(t){e.push({anim:new S(t._attrs,t.dur,t.easing,t._callback),mina:t,curStatus:t.status(),status:function(e){return t.status(e)},stop:function(){t.stop()}})}(t.anims[i]);return e},o.animate=function(t,o,r,n,s,a){"function"!=typeof s||s.length||(a=s,s=i.linear);var c=i.time(),h=i(t,o,c,c+n,i.time,r,s);return a&&e.once("mina.finish."+h.id,a),h},u.stop=function(){for(var t=this.inAnim(),e=0,i=t.length;i>e;e++)t[e].stop();return this},u.animate=function(t,o,r,n){"function"!=typeof r||r.length||(n=r,r=i.linear),t instanceof S&&(n=t.callback,r=t.easing,o=t.dur,t=t.attr);var s,a,c,h,d=[],u=[],p={},m=this;for(var y in t)if(t[b](y)){m.equal?(h=m.equal(y,g(t[y])),s=h.from,a=h.to,c=h.f):(s=+m.attr(y),a=+t[y]);var v=f(s,"array")?s.length:1;p[y]=l(d.length,d.length+v,c),d=d.concat(s),u=u.concat(a)}var _=i.time(),C=i(d,u,_,_+o,i.time,function(t){var e={};for(var i in p)p[b](i)&&(e[i]=p[i](t));m.attr(e)},r);return m.anims[C.id]=C,C._attrs=t,C._callback=n,e("snap.animcreated."+m.id,C),e.once("mina.finish."+C.id,function(){delete m.anims[C.id],n&&n.call(m)}),e.once("mina.stop."+C.id,function(){delete m.anims[C.id]}),m};var E={};u.data=function(t,i){var r=E[this.id]=E[this.id]||{};if(0==arguments.length)return e("snap.data.get."+this.id,this,r,null),r;if(1==arguments.length){if(o.is(t,"object")){for(var n in t)t[b](n)&&this.data(n,t[n]);return this}return e("snap.data.get."+this.id,this,r[t],t),r[t]}return r[t]=i,e("snap.data.set."+this.id,this,i,t),this},u.removeData=function(t){return null==t?E[this.id]={}:E[this.id]&&delete E[this.id][t],this},u.outerSVG=u.toString=d(1),u.innerSVG=d(),u.toDataURL=function(){if(t&&t.btoa){var e=this.getBBox(),i=o.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+e.x.toFixed(3),y:+e.y.toFixed(3),width:+e.width.toFixed(3),height:+e.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(i)))}},a.prototype.select=u.select,a.prototype.selectAll=u.selectAll}),o.plugin(function(t){function e(t,e,o,r,n,s){return null==e&&"[object SVGMatrix]"==i.call(t)?(this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,void(this.f=t.f)):void(null!=t?(this.a=+t,this.b=+e,this.c=+o,this.d=+r,this.e=+n,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var i=Object.prototype.toString,o=String,r=Math,n="";!function(i){function s(t){return t[0]*t[0]+t[1]*t[1]}function a(t){var e=r.sqrt(s(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}i.add=function(t,i,o,r,n,s){var a,c,h,l,d=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[t,o,n],[i,r,s],[0,0,1]];for(t&&t instanceof e&&(f=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;3>a;a++)for(c=0;3>c;c++){for(l=0,h=0;3>h;h++)l+=u[a][h]*f[h][c];d[a][c]=l}return this.a=d[0][0],this.b=d[1][0],this.c=d[0][1],this.d=d[1][1],this.e=d[0][2],this.f=d[1][2],this},i.invert=function(){var t=this,i=t.a*t.d-t.b*t.c;return new e(t.d/i,-t.b/i,-t.c/i,t.a/i,(t.c*t.f-t.d*t.e)/i,(t.b*t.e-t.a*t.f)/i)},i.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},i.translate=function(t,e){return this.add(1,0,0,1,t,e)},i.scale=function(t,e,i,o){return null==e&&(e=t),(i||o)&&this.add(1,0,0,1,i,o),this.add(t,0,0,e,0,0),(i||o)&&this.add(1,0,0,1,-i,-o),this},i.rotate=function(e,i,o){e=t.rad(e),i=i||0,o=o||0;var n=+r.cos(e).toFixed(9),s=+r.sin(e).toFixed(9);return this.add(n,s,-s,n,i,o),this.add(1,0,0,1,-i,-o)},i.x=function(t,e){return t*this.a+e*this.c+this.e},i.y=function(t,e){return t*this.b+e*this.d+this.f},i.get=function(t){return+this[o.fromCharCode(97+t)].toFixed(4)},i.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},i.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},i.determinant=function(){return this.a*this.d-this.b*this.c},i.split=function(){var e={};e.dx=this.e,e.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];e.scalex=r.sqrt(s(i[0])),a(i[0]),e.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*e.shear,i[1][1]-i[0][1]*e.shear],e.scaley=r.sqrt(s(i[1])),a(i[1]),e.shear/=e.scaley,this.determinant()<0&&(e.scalex=-e.scalex);var o=-i[0][1],n=i[1][1];return 0>n?(e.rotate=t.deg(r.acos(n)),0>o&&(e.rotate=360-e.rotate)):e.rotate=t.deg(r.asin(o)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},i.toTransformString=function(t){var e=t||this.split();return+e.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[+e.dx.toFixed(4),+e.dy.toFixed(4)]:n)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:n)+(e.rotate?"r"+[+e.rotate.toFixed(4),0,0]:n))}}(e.prototype),t.Matrix=e,t.matrix=function(t,i,o,r,n,s){return new e(t,i,o,r,n,s)}}),o.plugin(function(t,i,o,r,n){function s(o){return function(r){if(e.stop(),r instanceof n&&1==r.node.childNodes.length&&("radialGradient"==r.node.firstChild.tagName||"linearGradient"==r.node.firstChild.tagName||"pattern"==r.node.firstChild.tagName)&&(r=r.node.firstChild,f(this).appendChild(r),r=d(r)),r instanceof i)if("radialGradient"==r.type||"linearGradient"==r.type||"pattern"==r.type){r.node.id||p(r.node,{id:r.id});var s=m(r.node.id)}else s=r.attr(o);else if(s=t.color(r),s.error){var a=t(f(this).ownerSVGElement).gradient(r);a?(a.node.id||p(a.node,{id:a.id}),s=m(a.node.id)):s=r}else s=y(s);var c={};c[o]=s,p(this.node,c),this.node.style[o]=b}}function a(t){e.stop(),t==+t&&(t+="px"),this.node.style.fontSize=t}function c(t){for(var e=[],i=t.childNodes,o=0,r=i.length;r>o;o++){var n=i[o];3==n.nodeType&&e.push(n.nodeValue),"tspan"==n.tagName&&e.push(1==n.childNodes.length&&3==n.firstChild.nodeType?n.firstChild.nodeValue:c(n))}return e}function h(){return e.stop(),this.node.style.fontSize}var l=t._.make,d=t._.wrap,u=t.is,f=t._.getSomeDefs,g=/^url\(#?([^)]+)\)$/,p=t._.$,m=t.url,y=String,v=t._.separator,b="";e.on("snap.util.attr.mask",function(t){if(t instanceof i||t instanceof n){if(e.stop(),t instanceof n&&1==t.node.childNodes.length&&(t=t.node.firstChild,f(this).appendChild(t),t=d(t)),"mask"==t.type)var o=t;else o=l("mask",f(this)),o.node.appendChild(t.node);!o.node.id&&p(o.node,{id:o.id}),p(this.node,{mask:m(o.id)})}}),function(t){e.on("snap.util.attr.clip",t),e.on("snap.util.attr.clip-path",t),e.on("snap.util.attr.clipPath",t)}(function(t){if(t instanceof i||t instanceof n){if(e.stop(),"clipPath"==t.type)var o=t;else o=l("clipPath",f(this)),o.node.appendChild(t.node),!o.node.id&&p(o.node,{id:o.id});p(this.node,{"clip-path":m(o.node.id||o.id)})}}),e.on("snap.util.attr.fill",s("fill")),e.on("snap.util.attr.stroke",s("stroke"));var _=/^([lr])(?:\(([^)]*)\))?(.*)$/i;e.on("snap.util.grad.parse",function(t){t=y(t);var e=t.match(_);if(!e)return null;var i=e[1],o=e[2],r=e[3];return o=o.split(/\s*,\s*/).map(function(t){return+t==t?+t:t}),1==o.length&&0==o[0]&&(o=[]),r=r.split("-"),r=r.map(function(t){t=t.split(":");var e={color:t[0]};return t[1]&&(e.offset=parseFloat(t[1])),e}),{type:i,params:o,stops:r}}),e.on("snap.util.attr.d",function(i){e.stop(),u(i,"array")&&u(i[0],"array")&&(i=t.path.toString.call(i)),i=y(i),i.match(/[ruo]/i)&&(i=t.path.toAbsolute(i)),p(this.node,{d:i})})(-1),e.on("snap.util.attr.#text",function(t){e.stop(),t=y(t);for(var i=r.doc.createTextNode(t);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(i)})(-1),e.on("snap.util.attr.path",function(t){e.stop(),this.attr({d:t})})(-1),e.on("snap.util.attr.class",function(t){e.stop(),this.node.className.baseVal=t})(-1),e.on("snap.util.attr.viewBox",function(t){var i;i=u(t,"object")&&"x"in t?[t.x,t.y,t.width,t.height].join(" "):u(t,"array")?t.join(" "):t,p(this.node,{viewBox:i}),e.stop()})(-1),e.on("snap.util.attr.transform",function(t){this.transform(t),e.stop()})(-1),e.on("snap.util.attr.r",function(t){"rect"==this.type&&(e.stop(),p(this.node,{rx:t,ry:t}))})(-1),e.on("snap.util.attr.textpath",function(t){if(e.stop(),"text"==this.type){var o,r,n;if(!t&&this.textPath){for(r=this.textPath;r.node.firstChild;)this.node.appendChild(r.node.firstChild);return r.remove(),void delete this.textPath}if(u(t,"string")){var s=f(this),a=d(s.parentNode).path(t);s.appendChild(a.node),o=a.id,a.attr({id:o})}else t=d(t),t instanceof i&&(o=t.attr("id"),o||(o=t.id,t.attr({id:o})));if(o)if(r=this.textPath,n=this.node,r)r.attr({"xlink:href":"#"+o});else{for(r=p("textPath",{"xlink:href":"#"+o});n.firstChild;)r.appendChild(n.firstChild);n.appendChild(r),this.textPath=d(r)}}})(-1),e.on("snap.util.attr.text",function(t){if("text"==this.type){for(var i=this.node,o=function(t){var e=p("tspan");if(u(t,"array"))for(var i=0;i<t.length;i++)e.appendChild(o(t[i]));else e.appendChild(r.doc.createTextNode(t));return e.normalize&&e.normalize(),e};i.firstChild;)i.removeChild(i.firstChild);for(var n=o(t);n.firstChild;)i.appendChild(n.firstChild)}e.stop()})(-1),e.on("snap.util.attr.fontSize",a)(-1),e.on("snap.util.attr.font-size",a)(-1),e.on("snap.util.getattr.transform",function(){return e.stop(),this.transform()})(-1),e.on("snap.util.getattr.textpath",function(){return e.stop(),this.textPath})(-1),function(){function i(i){return function(){e.stop();var o=r.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+i);return"none"==o?o:t(r.doc.getElementById(o.match(g)[1]))}}function o(t){return function(i){e.stop();var o="marker"+t.charAt(0).toUpperCase()+t.substring(1);if(""==i||!i)return void(this.node.style[o]="none");if("marker"==i.type){var r=i.node.id;return r||p(i.node,{id:i.id}),void(this.node.style[o]=m(r))}}}e.on("snap.util.getattr.marker-end",i("end"))(-1),e.on("snap.util.getattr.markerEnd",i("end"))(-1),e.on("snap.util.getattr.marker-start",i("start"))(-1),e.on("snap.util.getattr.markerStart",i("start"))(-1),e.on("snap.util.getattr.marker-mid",i("mid"))(-1),e.on("snap.util.getattr.markerMid",i("mid"))(-1),e.on("snap.util.attr.marker-end",o("end"))(-1),e.on("snap.util.attr.markerEnd",o("end"))(-1),e.on("snap.util.attr.marker-start",o("start"))(-1),e.on("snap.util.attr.markerStart",o("start"))(-1),e.on("snap.util.attr.marker-mid",o("mid"))(-1),e.on("snap.util.attr.markerMid",o("mid"))(-1)}(),e.on("snap.util.getattr.r",function(){return"rect"==this.type&&p(this.node,"rx")==p(this.node,"ry")?(e.stop(),p(this.node,"rx")):void 0})(-1),e.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){e.stop();var t=c(this.node);return 1==t.length?t[0]:t}})(-1),e.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),e.on("snap.util.getattr.viewBox",function(){e.stop();var i=p(this.node,"viewBox");return i?(i=i.split(v),t._.box(+i[0],+i[1],+i[2],+i[3])):void 0})(-1),e.on("snap.util.getattr.points",function(){var t=p(this.node,"points");return e.stop(),t?t.split(v):void 0})(-1),e.on("snap.util.getattr.path",function(){var t=p(this.node,"d");return e.stop(),t})(-1),e.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),e.on("snap.util.getattr.fontSize",h)(-1),e.on("snap.util.getattr.font-size",h)(-1)}),o.plugin(function(t,e){var i=/\S+/g,o=String,r=e.prototype;r.addClass=function(t){var e,r,n,s,a=o(t||"").match(i)||[],c=this.node,h=c.className.baseVal,l=h.match(i)||[];if(a.length){for(e=0;n=a[e++];)r=l.indexOf(n),~r||l.push(n);s=l.join(" "),h!=s&&(c.className.baseVal=s)}return this},r.removeClass=function(t){var e,r,n,s,a=o(t||"").match(i)||[],c=this.node,h=c.className.baseVal,l=h.match(i)||[];if(l.length){for(e=0;n=a[e++];)r=l.indexOf(n),~r&&l.splice(r,1);s=l.join(" "),h!=s&&(c.className.baseVal=s)}return this},r.hasClass=function(t){var e=this.node,o=e.className.baseVal,r=o.match(i)||[];return!!~r.indexOf(t)},r.toggleClass=function(t,e){if(null!=e)return e?this.addClass(t):this.removeClass(t);var o,r,n,s,a=(t||"").match(i)||[],c=this.node,h=c.className.baseVal,l=h.match(i)||[];for(o=0;n=a[o++];)r=l.indexOf(n),~r?l.splice(r,1):l.push(n);return s=l.join(" "),h!=s&&(c.className.baseVal=s),this}}),o.plugin(function(){function t(t){return t}function i(t){return function(e){return+e.toFixed(3)+t}}var o={"+":function(t,e){return t+e},"-":function(t,e){return t-e},"/":function(t,e){return t/e},"*":function(t,e){return t*e}},r=String,n=/[a-z]+$/i,s=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;e.on("snap.util.attr",function(t){var i=r(t).match(s);if(i){var a=e.nt(),c=a.substring(a.lastIndexOf(".")+1),h=this.attr(c),l={};e.stop();var d=i[3]||"",u=h.match(n),f=o[i[1]];if(u&&u==d?t=f(parseFloat(h),+i[2]):(h=this.asPX(c),t=f(this.asPX(c),this.asPX(c,i[2]+d))),isNaN(h)||isNaN(t))return;l[c]=t,this.attr(l)}})(-10),e.on("snap.util.equal",function(a,c){var h=r(this.attr(a)||""),l=r(c).match(s);if(l){e.stop();var d=l[3]||"",u=h.match(n),f=o[l[1]];return u&&u==d?{from:parseFloat(h),to:f(parseFloat(h),+l[2]),f:i(u)}:(h=this.asPX(a),{from:h,to:f(h,this.asPX(a,l[2]+d)),f:t})}})(-10)}),o.plugin(function(i,o,r,n){var s=r.prototype,a=i.is;s.rect=function(t,e,i,o,r,n){var s;return null==n&&(n=r),a(t,"object")&&"[object Object]"==t?s=t:null!=t&&(s={x:t,y:e,width:i,height:o},null!=r&&(s.rx=r,s.ry=n)),this.el("rect",s)},s.circle=function(t,e,i){var o;return a(t,"object")&&"[object Object]"==t?o=t:null!=t&&(o={cx:t,cy:e,r:i}),this.el("circle",o)};var c=function(){function t(){this.parentNode.removeChild(this)}return function(e,i){var o=n.doc.createElement("img"),r=n.doc.body;o.style.cssText="position:absolute;left:-9999em;top:-9999em",o.onload=function(){i.call(o),o.onload=o.onerror=null,r.removeChild(o)},o.onerror=t,r.appendChild(o),o.src=e}}();s.image=function(t,e,o,r,n){var s=this.el("image");if(a(t,"object")&&"src"in t)s.attr(t);else if(null!=t){var h={"xlink:href":t,preserveAspectRatio:"none"};null!=e&&null!=o&&(h.x=e,h.y=o),null!=r&&null!=n?(h.width=r,h.height=n):c(t,function(){i._.$(s.node,{width:this.offsetWidth,height:this.offsetHeight})}),i._.$(s.node,h)}return s},s.ellipse=function(t,e,i,o){var r;return a(t,"object")&&"[object Object]"==t?r=t:null!=t&&(r={cx:t,cy:e,rx:i,ry:o}),this.el("ellipse",r)},s.path=function(t){var e;return a(t,"object")&&!a(t,"array")?e=t:t&&(e={d:t}),this.el("path",e)},s.group=s.g=function(t){var e=this.el("g");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},s.svg=function(t,e,i,o,r,n,s,c){var h={};return a(t,"object")&&null==e?h=t:(null!=t&&(h.x=t),null!=e&&(h.y=e),null!=i&&(h.width=i),null!=o&&(h.height=o),null!=r&&null!=n&&null!=s&&null!=c&&(h.viewBox=[r,n,s,c])),this.el("svg",h)},s.mask=function(t){var e=this.el("mask");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},s.ptrn=function(t,e,i,o,r,n,s,c){if(a(t,"object"))var h=t;else h={patternUnits:"userSpaceOnUse"},t&&(h.x=t),e&&(h.y=e),null!=i&&(h.width=i),null!=o&&(h.height=o),h.viewBox=null!=r&&null!=n&&null!=s&&null!=c?[r,n,s,c]:[t||0,e||0,i||0,o||0];return this.el("pattern",h)},s.use=function(t){return null!=t?(t instanceof o&&(t.attr("id")||t.attr({id:i._.id(t)}),t=t.attr("id")),"#"==String(t).charAt()&&(t=t.substring(1)),this.el("use",{"xlink:href":"#"+t})):o.prototype.use.call(this)},s.symbol=function(t,e,i,o){var r={};return null!=t&&null!=e&&null!=i&&null!=o&&(r.viewBox=[t,e,i,o]),this.el("symbol",r)},s.text=function(t,e,i){var o={};return a(t,"object")?o=t:null!=t&&(o={x:t,y:e,text:i||""}),this.el("text",o)},s.line=function(t,e,i,o){var r={};return a(t,"object")?r=t:null!=t&&(r={x1:t,x2:i,y1:e,y2:o}),this.el("line",r)},s.polyline=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return a(t,"object")&&!a(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polyline",e)},s.polygon=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return a(t,"object")&&!a(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polygon",e)},function(){function o(){return this.selectAll("stop")}function r(t,e){var o=l("stop"),r={offset:+e+"%"};return t=i.color(t),r["stop-color"]=t.hex,t.opacity<1&&(r["stop-opacity"]=t.opacity),l(o,r),this.node.appendChild(o),this}function n(){if("linearGradient"==this.type){var t=l(this.node,"x1")||0,e=l(this.node,"x2")||1,o=l(this.node,"y1")||0,r=l(this.node,"y2")||0;return i._.box(t,o,math.abs(e-t),math.abs(r-o))}var n=this.node.cx||.5,s=this.node.cy||.5,a=this.node.r||0;return i._.box(n-a,s-a,2*a,2*a)}function a(t,i){function o(t,e){for(var i=(e-d)/(t-u),o=u;t>o;o++)s[o].offset=+(+d+i*(o-u)).toFixed(2);u=t,d=e}var r,n=e("snap.util.grad.parse",null,i).firstDefined();if(!n)return null;n.params.unshift(t),r="l"==n.type.toLowerCase()?c.apply(0,n.params):h.apply(0,n.params),n.type!=n.type.toLowerCase()&&l(r.node,{gradientUnits:"userSpaceOnUse"});var s=n.stops,a=s.length,d=0,u=0;a--;for(var f=0;a>f;f++)"offset"in s[f]&&o(f,s[f].offset);for(s[a].offset=s[a].offset||100,o(a,s[a].offset),f=0;a>=f;f++){var g=s[f];r.addStop(g.color,g.offset)}return r}function c(t,e,s,a,c){var h=i._.make("linearGradient",t);return h.stops=o,h.addStop=r,h.getBBox=n,null!=e&&l(h.node,{x1:e,y1:s,x2:a,y2:c}),h}function h(t,e,s,a,c,h){var d=i._.make("radialGradient",t);return d.stops=o,d.addStop=r,d.getBBox=n,null!=e&&l(d.node,{cx:e,cy:s,r:a}),null!=c&&null!=h&&l(d.node,{fx:c,fy:h}),d}var l=i._.$;s.gradient=function(t){return a(this.defs,t)},s.gradientLinear=function(t,e,i,o){return c(this.defs,t,e,i,o)},s.gradientRadial=function(t,e,i,o,r){return h(this.defs,t,e,i,o,r)},s.toString=function(){var t,e=this.node.ownerDocument,o=e.createDocumentFragment(),r=e.createElement("div"),n=this.node.cloneNode(!0);return o.appendChild(r),r.appendChild(n),i._.$(n,{xmlns:"http://www.w3.org/2000/svg"}),t=r.innerHTML,o.removeChild(o.firstChild),t},s.toDataURL=function(){return t&&t.btoa?"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this))):void 0},s.clear=function(){for(var t,e=this.node.firstChild;e;)t=e.nextSibling,"defs"!=e.tagName?e.parentNode.removeChild(e):s.clear.call({node:e}),e=t}}()}),o.plugin(function(t,e){function i(t){var e=i.ps=i.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[P](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])}),e[t]}function o(t,e,i,o){return null==t&&(t=e=i=o=0),null==e&&(e=t.y,i=t.width,o=t.height,t=t.x),{x:t,y:e,width:i,w:i,height:o,h:o,x2:t+i,y2:e+o,cx:t+i/2,cy:e+o/2,r1:j.min(i,o)/2,r2:j.max(i,o)/2,r0:j.sqrt(i*i+o*o)/2,path:S(t,e,i,o),vb:[t,e,i,o].join(" ")}}function r(){return this.join(",").replace(M,"$1")}function n(t){var e=D(t);return e.toString=r,e}function s(t,e,i,o,r,n,s,a,h){return null==h?f(t,e,i,o,r,n,s,a):c(t,e,i,o,r,n,s,a,g(t,e,i,o,r,n,s,a,h))}function a(i,o){function r(t){return+(+t).toFixed(3)}return t._.cacher(function(t,n,a){t instanceof e&&(t=t.attr("d")),t=I(t);for(var h,l,d,u,f,g="",p={},m=0,y=0,v=t.length;v>y;y++){if(d=t[y],"M"==d[0])h=+d[1],l=+d[2];else{if(u=s(h,l,d[1],d[2],d[3],d[4],d[5],d[6]),m+u>n){if(o&&!p.start){if(f=s(h,l,d[1],d[2],d[3],d[4],d[5],d[6],n-m),g+=["C"+r(f.start.x),r(f.start.y),r(f.m.x),r(f.m.y),r(f.x),r(f.y)],a)return g;p.start=g,g=["M"+r(f.x),r(f.y)+"C"+r(f.n.x),r(f.n.y),r(f.end.x),r(f.end.y),r(d[5]),r(d[6])].join(),m+=u,h=+d[5],l=+d[6];continue}if(!i&&!o)return f=s(h,l,d[1],d[2],d[3],d[4],d[5],d[6],n-m)}m+=u,h=+d[5],l=+d[6]}g+=d.shift()+d}return p.end=g,f=i?m:o?p:c(h,l,d[0],d[1],d[2],d[3],d[4],d[5],1)},null,t._.clone)}function c(t,e,i,o,r,n,s,a,c){var h=1-c,l=U(h,3),d=U(h,2),u=c*c,f=u*c,g=l*t+3*d*c*i+3*h*c*c*r+f*s,p=l*e+3*d*c*o+3*h*c*c*n+f*a,m=t+2*c*(i-t)+u*(r-2*i+t),y=e+2*c*(o-e)+u*(n-2*o+e),v=i+2*c*(r-i)+u*(s-2*r+i),b=o+2*c*(n-o)+u*(a-2*n+o),_=h*t+c*i,C=h*e+c*o,S=h*r+c*s,E=h*n+c*a,x=90-180*j.atan2(m-v,y-b)/G;return{x:g,y:p,m:{x:m,y:y},n:{x:v,y:b},start:{x:_,y:C},end:{x:S,y:E},alpha:x}}function h(e,i,r,n,s,a,c,h){t.is(e,"array")||(e=[e,i,r,n,s,a,c,h]);var l=F.apply(null,e);return o(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)}function l(t,e,i){return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function d(t,e){return t=o(t),e=o(e),l(e,t.x,t.y)||l(e,t.x2,t.y)||l(e,t.x,t.y2)||l(e,t.x2,t.y2)||l(t,e.x,e.y)||l(t,e.x2,e.y)||l(t,e.x,e.y2)||l(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function u(t,e,i,o,r){var n=-3*e+9*i-9*o+3*r,s=t*n+6*e-12*i+6*o;return t*s-3*e+3*i}function f(t,e,i,o,r,n,s,a,c){null==c&&(c=1),c=c>1?1:0>c?0:c;for(var h=c/2,l=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],g=0,p=0;l>p;p++){var m=h*d[p]+h,y=u(m,t,i,r,s),v=u(m,e,o,n,a),b=y*y+v*v;g+=f[p]*j.sqrt(b)}return h*g}function g(t,e,i,o,r,n,s,a,c){if(!(0>c||f(t,e,i,o,r,n,s,a)<c)){var h,l=1,d=l/2,u=l-d,g=.01;for(h=f(t,e,i,o,r,n,s,a,u);Y(h-c)>g;)d/=2,u+=(c>h?1:-1)*d,h=f(t,e,i,o,r,n,s,a,u);return u}}function p(t,e,i,o,r,n,s,a){if(!(W(t,i)<H(r,s)||H(t,i)>W(r,s)||W(e,o)<H(n,a)||H(e,o)>W(n,a))){var c=(t*o-e*i)*(r-s)-(t-i)*(r*a-n*s),h=(t*o-e*i)*(n-a)-(e-o)*(r*a-n*s),l=(t-i)*(n-a)-(e-o)*(r-s);if(l){var d=c/l,u=h/l,f=+d.toFixed(2),g=+u.toFixed(2);if(!(f<+H(t,i).toFixed(2)||f>+W(t,i).toFixed(2)||f<+H(r,s).toFixed(2)||f>+W(r,s).toFixed(2)||g<+H(e,o).toFixed(2)||g>+W(e,o).toFixed(2)||g<+H(n,a).toFixed(2)||g>+W(n,a).toFixed(2)))return{x:d,y:u}}}}function m(t,e,i){var o=h(t),r=h(e);if(!d(o,r))return i?0:[];for(var n=f.apply(0,t),s=f.apply(0,e),a=~~(n/8),l=~~(s/8),u=[],g=[],m={},y=i?0:[],v=0;a+1>v;v++){var b=c.apply(0,t.concat(v/a));u.push({x:b.x,y:b.y,t:v/a})}for(v=0;l+1>v;v++)b=c.apply(0,e.concat(v/l)),g.push({x:b.x,y:b.y,t:v/l});for(v=0;a>v;v++)for(var _=0;l>_;_++){var C=u[v],S=u[v+1],E=g[_],x=g[_+1],A=Y(S.x-C.x)<.001?"y":"x",O=Y(x.x-E.x)<.001?"y":"x",T=p(C.x,C.y,S.x,S.y,E.x,E.y,x.x,x.y);if(T){if(m[T.x.toFixed(4)]==T.y.toFixed(4))continue;m[T.x.toFixed(4)]=T.y.toFixed(4);var w=C.t+Y((T[A]-C[A])/(S[A]-C[A]))*(S.t-C.t),F=E.t+Y((T[O]-E[O])/(x[O]-E[O]))*(x.t-E.t);w>=0&&1>=w&&F>=0&&1>=F&&(i?y++:y.push({x:T.x,y:T.y,t1:w,t2:F}))}}return y}function y(t,e){return b(t,e)}function v(t,e){return b(t,e,1)}function b(t,e,i){t=I(t),e=I(e);for(var o,r,n,s,a,c,h,l,d,u,f=i?0:[],g=0,p=t.length;p>g;g++){var y=t[g];if("M"==y[0])o=a=y[1],r=c=y[2];else{"C"==y[0]?(d=[o,r].concat(y.slice(1)),o=d[6],r=d[7]):(d=[o,r,o,r,a,c,a,c],o=a,r=c);for(var v=0,b=e.length;b>v;v++){var _=e[v];if("M"==_[0])n=h=_[1],s=l=_[2];else{"C"==_[0]?(u=[n,s].concat(_.slice(1)),n=u[6],s=u[7]):(u=[n,s,n,s,h,l,h,l],n=h,s=l);var C=m(d,u,i);if(i)f+=C;else{for(var S=0,E=C.length;E>S;S++)C[S].segment1=g,C[S].segment2=v,C[S].bez1=d,C[S].bez2=u;f=f.concat(C)}}}}}return f}function _(t,e,i){var o=C(t);return l(o,e,i)&&b(t,[["M",e,i],["H",o.x2+10]],1)%2==1}function C(t){var e=i(t);if(e.bbox)return D(e.bbox);if(!t)return o();t=I(t);for(var r,n=0,s=0,a=[],c=[],h=0,l=t.length;l>h;h++)if(r=t[h],"M"==r[0])n=r[1],s=r[2],a.push(n),c.push(s);else{var d=F(n,s,r[1],r[2],r[3],r[4],r[5],r[6]);a=a.concat(d.min.x,d.max.x),c=c.concat(d.min.y,d.max.y),n=r[5],s=r[6]}var u=H.apply(0,a),f=H.apply(0,c),g=W.apply(0,a),p=W.apply(0,c),m=o(u,f,g-u,p-f);return e.bbox=D(m),m}function S(t,e,i,o,n){if(n)return[["M",+t+ +n,e],["l",i-2*n,0],["a",n,n,0,0,1,n,n],["l",0,o-2*n],["a",n,n,0,0,1,-n,n],["l",2*n-i,0],["a",n,n,0,0,1,-n,-n],["l",0,2*n-o],["a",n,n,0,0,1,n,-n],["z"]];var s=[["M",t,e],["l",i,0],["l",0,o],["l",-i,0],["z"]];return s.toString=r,s}function E(t,e,i,o,n){if(null==n&&null==o&&(o=i),t=+t,e=+e,i=+i,o=+o,null!=n)var s=Math.PI/180,a=t+i*Math.cos(-o*s),c=t+i*Math.cos(-n*s),h=e+i*Math.sin(-o*s),l=e+i*Math.sin(-n*s),d=[["M",a,h],["A",i,i,0,+(n-o>180),0,c,l]];else d=[["M",t,e],["m",0,-o],["a",i,o,0,1,1,0,2*o],["a",i,o,0,1,1,0,-2*o],["z"]];return d.toString=r,d}function x(e){var o=i(e),s=String.prototype.toLowerCase;if(o.rel)return n(o.rel);t.is(e,"array")&&t.is(e&&e[0],"array")||(e=t.parsePathString(e));var a=[],c=0,h=0,l=0,d=0,u=0;"M"==e[0][0]&&(c=e[0][1],h=e[0][2],l=c,d=h,u++,a.push(["M",c,h]));for(var f=u,g=e.length;g>f;f++){var p=a[f]=[],m=e[f];if(m[0]!=s.call(m[0]))switch(p[0]=s.call(m[0]),p[0]){case"a":p[1]=m[1],p[2]=m[2],p[3]=m[3],p[4]=m[4],p[5]=m[5],p[6]=+(m[6]-c).toFixed(3),p[7]=+(m[7]-h).toFixed(3);break;case"v":p[1]=+(m[1]-h).toFixed(3);break;case"m":l=m[1],d=m[2];default:for(var y=1,v=m.length;v>y;y++)p[y]=+(m[y]-(y%2?c:h)).toFixed(3)}else{p=a[f]=[],"m"==m[0]&&(l=m[1]+c,d=m[2]+h);for(var b=0,_=m.length;_>b;b++)a[f][b]=m[b]}var C=a[f].length;switch(a[f][0]){case"z":c=l,h=d;break;case"h":c+=+a[f][C-1];break;case"v":h+=+a[f][C-1];break;default:c+=+a[f][C-2],h+=+a[f][C-1]}}return a.toString=r,o.rel=n(a),a}function A(e){var o=i(e);if(o.abs)return n(o.abs);if(N(e,"array")&&N(e&&e[0],"array")||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var s,a=[],c=0,h=0,l=0,d=0,u=0;"M"==e[0][0]&&(c=+e[0][1],h=+e[0][2],l=c,d=h,u++,a[0]=["M",c,h]);for(var f,g,p=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),m=u,y=e.length;y>m;m++){if(a.push(f=[]),g=e[m],s=g[0],s!=s.toUpperCase())switch(f[0]=s.toUpperCase(),f[0]){case"A":f[1]=g[1],f[2]=g[2],f[3]=g[3],f[4]=g[4],f[5]=g[5],f[6]=+g[6]+c,f[7]=+g[7]+h;break;case"V":f[1]=+g[1]+h;break;case"H":f[1]=+g[1]+c;break;case"R":for(var v=[c,h].concat(g.slice(1)),b=2,_=v.length;_>b;b++)v[b]=+v[b]+c,v[++b]=+v[b]+h;a.pop(),a=a.concat(R(v,p));break;case"O":a.pop(),v=E(c,h,g[1],g[2]),v.push(v[0]),a=a.concat(v);break;case"U":a.pop(),a=a.concat(E(c,h,g[1],g[2],g[3])),f=["U"].concat(a[a.length-1].slice(-2));break;case"M":l=+g[1]+c,d=+g[2]+h;default:for(b=1,_=g.length;_>b;b++)f[b]=+g[b]+(b%2?c:h)}else if("R"==s)v=[c,h].concat(g.slice(1)),a.pop(),a=a.concat(R(v,p)),f=["R"].concat(g.slice(-2));else if("O"==s)a.pop(),v=E(c,h,g[1],g[2]),v.push(v[0]),a=a.concat(v);else if("U"==s)a.pop(),a=a.concat(E(c,h,g[1],g[2],g[3])),f=["U"].concat(a[a.length-1].slice(-2));else for(var C=0,S=g.length;S>C;C++)f[C]=g[C];if(s=s.toUpperCase(),"O"!=s)switch(f[0]){case"Z":c=+l,h=+d;break;case"H":c=f[1];break;case"V":h=f[1];break;case"M":l=f[f.length-2],d=f[f.length-1];
default:c=f[f.length-2],h=f[f.length-1]}}return a.toString=r,o.abs=n(a),a}function O(t,e,i,o){return[t,e,i,o,i,o]}function T(t,e,i,o,r,n){var s=1/3,a=2/3;return[s*t+a*i,s*e+a*o,s*r+a*i,s*n+a*o,r,n]}function w(e,i,o,r,n,s,a,c,h,l){var d,u=120*G/180,f=G/180*(+n||0),g=[],p=t._.cacher(function(t,e,i){var o=t*j.cos(i)-e*j.sin(i),r=t*j.sin(i)+e*j.cos(i);return{x:o,y:r}});if(l)x=l[0],A=l[1],S=l[2],E=l[3];else{d=p(e,i,-f),e=d.x,i=d.y,d=p(c,h,-f),c=d.x,h=d.y;var m=(j.cos(G/180*n),j.sin(G/180*n),(e-c)/2),y=(i-h)/2,v=m*m/(o*o)+y*y/(r*r);v>1&&(v=j.sqrt(v),o=v*o,r=v*r);var b=o*o,_=r*r,C=(s==a?-1:1)*j.sqrt(Y((b*_-b*y*y-_*m*m)/(b*y*y+_*m*m))),S=C*o*y/r+(e+c)/2,E=C*-r*m/o+(i+h)/2,x=j.asin(((i-E)/r).toFixed(9)),A=j.asin(((h-E)/r).toFixed(9));x=S>e?G-x:x,A=S>c?G-A:A,0>x&&(x=2*G+x),0>A&&(A=2*G+A),a&&x>A&&(x-=2*G),!a&&A>x&&(A-=2*G)}var O=A-x;if(Y(O)>u){var T=A,F=c,I=h;A=x+u*(a&&A>x?1:-1),c=S+o*j.cos(A),h=E+r*j.sin(A),g=w(c,h,o,r,n,0,a,F,I,[A,T,S,E])}O=A-x;var L=j.cos(x),R=j.sin(x),k=j.cos(A),N=j.sin(A),D=j.tan(O/4),P=4/3*o*D,M=4/3*r*D,B=[e,i],H=[e+P*R,i-M*L],W=[c+P*N,h-M*k],U=[c,h];if(H[0]=2*B[0]-H[0],H[1]=2*B[1]-H[1],l)return[H,W,U].concat(g);g=[H,W,U].concat(g).join().split(",");for(var X=[],V=0,z=g.length;z>V;V++)X[V]=V%2?p(g[V-1],g[V],f).y:p(g[V],g[V+1],f).x;return X}function F(t,e,i,o,r,n,s,a){for(var c,h,l,d,u,f,g,p,m=[],y=[[],[]],v=0;2>v;++v)if(0==v?(h=6*t-12*i+6*r,c=-3*t+9*i-9*r+3*s,l=3*i-3*t):(h=6*e-12*o+6*n,c=-3*e+9*o-9*n+3*a,l=3*o-3*e),Y(c)<1e-12){if(Y(h)<1e-12)continue;d=-l/h,d>0&&1>d&&m.push(d)}else g=h*h-4*l*c,p=j.sqrt(g),0>g||(u=(-h+p)/(2*c),u>0&&1>u&&m.push(u),f=(-h-p)/(2*c),f>0&&1>f&&m.push(f));for(var b,_=m.length,C=_;_--;)d=m[_],b=1-d,y[0][_]=b*b*b*t+3*b*b*d*i+3*b*d*d*r+d*d*d*s,y[1][_]=b*b*b*e+3*b*b*d*o+3*b*d*d*n+d*d*d*a;return y[0][C]=t,y[1][C]=e,y[0][C+1]=s,y[1][C+1]=a,y[0].length=y[1].length=C+2,{min:{x:H.apply(0,y[0]),y:H.apply(0,y[1])},max:{x:W.apply(0,y[0]),y:W.apply(0,y[1])}}}function I(t,e){var o=!e&&i(t);if(!e&&o.curve)return n(o.curve);for(var r=A(t),s=e&&A(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=(function(t,e,i){var o,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(w.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==i||"S"==i?(o=2*e.x-e.bx,r=2*e.y-e.by):(o=e.x,r=e.y),t=["C",o,r].concat(t.slice(1));break;case"T":"Q"==i||"T"==i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(T(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(T(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(O(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(O(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(O(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(O(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)u[e]="A",s&&(f[e]="A"),t.splice(e++,0,["C"].concat(i.splice(0,6)));t.splice(e,1),y=W(r.length,s&&s.length||0)}},d=function(t,e,i,o,n){t&&e&&"M"==t[n][0]&&"M"!=e[n][0]&&(e.splice(n,0,["M",o.x,o.y]),i.bx=0,i.by=0,i.x=t[n][1],i.y=t[n][2],y=W(r.length,s&&s.length||0))},u=[],f=[],g="",p="",m=0,y=W(r.length,s&&s.length||0);y>m;m++){r[m]&&(g=r[m][0]),"C"!=g&&(u[m]=g,m&&(p=u[m-1])),r[m]=h(r[m],a,p),"A"!=u[m]&&"C"==g&&(u[m]="C"),l(r,m),s&&(s[m]&&(g=s[m][0]),"C"!=g&&(f[m]=g,m&&(p=f[m-1])),s[m]=h(s[m],c,p),"A"!=f[m]&&"C"==g&&(f[m]="C"),l(s,m)),d(r,s,a,c,m),d(s,r,c,a,m);var v=r[m],b=s&&s[m],_=v.length,C=s&&b.length;a.x=v[_-2],a.y=v[_-1],a.bx=B(v[_-4])||a.x,a.by=B(v[_-3])||a.y,c.bx=s&&(B(b[C-4])||c.x),c.by=s&&(B(b[C-3])||c.y),c.x=s&&b[C-2],c.y=s&&b[C-1]}return s||(o.curve=n(r)),s?[r,s]:r}function L(t,e){if(!e)return t;var i,o,r,n,s,a,c;for(t=I(t),r=0,s=t.length;s>r;r++)for(c=t[r],n=1,a=c.length;a>n;n+=2)i=e.x(c[n],c[n+1]),o=e.y(c[n],c[n+1]),c[n]=i,c[n+1]=o;return t}function R(t,e){for(var i=[],o=0,r=t.length;r-2*!e>o;o+=2){var n=[{x:+t[o-2],y:+t[o-1]},{x:+t[o],y:+t[o+1]},{x:+t[o+2],y:+t[o+3]},{x:+t[o+4],y:+t[o+5]}];e?o?r-4==o?n[3]={x:+t[0],y:+t[1]}:r-2==o&&(n[2]={x:+t[0],y:+t[1]},n[3]={x:+t[2],y:+t[3]}):n[0]={x:+t[r-2],y:+t[r-1]}:r-4==o?n[3]=n[2]:o||(n[0]={x:+t[o],y:+t[o+1]}),i.push(["C",(-n[0].x+6*n[1].x+n[2].x)/6,(-n[0].y+6*n[1].y+n[2].y)/6,(n[1].x+6*n[2].x-n[3].x)/6,(n[1].y+6*n[2].y-n[3].y)/6,n[2].x,n[2].y])}return i}var k=e.prototype,N=t.is,D=t._.clone,P="hasOwnProperty",M=/,?([a-z]),?/gi,B=parseFloat,j=Math,G=j.PI,H=j.min,W=j.max,U=j.pow,Y=j.abs,X=a(1),V=a(),z=a(0,1),K=t._unit2px,q={path:function(t){return t.attr("path")},circle:function(t){var e=K(t);return E(e.cx,e.cy,e.r)},ellipse:function(t){var e=K(t);return E(e.cx||0,e.cy||0,e.rx,e.ry)},rect:function(t){var e=K(t);return S(e.x||0,e.y||0,e.width,e.height,e.rx,e.ry)},image:function(t){var e=K(t);return S(e.x||0,e.y||0,e.width,e.height)},line:function(t){return"M"+[t.attr("x1")||0,t.attr("y1")||0,t.attr("x2"),t.attr("y2")]},polyline:function(t){return"M"+t.attr("points")},polygon:function(t){return"M"+t.attr("points")+"z"},deflt:function(t){var e=t.node.getBBox();return S(e.x,e.y,e.width,e.height)}};t.path=i,t.path.getTotalLength=X,t.path.getPointAtLength=V,t.path.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return z(t,e).end;var o=z(t,i,1);return e?z(o,e).end:o},k.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},k.getPointAtLength=function(t){return V(this.attr("d"),t)},k.getSubpath=function(e,i){return t.path.getSubpath(this.attr("d"),e,i)},t._.box=o,t.path.findDotsAtSegment=c,t.path.bezierBBox=h,t.path.isPointInsideBBox=l,t.closest=function(e,i,r,n){for(var s=100,a=o(e-s/2,i-s/2,s,s),c=[],h=r[0].hasOwnProperty("x")?function(t){return{x:r[t].x,y:r[t].y}}:function(t){return{x:r[t],y:n[t]}},d=0;1e6>=s&&!d;){for(var u=0,f=r.length;f>u;u++){var g=h(u);if(l(a,g.x,g.y)){d++,c.push(g);break}}d||(s*=2,a=o(e-s/2,i-s/2,s,s))}if(1e6!=s){var p,m=1/0;for(u=0,f=c.length;f>u;u++){var y=t.len(e,i,c[u].x,c[u].y);m>y&&(m=y,c[u].len=y,p=c[u])}return p}},t.path.isBBoxIntersect=d,t.path.intersection=y,t.path.intersectionNumber=v,t.path.isPointInside=_,t.path.getBBox=C,t.path.get=q,t.path.toRelative=x,t.path.toAbsolute=A,t.path.toCubic=I,t.path.map=L,t.path.toString=r,t.path.clone=n}),o.plugin(function(t){var o=Math.max,r=Math.min,n=function(t){if(this.items=[],this.bindings={},this.length=0,this.type="set",t)for(var e=0,i=t.length;i>e;e++)t[e]&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},s=n.prototype;s.push=function(){for(var t,e,i=0,o=arguments.length;o>i;i++)t=arguments[i],t&&(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},s.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},s.forEach=function(t,e){for(var i=0,o=this.items.length;o>i;i++)if(t.call(e,this.items[i],i)===!1)return this;return this},s.animate=function(o,r,n,s){"function"!=typeof n||n.length||(s=n,n=i.linear),o instanceof t._.Animation&&(s=o.callback,n=o.easing,r=n.dur,o=o.attr);var a=arguments;if(t.is(o,"array")&&t.is(a[a.length-1],"array"))var c=!0;var h,l=function(){h?this.b=h:h=this.b},d=0,u=this,f=s&&function(){++d==u.length&&s.call(this)};return this.forEach(function(t,i){e.once("snap.animcreated."+t.id,l),c?a[i]&&t.animate.apply(t,a[i]):t.animate(o,r,n,f)})},s.remove=function(){for(;this.length;)this.pop().remove();return this},s.bind=function(t,e,i){var o={};if("function"==typeof e)this.bindings[t]=e;else{var r=i||t;this.bindings[t]=function(t){o[r]=t,e.attr(o)}}return this},s.attr=function(t){var e={};for(var i in t)this.bindings[i]?this.bindings[i](t[i]):e[i]=t[i];for(var o=0,r=this.items.length;r>o;o++)this.items[o].attr(e);return this},s.clear=function(){for(;this.length;)this.pop()},s.splice=function(t,e){t=0>t?o(this.length+t,0):t,e=o(0,r(this.length-t,e));var i,s=[],a=[],c=[];for(i=2;i<arguments.length;i++)c.push(arguments[i]);for(i=0;e>i;i++)a.push(this[t+i]);for(;i<this.length-t;i++)s.push(this[t+i]);var h=c.length;for(i=0;i<h+s.length;i++)this.items[t+i]=this[t+i]=h>i?c[i]:s[i-h];for(i=this.items.length=this.length-=e-h;this[i];)delete this[i++];return new n(a)},s.exclude=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]==t)return this.splice(e,1),!0;return!1},s.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},s.getBBox=function(){for(var t=[],e=[],i=[],n=[],s=this.items.length;s--;)if(!this.items[s].removed){var a=this.items[s].getBBox();t.push(a.x),e.push(a.y),i.push(a.x+a.width),n.push(a.y+a.height)}return t=r.apply(0,t),e=r.apply(0,e),i=o.apply(0,i),n=o.apply(0,n),{x:t,y:e,x2:i,y2:n,width:i-t,height:n-e,cx:t+(i-t)/2,cy:e+(n-e)/2}},s.clone=function(t){t=new n;for(var e=0,i=this.items.length;i>e;e++)t.push(this.items[e].clone());return t},s.toString=function(){return"Snap\u2018s set"},s.type="set",t.Set=n,t.set=function(){var t=new n;return arguments.length&&t.push.apply(t,Array.prototype.slice.call(arguments,0)),t}}),o.plugin(function(t,i){function o(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}function r(e,i,r){i=p(i).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],i=t.parseTransformString(i)||[];for(var n,s,a,c,d=Math.max(e.length,i.length),u=[],f=[],g=0;d>g;g++){if(a=e[g]||o(i[g]),c=i[g]||o(a),a[0]!=c[0]||"r"==a[0].toLowerCase()&&(a[2]!=c[2]||a[3]!=c[3])||"s"==a[0].toLowerCase()&&(a[3]!=c[3]||a[4]!=c[4])){e=t._.transform2matrix(e,r()),i=t._.transform2matrix(i,r()),u=[["m",e.a,e.b,e.c,e.d,e.e,e.f]],f=[["m",i.a,i.b,i.c,i.d,i.e,i.f]];break}for(u[g]=[],f[g]=[],n=0,s=Math.max(a.length,c.length);s>n;n++)n in a&&(u[g][n]=a[n]),n in c&&(f[g][n]=c[n])}return{from:l(u),to:l(f),f:h(u)}}function n(t){return t}function s(t){return function(e){return+e.toFixed(3)+t}}function a(t){return t.join(" ")}function c(e){return t.rgb(e[0],e[1],e[2])}function h(t){var e,i,o,r,n,s,a=0,c=[];for(e=0,i=t.length;i>e;e++){for(n="[",s=['"'+t[e][0]+'"'],o=1,r=t[e].length;r>o;o++)s[o]="val["+a++ +"]";n+=s+"]",c[e]=n}return Function("val","return Snap.path.toString.call(["+c+"])")}function l(t){for(var e=[],i=0,o=t.length;o>i;i++)for(var r=1,n=t[i].length;n>r;r++)e.push(t[i][r]);return e}function d(t){return isFinite(parseFloat(t))}function u(e,i){return t.is(e,"array")&&t.is(i,"array")?e.toString()==i.toString():!1}var f={},g=/[a-z]+$/i,p=String;f.stroke=f.fill="colour",i.prototype.equal=function(t,i){return e("snap.util.equal",this,t,i).firstDefined()},e.on("snap.util.equal",function(e,i){var o,m,y=p(this.attr(e)||""),v=this;if(d(y)&&d(i))return{from:parseFloat(y),to:parseFloat(i),f:n};if("colour"==f[e])return o=t.color(y),m=t.color(i),{from:[o.r,o.g,o.b,o.opacity],to:[m.r,m.g,m.b,m.opacity],f:c};if("viewBox"==e)return o=this.attr(e).vb.split(" ").map(Number),m=i.split(" ").map(Number),{from:o,to:m,f:a};if("transform"==e||"gradientTransform"==e||"patternTransform"==e)return i instanceof t.Matrix&&(i=i.toTransformString()),t._.rgTransform.test(i)||(i=t._.svgTransform2string(i)),r(y,i,function(){return v.getBBox(1)});if("d"==e||"path"==e)return o=t.path.toCubic(y,i),{from:l(o[0]),to:l(o[1]),f:h(o[0])};if("points"==e)return o=p(y).split(t._.separator),m=p(i).split(t._.separator),{from:o,to:m,f:function(t){return t}};var b=y.match(g),_=p(i).match(g);return b&&u(b,_)?{from:parseFloat(y),to:parseFloat(i),f:s(b)}:{from:this.asPX(e),to:this.asPX(e,i),f:n}})}),o.plugin(function(t,i,o,r){for(var n=i.prototype,s="hasOwnProperty",a=("createTouch"in r.doc),c=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],h={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},l=(function(t,e){var i="y"==t?"scrollTop":"scrollLeft",o=e&&e.node?e.node.ownerDocument:r.doc;return o[i in o.documentElement?"documentElement":"body"][i]}),d=function(){return this.originalEvent.preventDefault()},u=function(){return this.originalEvent.stopPropagation()},f=function(t,e,i,o){var r=a&&h[e]?h[e]:e,n=function(r){var n=l("y",o),c=l("x",o);if(a&&h[s](e))for(var f=0,g=r.targetTouches&&r.targetTouches.length;g>f;f++)if(r.targetTouches[f].target==t||t.contains(r.targetTouches[f].target)){var p=r;r=r.targetTouches[f],r.originalEvent=p,r.preventDefault=d,r.stopPropagation=u;break}var m=r.clientX+c,y=r.clientY+n;return i.call(o,r,m,y)};return e!==r&&t.addEventListener(e,n,!1),t.addEventListener(r,n,!1),function(){return e!==r&&t.removeEventListener(e,n,!1),t.removeEventListener(r,n,!1),!0}},g=[],p=function(t){for(var i,o=t.clientX,r=t.clientY,n=l("y"),s=l("x"),c=g.length;c--;){if(i=g[c],a){for(var h,d=t.touches&&t.touches.length;d--;)if(h=t.touches[d],h.identifier==i.el._drag.id||i.el.node.contains(h.target)){o=h.clientX,r=h.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();{var u=i.el.node;u.nextSibling,u.parentNode,u.style.display}o+=s,r+=n,e("snap.drag.move."+i.el.id,i.move_scope||i.el,o-i.el._drag.x,r-i.el._drag.y,o,r,t)}},m=function(i){t.unmousemove(p).unmouseup(m);for(var o,r=g.length;r--;)o=g[r],o.el._drag={},e("snap.drag.end."+o.el.id,o.end_scope||o.start_scope||o.move_scope||o.el,i),e.off("snap.drag.*."+o.el.id);g=[]},y=c.length;y--;)!function(e){t[e]=n[e]=function(i,o){if(t.is(i,"function"))this.events=this.events||[],this.events.push({name:e,f:i,unbind:f(this.node||document,e,i,o||this)});else for(var r=0,n=this.events.length;n>r;r++)if(this.events[r].name==e)try{this.events[r].f.call(this)}catch(s){}return this},t["un"+e]=n["un"+e]=function(t){for(var i=this.events||[],o=i.length;o--;)if(i[o].name==e&&(i[o].f==t||!t))return i[o].unbind(),i.splice(o,1),!i.length&&delete this.events,this;return this}}(c[y]);n.hover=function(t,e,i,o){return this.mouseover(t,i).mouseout(e,o||i)},n.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var v=[];n.drag=function(i,o,r,n,s,a){function c(c,h,d){(c.originalEvent||c).preventDefault(),l._drag.x=h,l._drag.y=d,l._drag.id=c.identifier,!g.length&&t.mousemove(p).mouseup(m),g.push({el:l,move_scope:n,start_scope:s,end_scope:a}),o&&e.on("snap.drag.start."+l.id,o),i&&e.on("snap.drag.move."+l.id,i),r&&e.on("snap.drag.end."+l.id,r),e("snap.drag.start."+l.id,s||n||l,h,d,c)}function h(t,i,o){e("snap.draginit."+l.id,l,t,i,o)}var l=this;if(!arguments.length){var d;return l.drag(function(t,e){this.attr({transform:d+(d?"T":"t")+[t,e]})},function(){d=this.transform().local})}return e.on("snap.draginit."+l.id,c),l._drag={},v.push({el:l,start:c,init:h}),l.mousedown(h),l},n.undrag=function(){for(var i=v.length;i--;)v[i].el==this&&(this.unmousedown(v[i].init),v.splice(i,1),e.unbind("snap.drag.*."+this.id),e.unbind("snap.draginit."+this.id));return!v.length&&t.unmousemove(p).unmouseup(m),this}}),o.plugin(function(t,i,o){var r=(i.prototype,o.prototype),n=/^\s*url\((.+)\)/,s=String,a=t._.$;t.filter={},r.filter=function(e){var o=this;"svg"!=o.type&&(o=o.paper);var r=t.parse(s(e)),n=t._.id(),c=(o.node.offsetWidth,o.node.offsetHeight,a("filter"));return a(c,{id:n,filterUnits:"userSpaceOnUse"}),c.appendChild(r.node),o.defs.appendChild(c),new i(c)},e.on("snap.util.getattr.filter",function(){e.stop();var i=a(this.node,"filter");if(i){var o=s(i).match(n);return o&&t.select(o[1])}}),e.on("snap.util.attr.filter",function(o){if(o instanceof i&&"filter"==o.type){e.stop();var r=o.node.id;r||(a(o.node,{id:o.id}),r=o.id),a(this.node,{filter:t.url(r)})}o&&"none"!=o||(e.stop(),this.node.removeAttribute("filter"))}),t.filter.blur=function(e,i){null==e&&(e=2);var o=null==i?e:[e,i];return t.format('<feGaussianBlur stdDeviation="{def}"/>',{def:o})},t.filter.blur.toString=function(){return this()},t.filter.shadow=function(e,i,o,r,n){return"string"==typeof o&&(r=o,n=r,o=4),"string"!=typeof r&&(n=r,r="#000"),r=r||"#000",null==o&&(o=4),null==n&&(n=1),null==e&&(e=0,i=2),null==i&&(i=e),r=t.color(r),t.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:r,dx:e,dy:i,blur:o,opacity:n})},t.filter.shadow.toString=function(){return this()},t.filter.grayscale=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},t.filter.grayscale.toString=function(){return this()},t.filter.sepia=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},t.filter.sepia.toString=function(){return this()},t.filter.saturate=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-e})},t.filter.saturate.toString=function(){return this()},t.filter.hueRotate=function(e){return e=e||0,t.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:e})},t.filter.hueRotate.toString=function(){return this()},t.filter.invert=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:e,amount2:1-e})},t.filter.invert.toString=function(){return this()},t.filter.brightness=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:e})},t.filter.brightness.toString=function(){return this()},t.filter.contrast=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:e,amount2:.5-e/2})},t.filter.contrast.toString=function(){return this()}}),o.plugin(function(t,e){var i=t._.box,o=t.is,r=/^[^a-z]*([tbmlrc])/i,n=function(){return"T"+this.dx+","+this.dy};e.prototype.getAlign=function(t,e){null==e&&o(t,"string")&&(e=t,t=null),t=t||this.paper;var s=t.getBBox?t.getBBox():i(t),a=this.getBBox(),c={};switch(e=e&&e.match(r),e=e?e[1].toLowerCase():"c"){case"t":c.dx=0,c.dy=s.y-a.y;break;case"b":c.dx=0,c.dy=s.y2-a.y2;break;case"m":c.dx=0,c.dy=s.cy-a.cy;break;case"l":c.dx=s.x-a.x,c.dy=0;break;case"r":c.dx=s.x2-a.x2,c.dy=0;break;default:c.dx=s.cx-a.cx,c.dy=0}return c.toString=n,c},e.prototype.align=function(t,e){return this.transform("..."+this.getAlign(t,e))}}),o});